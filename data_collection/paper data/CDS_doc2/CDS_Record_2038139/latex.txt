# Alignment of the ATLAS Inner Detector with the initial LHC data at \(\sqrt{s}=13\) TeV

The ATLAS Collaboration

###### Abstract

The alignment of the ATLAS Inner Detector tracking system has been performed using first LHC proton-proton collision data at the \(\sqrt{s}=13\) TeV taken in June 2015. Starting from the first alignment determined using cosmic ray data collected early in the year, the description of the detector geometry has been updated using first collision data. The procedure uses a least squares minimization algorithm to align the newly installed Insertable B-Layer pixel detector relative to the already existing Inner Detector, which was precisely aligned already during LHC Run 1. The procedures applied as well as the performance of the resulting alignment are presented. The stability of the detector system over time, the Insertable B-Layer in particular, observed during the first weeks of LHC operation is reported.

The ATLAS Collaboration

The ATLAS Inner Detector

The alignment of the ATLAS Inner Detector tracking system has been performed using first LHC proton-proton collision data at the \(\sqrt{s}=13\) TeV taken in June 2015. Starting from the first alignment determined using cosmic ray data collected early in the year, the description of the detector geometry has been updated using first collision data. The procedure uses a least squares minimization algorithm to align the newly installed Insertable B-Layer pixel detector relative to the already existing Inner Detector, which was precisely aligned already during LHC Run 1. The procedures applied as well as the performance of the resulting alignment are presented. The stability of the detector system over time, the Insertable B-Layer in particular, observed during the first weeks of LHC operation is reported.

The ATLAS Inner Detector

The ATLAS Inner Detector

The alignment of the ATLAS Inner Detector tracking system has been performed using first LHC proton-proton collision data at the \(\sqrt{s}=13\) TeV taken in June 2015. Starting from the first alignment determined using cosmic ray data collected early in the year, the description of the detector geometry has been updated using first collision data. The procedure uses a least squares minimization algorithm to align the newly installed Insertable B-Layer pixel detector relative to the already existing Inner Detector, which was precisely aligned already during LHC Run 1. The procedures applied as well as the performance of the resulting alignment are presented. The stability of the detector system over time, the Insertable B-Layer in particular, observed during the first weeks of LHC operation is reported.

## 1 Introduction

ATLAS [1] is a general purpose experiment at CERN's Large Hadron Collider (LHC) [2]. During Run 1, precise measurements of Standard Model processes and searches for new physics phenomena have been performed by the ATLAS Collaboration, with the discovery of the Higgs boson [3] representing the highlight of the Run 1 physics program.

Charged particle trajectories are reconstructed in ATLAS by the Inner Detector (ID) tracking system [4] that is one of four detector systems additionally including the Calorimeters, the Muon Spectrometers, and the forward detectors [1]. The latter three detector components are not discussed further in this note.

The precision of the measurement of the parameters of the charged particle trajectories is limited by a combination of intrinsic resolution and additional uncertainties coming from imprecise descriptions of the magnetic field, material distribution and detector geometry. The purpose of the ID alignment is the precise determination of the positions of the sensitive devices as well as their geometrical distortions relative to the ideal or designed geometry. At the end of Run 1, the positions of the individual active detector modules in all three ID subsystems were aligned to better than 1 \(\mu\)m [5].

During the first long shutdown (LS1), a number of upgrades have been performed for the ATLAS ID. The Pixel detector was extracted, certain service systems refurbished, and the Insertable B-Layer (IBL) [6] was added as a new innermost tracking layer closest to the beam pipe. The beam pipe itself was replaced by a new one with a smaller radius in order to allow for the installation of the IBL. These changes to the ID caused its components to move with respect to their positions at the end of Run 1. After reinstallation, the position of the Pixel detector is expected to be within 100 \(\mu\)m of the original location, due to the intrinsic precision of the Pixel mounting system inside the Pixel support tube (PST). The PST was not removed during LS1. In this context, the positions of the previously installed three Pixel layers are also known with good precision. This is in contrast to the IBL, where the initial position is known from survey data only with lower accuracy than required for precision tracking. Although the barrels of the SCT and TRT have not been removed during LS1, their end-caps counterparts were displaced to grant access to other parts of the detector.

This note reports on the first track-based alignment [5; 7] of the refurbished Inner Detector performed on 13 TeV collision data. The alignment campaign and its result, hereafter called _June alignment_, is described and the performance compared to the geometry description derived using cosmic ray data collected in early 2015 [8], hereafter called _March alignment_.

In order to simplify the naming convention, in the following the term Pixel will be used to refer only to three outer layers of pixels present already during Run 1 and IBL will refer to the innermost new layer.

This note is organized as follows. Section 2 provides a brief description of the upgraded ID. Further information, including definition of the coordinate systems used in ATLAS can be found in [8]. Section 3 describes data samples, track selection and the alignment procedure. The mechanical stability of the crucial ID structures observed during the first 13 TeV LHC runs is reported in section 6. The performance of the ID alignment is reviewed in section 4, followed by section 5 which describes additional measurement uncertainties folded into hit errors due to residual misalignments (hereafter called the _Error Scaling_), which are used for physics data reconstruction. Conclusions are given in section 7.

## 2 The Upgraded ATLAS Inner Detector

In Run 2, the ATLAS Inner Detector [4] consists of three subdetectors, the Pixel detector (including the IBL), the Semiconductor Tracker (SCT), and Transition Radiation Tracker (TRT), all embedded in a 2 T axial magnetic field and designed to reconstruct charged particles within a pseudorapidity range of \(|\eta|<2.5\) (see Table 1 for technical details ).

The Pixel detector consists of 1,744 silicon pixel modules arranged in three barrel layers and two end caps with three disks each. The expected hit (detector measurement) resolution is 10 \(\mu\)m in the \(r\)-\(\phi\)1 and 115 \(\mu\)m in \(z\).

Footnote 1: The resolution in \(r\)–\(\phi\) is improved to \(\sim 5\)\(\mu\)m using a clustering technique based on a set of artificial neural networks [9].

The IBL has been added as an additional layer to the Pixel detector, reducing the distance from the interaction point to the first tracking layer. It consists of 280 silicon pixel modules arranged on 14 azimuthal carbon fiber staves surrounding the beam pipe at a mean radius of 33 mm. Each stave is instrumented with 20 sensors distributed as follows: 12 double-chip planar modules, covering the region of \(|\eta|<2.7\), and 8 single chip modules with 3D sensors [10], four at each end of the stave (\(2.7<|\eta|<3\)). The size of the detection units are given in Table 1. The expected hit resolution with conventional clustering is \(\sim 8\)\(\mu\)m in \(r\)-\(\phi\) and \(\sim 40\)\(\mu\)m in \(z\)[6]. In order to accommodate the IBL, the beam pipe inside the ATLAS detector has been exchanged, reducing the outer radius of the pipe to 24.7 mm [6].

The SCT consists of 4,088 silicon strip modules, arranged in four barrel layers and two end caps with nine wheels each. Each module is composed of two layers of silicon strip detector sensors glued back-to-back with a relative stereo angle of 40 mrad. The intrinsic resolution is \(\sim 17\)\(\mu\)m and \(\sim 580\)\(\mu\)m in \(r\)-\(\phi\) and \(z\), respectively.

The TRT is the outermost of the ID subdetectors and is made of 350,848 gas-filled straw tubes with a single hit resolution of approximately 130 \(\mu\)m along \(r\)-\(\phi\).

## 3 Alignment Algorithm and Procedure

### Data Samples

The data used for this alignment were collected during the first 13 TeV LHC collision run. Data were recorded from 3rd till 14th of June 2015, corresponding to the integrated luminosity of 7.9 pb\({}^{-1}\).

\begin{table}
\begin{tabular}{l c c c} \hline \hline Subdetector & Element size & Intrinsic resolution [\(\mu\)m] & Radius barrel layers [mm] \\ \hline IBL & 50 \(\mu\)m\(\times\)250 \(\mu\)m & 8\(\times\)40 & 33.2 \\ Pixel & 50 \(\mu\)m\(\times\)400 \(\mu\)m & 10\(\times\)115 & 50.5, 88.5, 122.5 \\ SCT & 80 \(\mu\)m & 17 & 299, 371, 443, 514 \\ TRT & 4 mm & 130 & from 554 to1082 \\ \hline \hline \end{tabular}
\end{table}
Table 1: Summary of the main characteristics of the ID subdetectors. The intrinsic resolution of the IBL and the Pixel is reported along \(r\)–\(\phi\) and \(z\), while for SCT and TRT is only along \(r-\phi\). For SCT and TRT the element size refers to the spacing of the readout strips and the diameter of the straw tube, respectively.

The collision data stream used as input for the ID alignment contained a subset of physics events recorded at a rate of about 10 Hz and used for prompt reconstruction. The contents in terms of triggers is to cover performance of the whole detector. In order to ensure a good quality of the reconstructed tracks used by the alignment and in order to minimize the impact of material effects, the following track selection criteria were used: tracks are required to contain at least one hit recorded with the Pixel detector, more than 7 hits in the silicon (Pixel and SCT hits included), more than 25 hits in the TRT and have a \(p_{\mathrm{T}}\) above 3 GeV. The final sample used for performance validation consisted of about 1.4 million tracks. The corresponding Monte Carlo sample of about 2.7 million tracks was obtained from simulation of di-jet events, reweighted to match \(\eta\) and \(p_{\mathrm{T}}\) distributions in data. Distributions of basic kinematic parameters (see Sec. 3.2 for definitions) of collision tracks used for performance plots of Sec. 4 are shown in Fig. 1.

Cosmic-ray muons are also recorded by ATLAS during the LHC collisions, taking advantage of the fact that not all LHC bunches are filled with protons. The cosmic-ray trigger seeded from the ATLAS Muon System is enabled during those LHC empty bunches. The trigger additionally requires that the muon crosses the ID volume. Detailed requirements for cosmics ray muons will be described in Sec. 4.2. Kinematic parameter distributions for cosmic ray muons used in Sec. 4.2 are shown in Fig. 2. No corresponding Monte Carlo was available at the time of writing. This cosmic-ray sample was not used to derive the alignment corrections. However, as a complementary sample recorded simultaneously under exactly the same conditions as for the proton-proton collisions, it was used to independently assess alignment results.

### Alignment Algorithm

The ID alignment uses the least squares (_Global_\(\chi^{2}\)) track based algorithm which is described elsewhere [11; 12; 13; 14]. The algorithm is implemented within the ATLAS software framework and is based on the simultaneous minimization of the \(\chi^{2}\) of all track-hit residuals, i.e., the distance from the extrapolated track position in a given detector element to the hit recorded in that same element. If \(\mathbf{r}(\mathbf{a},\mathbf{\tau})\) is the vector of track-hit residuals for a given track, which depends on both the alignment constants (\(\mathbf{a}\)) and the track parameters (\(\mathbf{\tau}\)), one can define:

\[\chi^{2}=\sum_{\mathrm{tracks}}\mathbf{r}^{T}(\mathbf{a},\mathbf{\tau})\ V^{-1}\ \mathbf{r}(\mathbf{a},\mathbf{\tau}), \tag{1}\]

Figure 1: Kinematic parameter distributions for the sample used for alignment performance validation. Distributions in data runs 267638 and 267639 are compared to Monte Carlo simulation.

where \(V\) represents the covariance matrix of the hit measurements. The trajectory of a charged particle propagating in the magnetic field is parameterized in the following way [15]:

\[\tau=(d_{0},z_{0},\phi_{0},\theta,q/p). \tag{2}\]

The transverse impact parameter (\(d_{0}\)) is defined as the distance of closest approach in the transverse plane of the track to the primary vertex, while the longitudinal impact parameter (\(z_{0}\)) is the \(z\) coordinate of the perigee point. \(\phi_{0}\) is the azimuthal angle of the track at the perigee, and \(\theta\) is its polar angle. The ratio \(q/p\) is the inverse of the particle momentum (\(p\)) multiplied by its charge (\(q\)). The transverse momentum, \(p_{\rm T}\), is computed as \(p_{\rm T}=p\sin\theta\). The particle pseudorapidity \(\eta\) is defined as: \(\eta=-\ln\tan(\theta/2)\). The \(\chi^{2}\) minimization is done with respect to the alignment parameters \(\mathbf{a}\) (\(d\chi^{2}/d\mathbf{a}=0\)). The procedure is iterative and has to start form a prior assumption (knowledge) of the geometry.

The formalism naturally allows for additional constraints on the alignment solution. Track parameter constraints involve adding pseudo-measurements to the residual vector (\(\mathbf{r}\)) that depend only on track parameters and external measurements like the beam spot, primary vertex, momentum, etc. Direct constraints on the geometry can make use of assembly survey information and known mechanical tolerances.

### Alignment levels

The alignment of the detector structures is performed at several levels of granularity. Figure 3 presents schematically the hierarchy of alignable structures for the silicon part of the ID tracker. Details of the IBL, Pixels, SCT and TRT structures as used at the various alignment levels are given in Table 2. First, the largest structures are aligned as they can account for the collective movements of the individual sensitive elements or modules.

Six alignment parameters (given by the tree translations \(T_{x},\ T_{y},\ T_{z}\), and the three rotations \(R_{x},\ R_{y},\ R_{z}\) of each alignable structure) are defined for each alignable structure. An exception is made for TRT barrel where TRT wires spanning along the beam line provide no sensitivity along this direction. Further exception is made for the TRT wires at level 3. For these, only two parameters per wire are defined: the sideways translation with respect to the radial direction and the rotation with respect to the radial axis for

Figure 2: Kinematic parameter distributions for the cosmic ray data used for alignment performance validation. The asymmetric shape of the distribution in \(\eta\) is typical for cosmic rays in ATLAS and comes from the geometry of the cavern shafts.

the barrel wires. For the wires in the end-cap wheels the equivalent parameters are defined [16], although the naming convention varies to adapt for the wheel structures.

The design of the alignment algorithm is flexible to allow alignment of each subsystem at individually selected level. One can also specify which of the 6 DoF of each alignable structure are enabled or disabled in the procedure.

### June alignment procedure

The _March alignment_[8] constants already contain level 3 corrections of the IBL, although performed using data collected with IBL operated at -20\({}^{\circ}\)C. However, during this initial 13 TeV collision run the IBL was changed to -10\({}^{\circ}\)C for operational reasons. On the other hand, it was observed in the cosmic ray run that the IBL staves shape depended on the temperature and was subject to parabolic bowing in the local x direction [8; 17]. The change of the stave bowing magnitude with the operation temperature was determined to be -10 \(\mu\)m/K. This makes a module level alignment of the IBL mandatory in order to correct for the temperature effect on the IBL staves.

A first pass of the alignment chain was performed in order to correct for the possible relative movement of the big structures. During Run 1, it was observed that such relative movements were introduced when the system conditions changed [5], for instance due to magnet power cycling, detector cooling system or high voltage (HV) being switched on/off. This initial alignment chain consisted of the following steps:

Figure 3: Alignment levels for the silicon part of the Inner Detector. Level 1 considers the big structures, pixel system, SCT barrel and end-caps. Level 2 splits the barrels in layers and the end-caps in disks or wheels, while the level 3 considers individual modules.

* a Level 1 alignment of the IBL, Pixel, SCT (barrel and end caps) with the TRT kept as global reference2. Footnote 2: In order to constrain the global displacements along the Z axis, the \(T_{z}\) of the SCT barrel was kept frozen, as the TRT can not constrain that degree of freedom.
* It was followed by a Level 2 alignment of the IBL, Pixel barrel layers and end cap disks, SCT barrel layers, though keeping the SCT end caps at Level 1. Again the TRT was kept as a global reference system.
* The third step consisted of aligning IBL and Pixel barrel at the stave level (Level 2.7 in Table 2). All 6 DoF were used for the staves, but the DoF enabled for the Pixels end-cap disks were the within plane alignment corrections (\(T_{x},\ T_{y}\) and \(R_{z}\)). SCT and TRT were treated as in the previous step.
* The final step of the first pass alignment aimed to correct the shape of the IBL staves due to the change in the operation temperature. Therefore, a level 3 alignment of the IBL was performed using all 6 degrees of freedom for each module. The soft mode cut technique [7] was used in order to stabilize numerically the solution.

\begin{table}
\begin{tabular}{r l r r} \hline \hline Level & Brief description & Structures & DoF \\ \hline
1 & IBL detector & 1 & 6 \\  & Whole Pixel detector (barrel and end-caps) & 1 & 6 \\  & SCT barrel and 2 end-caps & 3 & 18 \\  & TRT barrel and 2 end-caps & 3 & 17\({}^{*}\) \\ \cline{2-4}  & Total: & 8 & 47 \\ \hline
2 & IBL detector & 1 & 6 \\  & Pixel barrel layers & 3 & 18 \\  & Pixel end-caps disks & 2 \(\times\) 3 & 36 \\  & SCT barrel split into layers & 4 & 24 \\  & SCT end-caps split into disks & 2 \(\times\) 9 & 108 \\  & TRT barrel: 3 layers of 32 modules each & 3 \(\times\) 32 & 480\({}^{*}\) \\  & TRT end cap wheels (40) & 2 \(\times\) 40 & 480 \\ \cline{2-4}  & Total: & 208 & 792 \\ \hline
2.7 & IBL split into staves & 14 & 84 \\  & Pixel barrel layers split into staves & 22+38+52 & 672 \\  & Pixel end-cap disks & 2 \(\times\) 3 & 18 \\ \cline{2-4}  & Total: & 132 & 1,878 \\ \hline
3 & IBL modules & 280 & 1,680 \\  & Pixel modules & 1,744 & 10,464 \\  & SCT modules & 4,088 & 24,528 \\  & TRT barrel wires & 105,088 & 210,176\({}^{**}\) \\  & TRT end-cap wires & 245,760 & 491,520\({}^{**}\) \\ \cline{2-4}  & Total silicon: & 6,112 & 36,672 \\  & Total TRT wires: & 350,848 & 701,696 \\ \hline \hline \end{tabular} \({}^{*}\)\(T_{z}\) fixed. \({}^{**}\) only two DoF per wire considered (see text).

\end{table}
Table 2: Alignment levels as defined in the software for each of the sub-systems. Naming, brief description, number of structures and the total number of degrees-of-freedom (DoF) to be aligned at each level are given.

This first pass alignment was subsequently used for the initial reconstruction of the collected data as well as for the beam spot determination.

A second pass alignment was performed with the aim of improving the resolution on the transverse impact parameter of the tracks. An important addition with respect to the first pass alignment was the inclusion of the beam spot constraint (Section 3.2). This constraint is introduced into the alignment procedure by adding to the track an impact parameter with respect to the beam spot centroid as a pseudo-measurement. This way, the \(\chi^{2}\) minimization also takes care of the impact parameter minimization with respect to the beam spot. The sequence of the second pass alignment was as follows:

* first a Level 2 alignment of the Pixel detector and IBL keeping SCT and TRT fixed and with the beam spot constraint applied on the selected tracks.
* The second step consisted of a stave level alignment of the IBL, again applying the beam spot constraint and keeping the rest of the subsystems fixed.
* The final step was a Level 3 (module level) alignment of the IBL and Pixel using the soft mode cut technique, again with the beam spot constraint and the rest of subsystems kept fixed.

Table 3 summarizes up to which alignment level, geometry corrections were computed for each subsystem in the June campaign. This set of alignment constants is referred as: _June alignment_.

## 4 Alignment Quality

Performance of alignment can be assessed by means of track-hit residual distributions and observables sensitive to the track parameter resolution. The earlier use tracks reconstructed in 13 TeV collision events. The latter use the technique of split tracks in cosmic ray events. Events and tracks used in the following were selected as described in Sections 3.1 and 3.4.

### Residual distributions with collision data

In this section a selection of most relevant distributions of track-hit residuals is presented. In all cases residuals are calculated after the measurement used for constructing the residual has been excluded from the track fit (unbiased residuals).

\begin{table}
\begin{tabular}{l l l} \hline \hline detector & part & \multicolumn{2}{c}{executed alignment} \\ \hline IBL & & Level 3 \\ \hline Pixel & barrel & Level 3 \\  & end-caps & Level 3\({}^{*}\) \\ \hline SCT & barrel & Level 2\({}^{**}\) \\  & end-caps & Level 1 \\ \hline TRT & barrel & fixed \\  & end-caps & fixed \\ \hline \hline \multicolumn{3}{l}{\({}^{*}\) Only in-plane DoF. \({}^{**}\)\(T_{z}\) fixed.} \\ \end{tabular}
\end{table}
Table 3: Summary of the levels of alignment applied in the _June alignment_ campaign for each ID subsystem.

The main interest of the commissioning process was focused on the newly installed IBL subsystem. Its alignment had to be performed afresh to match the required tracking quality of the ID. The task was particularly important as IBL is now the most precise device of the ID on one hand, and the closest to the interaction point on the other. This makes it pivotal for impact parameter reconstruction and, consequently, for vertexing and lifetime-sensitive measurements.

Figure 4 compares residual distributions in the local x and local y of the IBL planar sensors [8] for the _June alignment_, the _March alignment_ and the perfectly aligned simulation. The improvement is visible in all plots. In particular, in the most sensitive (local x) direction, the distributions after alignment approach these of perfectly aligned simulation.

Figure 5 compares residual distributions in the local x and local y of the Pixel detector for the _June alignment_, the _March alignment_ and the perfectly aligned simulation. The barrel layers and the forward discs are shown separately.

Analogous distributions for the SCT detector and for the TRT are shown in Figures 6 and 7, respectively. These have also been split in barrel and end-cap regions. The improvements seen in the the SCT and TRT come from the Level 2 corrections only, and demonstrate that the module-level alignment (Level 3) has not been significantly degraded over the LS1.

For the Pixel detector, there is an additional effect reflecting the alignment quality of the adjacent IBL. Further refinement, in particular of the local y alignment of the IBL is clearly needed.

Another way of assessing alignment quality is the inspection of the means of the residual distributions. This way, the intrinsic resolution of the sensors and possibly their imperfect modeling in the simulation is decoupled. Moreover, looking at the means as a function of sensor position can reveal collective deformations. This is how the temperature-induced bowing of the IBL staves was first observed analyzing cosmic muon data [8]. The _March alignment_ attempted to correct this deformation, however, it was performed on data collected at lower temperature than the one at which IBL was operated during collisions (see 3.4). Besides, the directional topology of cosmic ray tracks did not allow to align the IBL equally well in all \(\phi\) regions. This is why realignment of the bowing deformation was one of the crucial tasks with the first collision data. Fig. 8 shows means of IBL residuals in the local x and local y directions

Figure 4: The local x (left) and local y (right) residual distribution for the IBL planar sensors for the 13 TeV collision data sample reconstructed with the June alignment (black) and March alignment (green) as well as observed in the perfectly aligned simulation (red). The distributions are integrated over all hits assigned to tracks in the respective IBL regions. The parameter \(\mu\) represent the mean of the distributions. The distributions have been normalized to the same number of entries.

as a function of sensor global z position (along the beam line). A collective deformation remaining in the _March alignment_ is clearly visible in both measurement directions. In particular, the local x residual

Figure 5: The Pixel layers local x (left) and local y (right) residual distribution for the 13 TeV collision data sample reconstructed with the June alignment (black) and March alignment (green) as well as observed in the perfectly aligned simulation (red). Top row show residuals in the Barrel part while the bottom row show residuals in the End-Caps. The distributions are integrated over all hits assigned to tracks in the respective Pixel regions. The parameter \(\mu\) represent the mean of the distributions. The distributions have been normalized to the same number of entries.

Figure 6: The SCT Barrel (left) and End-Cap (right) residual distribution for the 13 TeV collision data sample reconstructed with the June alignment (black) and March alignment (green) as well as observed in the perfectly aligned simulation (red). The distributions are integrated over all hits assigned to tracks in the respective SCT regions. The parameter \(\mu\) represent the mean of the distributions. The distributions have been normalized to the same number of entries.

pattern seen with the _March alignment_ is consistent with an average stave bowing due to the different operational temperature. This was efficiently eliminated with a Level 3 realignment of the IBL in the _June alignment_ campaign. It is worth noting that, in case of a pure bowing deformation, residual means at the stave extremities should be unaltered. The overall offset seen in the left plot of Fig. 8 indicates an additional Level 1 rotation of the IBL which could have occurred due to severe environmental cycles between the two data taking periods.

The overall improvement obtained with the collision data alignment can be summarized by the one-dimensional distributions of the mean residuals per IBL sensor. Fig. 9 shows the distributions for the two sensitive measurement directions. The achieved local alignment accuracy is at the level of one micron in the most sensitive direction (local x) and under three microns in the direction along the beam line.

Figure 8: The IBL mean of the local x (left) and local y (right) residual distributions as a function of the global z position of the module observed with the 13 TeV collision data sample reconstructed with the June alignment (black) and March alignment (green) as well as observed in the perfectly aligned simulation (red).

Figure 7: The TRT Barrel (left) and End-Cap (right) residual distribution for the 13 TeV collision data sample reconstructed with the June alignment (black) and March alignment (green) as well as observed in the perfectly aligned simulation (red). The distributions are integrated over all hits assigned to tracks in the respective TRT regions. The parameter \(\mu\) represent the mean of the distributions. The distributions have been normalized to the same number of entries.

### Track parameter resolution using cosmic ray data

The expected resolution of the perigee track parameters can be calculated by splitting cosmic-ray tracks traversing the full detector into two halves, as illustrated in Fig. 10. Since muon tracks from cosmic-ray events traverse the detector from top to bottom, the resolutions can only be derived for the barrel detectors. In order to select tracks with good quality, the split tracks are each required to have at least 1, 8 and 25 hits in the barrel of the Pixel, SCT and TRT detectors respectively, and a transverse momentum of more than 2 GeV. The perigee parameters, \(\tau_{\rm up}\) and \(\tau_{\rm down}\), of each split-track pair are compared to each other and their difference \(\Delta\)(Up-Down) is compared for the March and the June alignment (Fig. 11). Since both tracks come from the same particle, their difference for each perigee parameter \(\tau\) has a variance \(\sigma^{2}(\Delta\tau)\), which is two times the variance of the parameters of each track. The resolution of the track parameter is therefore given by the root mean square of the \(\Delta\tau\) variance divided by \(\sqrt{2}\).

All distributions indicate an improvement relative to the cosmic ray alignment, but the transverse impact parameter (\(d_{0}\)) displays the most significant refinement.

Figure 10: Diagram illustrating the split-track track parameter study. In red is shown a full track reconstructed in the inner detector, while in green are shown the two split tracks reconstructed in the top and the bottom part.

Figure 9: Distribution of the mean of the residuals per IBL module, local x (left) and local y (right), as reconstructed with the 13 TeV collision data sample. June alignment (black) and March alignment (green).

Figure 11: Distribution of the difference of the reconstructed track impact parameters \(\Delta d_{0}\) (upper left), of the azimuthal angle at the track perigee \(\Delta\phi_{0}\) (upper right), of the difference of the reconstructed track charge over transverse momentum \(\Delta q/p_{\mathrm{T}}\) (lower left) and of the longitudinal impact parameter \(\Delta z_{0}\) (lower right) using cosmic ray tracks reconstructed in the top part of the inner detector with respect to track reconstructed in the bottom part. June alignment is shown in red while March alignment is shown in green. The distributions have been normalized to the same number of entries.

Figure 12: The IBL local x (left) and local y (right) residual pull distributions for the 13 TeV collision data sample reconstructed with the June alignment (black) using the error scaling given in Table 4. The distributions are integrated over all hits-on-tracks in IBL modules. The parameter \(\mu\) is the mean and \(\sigma\) is the width of a Gaussian fit.

## 5 Adjustment of the Hit Errors

As commented in Section 1, knowledge of the exact positions of the measurements on a track is limited, among other factors, by the accuracy to which the location of the sensitive elements is known. To account for the fact, measurement errors used for track reconstruction are adjusted in order to bring residual pull distributions to unit width which allows to evaluate the hit uncertainty \(\sigma\) subsequently used in the track fitting for physics analyses. The uncertainty is computed from the intrinsic resolution \(\sigma_{0}\) provided by the sensor characteristics as follows:

\[\sigma=a\cdot\sigma_{0}\oplus b \tag{3}\]

where \(a\) is a scaling factor and \(b\) a constant term. One can interpret \(b\) as an estimate of the residual misalignment of the detector elements. The constants, \(a\) and \(b\) are evaluated for each subdetector part and for the measurements in each of its sensitive coordinates. The procedure is iterative and uses tracks with \(p_{T}>5\) GeV cut in order to reduce dependence on the multiple scattering. In the current implementation, \(a=1\) for all cases, while \(b\) is evaluated from the residual pull distribution.

The residual pull distributions allow to verify if the updated hit error reflects properly the uncertainty of the measurement. Correctly attributed uncertainties of the measurements result in the unit width of the pull distribution. Table 4 presents the error scaling for each sub detector and measurement coordinate as estimated with the _June alignment_. The determined error scaling values represent the upper limit on the local alignment accuracy, as other effects like material description or modeling of the intrinsic

Figure 13: The Pixel local x (top left) and local y (top right), SCT local x (bottom left), and TRT (bottom right) residual pull distributions for the 13 TeV collision data sample reconstructed with the June alignment (black) using the error scaling given in Table 4. The distributions are integrated over all hits-on-tracks in the respective detector modules. The parameter \(\mu\) is the mean and \(\sigma\) is the width of a Gaussian fit.

resolution may also contribute to the width of the observed residual distributions. Figure 12 shows the pull distribution for the residuals in the IBL after applying the error scaling. The corresponding distributions for the other ID subsystems are shown in Fig. 13.

## 6 Time-dependent Stability

From Run 1 results [5], it was concluded that changes in the environmental conditions of the ATLAS detector (temperature, magnetic field ramps, power cycles, etc) often lead to significant movements of the ID structures. For this reason, the detector geometry has to be monitored continuously in order to determine the validity periods of alignment constants. The data recorded by ATLAS between the 3rd and the 14th of June 2015 have been used to study the stability of the alignment between runs (Section 3.1). In total, data from 14 different ATLAS runs have been analyzed.

For this study, the Pixel detector was fixed as a reference, while the rest of the subdetectors were aligned at Level 1 with respect to it using the _June alignment_ constants. The full set of 6 DoF were considered for IBL and SCT, while for the TRT, \(T_{z}\) was not included as this coordinate is not well determined by the TRT wires. Figure 14 shows the run by run corrections (\(T_{X}\) and \(T_{Y}\)) found for IBL, SCT and TRT with respect to the baseline constants (_June alignment_).

A significant change of the temperature of the IBL within a run would lead to a change in the bowing of the IBL staves [8; 17]. This would unavoidably affect the quality of the reconstructed data. The first data at 13 TeV have been used to assess the stability of the IBL bowing magnitude during a run. Figure 15 shows the time evolution of the stave bowing magnitude within an typical ATLAS run. The magnitude of the residual bowing fitted with the _June alignment_ is plotted versus the luminosity block3 number. No significant changes in the magnitude of the bowing within the analyzed run have been observed.

\begin{table}
\begin{tabular}{c c r r} \hline \hline detector & part & coordinate & b (\(\mu\)m) \\ \hline IBL & & \(x\) & 6.4 \\  & & \(y\) & 43.6 \\ \hline Pixel & barrel & \(x\) & 5.2 \\  & & \(y\) & 28.6 \\ Pixel & end-caps & \(x\) & 7.5 \\  & & \(y\) & 0 \\ \hline SCT & barrel & \(x\) & 10.8 \\  & end-caps & \(x\) & 8.6 \\ \hline TRT & barrel & \(r\phi\) & 0 \\  & end-caps & \(r\phi\) & 0 \\ \hline \hline \end{tabular}
\end{table}
Table 4: Estimated value of the error scaling term \(b\) for each subdetector part and corresponding to the _June alignment_.

## 7 Conclusions

The initial 7.9 pb\({}^{-1}\)of the 13 TeV proton-proton collisions from LHC have been used to align the ATLAS Inner Detector with a track based algorithm. A special focus on the new IBL detector was necessary as this was the first time this system operated in real LHC conditions. Moreover, a module level alignment was mandatory to adjust the shape of the IBL staves at the operation temperature. The amount of data collected with the collision events was enough to perform an alignment not only of the big structures, but to reach the module level for the IBL system.

Figure 14: The \(T_{X}\) and \(T_{Y}\) global alignment corrections of all IBL, SCT Barrel and TRT Barrel sub-detectors (with respect to the Pixel detector) as a function of the 2015 13 TeV run. Errors shown are statistical uncertainties on the determined alignment parameters and vary according to the duration of the run.

Figure 15: Average residual bowing magnitude of the IBL staves [17] per Luminosity Block in 2015 13 TeV run number 267638 fitted with the _June alignment_. Collisions started around Luminosity Block 300 and the subsequent 200 Luminosity Blocks were analyzed.

The first pass alignment with collision data was used to compute the beam spot parameters, taking the alignment constants derived from the commissioning cosmic ray run (recorded earlier in 2015) as a starting point. The beam spot parameters were subsequently used as a constraint for the tracks used in the second pass alignment.

The run by run stability of the ID has been studied. The results confirmed earlier observations from Run 1, that the ID was stable at a micron level under regular operational conditions. The newly installed IBL proved similar level of stability.

The validation of the June alignment is presented in this note using two types of data: collision events and cosmic ray data collected also during collision runs. Despite the limited precision reached with these initial data, no significant biases in the track parameters are observed. The evaluation of the residual pull distributions has allowed an initial tune of the uncertainty on the hit measurements for each region of the detector.

More detailed and precision studies will be performed with large statistics of data to be collected in the coming months. These will include detailed residual maps, module distortion effects and evaluation of systematic effects on reconstructed track parameters.

## Acknowledgements

We thank CERN for the very successful operation of the LHC, as well as the support staff from our institutions without whom ATLAS could not be operated efficiently.

We acknowledge the support of ANPCyT, Argentina; YerPhI, Armenia; ARC, Australia; BMWFW and FWF, Austria; ANAS, Azerbaijan; SSTC, Belarus; CNPq and FAPESP, Brazil; NSERC, NRC and CFI, Canada; CERN; CONICYT, Chile; CAS, MOST and NSFC, China; COLCIENCIAS, Colombia; MSMT CR, MPO CR and VSC CR, Czech Republic; DNRF, DNSRC and Lundbeck Foundation, Denmark; EPLANET, ERC and NSRF, European Union; IN2P3-CNRS, CEA-DSM/IRFU, France; GNSF, Georgia; BMBF, DFG, HGF, MPG and AvH Foundation, Germany; GSRT and NSRF, Greece; RGC, Hong Kong SAR, China; ISF, MINERVA, GIF, I-CORE and Benoziyo Center, Israel; INFN, Italy; MEXT and JSPS, Japan; CNRST, Morocco; FOM and NWO, Netherlands; BRF and RCN, Norway; MNiSW and NCN, Poland; GRICES and FCT, Portugal; MNE/IFA, Romania; MES of Russia and NRC KI, Russian Federation; JINR; MSTD, Serbia; MSSR, Slovakia; ARRS and MIZS, Slovenia; DST/NRF, South Africa; MINECO, Spain; SRC and Wallenberg Foundation, Sweden; SER, SNSF and Cantons of Bern and Geneva, Switzerland; NSC, Taiwan; TAEK, Turkey; STFC, the Royal Society and Leverhulme Trust, United Kingdom; DOE and NSF, United States of America.

The crucial computing support from all WLCG partners is acknowledged gratefully, in particular from CERN and the ATLAS Tier-1 facilities at TRIUMF (Canada), NDGF (Denmark, Norway, Sweden), CC-IN2P3 (France), KIT/GridKA (Germany), INFN-CNAF (Italy), NL-T1 (Netherlands), PIC (Spain), ASGC (Taiwan), RAL (UK) and BNL (USA) and in the Tier-2 facilities worldwide.

## References

* [1] ATLAS Collaboration, _The ATLAS Experiment at the CERN Large Hadron Collider_, JINST **3** (2008) S08003.
* [2] L. Evans and P. Bryant, _LHC Machine_, JINST **3** (2009) S08001.
* [3] ATLAS Collaboration, _Observation of a new particle in the search for the Standard Model Higgs boson with the ATLAS detector at the LHC_, Phys.Lett. **B716** (2012) 1-29, arXiv: 1207.7214 [hep-ex].
* [4] ATLAS Collaboration, _ATLAS Inner Detector_, Technical Design Report, 1 CERN-LHCC-1997-016, Geneva: CERN, 1997.
* [5] ATLAS Collaboration, _Alignment of the ATLAS Inner Detector and its Performance in 2012_ (2014), ATLAS-CONF-2014-047, url: [https://cds.cern.ch/record/1741021](https://cds.cern.ch/record/1741021).
* [6] ATLAS Collaboration, _ATLAS Insertable \(B-\)Layer Technical Design Report_ (2010), CERN-LHCC-2010-013. ATLAS-TDR-19.
* [7] ATLAS Collaboration, _Common Framework Implementation for the Track-Based Alignment of the ATLAS Detector_ (2014), ATL-SOFT-PUB-2014-003, url: [https://cds.cern.ch/record/1670354](https://cds.cern.ch/record/1670354).
* [8] ATLAS Collaboration, _ATLAS Inner Detector Alignment Performance with February 2015 Cosmic Rays Data_ (2015), ATL-PHYS-PUB-2015-009, url: [https://cds.cern.ch/record/2008724](https://cds.cern.ch/record/2008724).
* [9] ATLAS Collaboration, _A neural network clustering algorithm for the ATLAS silicon pixel detector_ (2014), arXiv: 1406.7690 [hep-ex].
* [10] G. Darbo, _Experience on 3D Silicon Sensors for ATLAS IBL_, JINST **10**.05 (2015) C05001, arXiv: 1411.6937 [physics.ins-det].
* [11] P. Bruckman, A. Hicheur and S. Haywood, _Global \(\chi^{2}\) approach to the alignment of the ATLAS silicon tracking detectors_ (2005), ATL-INDET-PUB-2005-002, url: [https://cds.cern.ch/record/835270](https://cds.cern.ch/record/835270).
* [12] A. Bocci and W. Hulsbergen, _TRT alignment for SR1 cosmics and beyond_ (2007), ATL-INDET-PUB-2007-009, url: [https://cds.cern.ch/record/1039585](https://cds.cern.ch/record/1039585).
* [13] C. Escobar, 'Alignment of the ATLAS silicon tracker and measurement of the top quark mass', CERN-THESIS-2010-092, PhD thesis: Universitat de Valencia, Estudi General, 2010.
* [14] A. K. Morley, 'Electron Bremsstrahlung Studies and Track Based Alignment of the ATLAS Detector', PhD thesis: The University of Melbourne, 2010.
* [15] P. F. Akesson _et al._, _ATLAS Tracking Event Data Model_ (2006), ATL-SOFT-PUB-2006-004, url: [https://cds.cern.ch/record/973401](https://cds.cern.ch/record/973401).
* [16] J. Alison, 'The Road to Discovery: Detector Alignment, Electron Identification, Particle Misidentification, WW Physics, and the Discovery of the Higgs Boson', CERN-THESIS-2012-095, PhD thesis: University of Pennsylvania, 2012.
* [17] ATLAS Collaboration, _Study of the mechanical stability of the ATLAS Insertable B-Layer_ (2015), ATL-INDET-PUB-2015-001, url: [https://cds.cern.ch/record/2022587](https://cds.cern.ch/record/2022587).