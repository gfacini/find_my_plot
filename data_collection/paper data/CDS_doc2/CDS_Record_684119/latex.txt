# ATLAS Internal Note

**The BCAM Camera**

Kevan S Hashemi1, James R Bensinger

Brandeis University

Footnote 1: hashemi@brandeis.edu, 1-781-736-2819

15 September 2000

**Abstract:** The BCAM, or Boston CCD Angle Monitor, is a camera looking at one or more light sources. We describe the application of the BCAM to the ATLAS forward muon detector alignment system. We show that the camera's performance is only weakly dependent upon the brightness, focus and diameter of the source image. Its resolution is dominated by turbulence along the external light path. The camera electronics is radiation-resistant. With a field of view of \(\pm\) 10 mrad, it tracks the bearing of a light source 16 m away with better than 3 mrad accuracy, well within the ATLAS requirements.

Introduction

The BCAM, or Boston CCD Angle Monitor, is a camera looking at one or more light sources. In this note we describe the application of the BCAM to the ATLAS forward muon detector alignment system, and present the results of our investigation of the fundamental sources of error in a BCAM camera. We continue our discussion of the BCAM in two further notes _BCAM Camera Calibration_[13] and _The BCAM Light Source_[14]. We plan to describe the production version of the BCAM in _The ATLAS BCAM_[15].

The BCAM in ATLAS

We designed the BCAM for the global alignment system of the ATLAS forward muon detector. In the forward detector, the magnet cryostat makes projective alignment impractical. The collaboration plans to use BCAMs along semi-projective alignment corridors, and azimuthal and radial lines of sight, to measure the positions of radially-mounted alignment bars. Other optical instruments will measure the position of each MDT chamber with respect to thetwo alignment bars nearest to it. Knowing the positions of the bars, and the positions of the chambers with respect to the bars, the global alignment system can determine the position of each chamber in a global coordinate system. The alignment system must provide the muon detector with a sagitta correction that is accurate to 30 \(\mathrm{\SIUnitSymbolMicro m}\) rms [10].

As we imply with the phrase 'angle monitor', the BCAM camera measures angular displacement, not linear displacement. The camera consists of a lens and a charge-coupled device (CCD) image sensor. When a thin lens focuses an image of a point source upon an image sensor, the image appears at the intersection of the sensor and the line through the source and the center of the lens (Figure 1). We call this line the 'central ray'. We call the center of the lens the 'pivot point'. The central rays for all sources pass through the pivot point. When the image is out of focus, the central ray still marks the center intensity of the image [13]. When the source is a luminous shape instead of a point, the central ray begins at the center of intensity of the source, passes through the pivot point, and once again marks the center of intensity of the image on the sensor [13]. If we move the source along the central ray, the image may change size, but its center of intensity remains stationary [13]. Let us define the 'camera axis' as the central ray that strikes the center of the CCD, the 'image position' as the displacement of the image's center of intensity from the center of the CCD, and the'source bearing' as the angle between the central ray and the camera axis. It is clear that the position of the image is dependent only upon the bearing of the source.

All the BCAM cameras and light sources in the global alignment system are mounted on alignment bars. The bars are between two and ten meters long. The 'polar' BCAMs operate in the semi-projective alignment corridors. These corridors pass through the chamber layers and are up to fifteen mete

Figure 1: The image position, \(h\), depends only upon the light source bearing, \(\alpha\).

are the center-lines of the corridors. The polar BCAMs monitor displacements perpendicular to the polar lines, and so measure the bar layout sagitta correction along each line. To obtain the sagitta correction elsewhere in the detector the alignment system must interpolate the values it measures at the polar lines. This interpolation requires an approximate knowledge of the global position of each bar.

The 'radial' BCAMs look along 'radial lines' that lie along the surface of the bars and connect the intersections of the bars with the polar lines. The 'azimuthal' BCAM cameras look along 'azimuthal lines' that connect neighboring radial lines in the same chamber layer. Together, the polar, radial, and azimuthal lines define a three-dimensional grid the permeates the forward muon detector. The intersecting lines of the grid make four-sided shapes, which we call 'alignment quadrangles'. When two azimuthal lines cross two radial lines, they make an azimuthal quadrangle. When two polar lines cross two radial lines, they make a polar quadrangle (See Figure 2). The grid consists entirely of azimuthal and polar quadrangles.

Figure 2: A polar quadrangle, made by intersecting polar and radial lines. The radial lines are parallel to the alignment bars. BCAM cameras and light sources mounted at the four corners measure the internal angles. We know the distances \(a\) and \(b\), and the polar lines are not parallel, so we can deduce the distances \(c\) and \(d\).

The polar, azimuthal, and radial BCAMs measure the internal angles of every quadrangle in the grid. Two BCAM cameras mounted close together on the same bar cooperate to measure each internal angle. Each BCAM looks at a light source on an adjacent corner of the quadrangle (Figure 3).

Figure 3: Two BCAMs measuring one internal angle of an alignment quadrangle. Each BCAM looks at a light source on an adjacent corner of the quadrangle. We know the angular separation of the two axes from calibration and measurement. We know the source bearings by multiplying the image position by a scaling factor we obtain from calibration.

Before we install each bar, we measure the position of each BCAM component mount. Before we install each camera, we calibrate it so that we know the location of its pivot point with respect to its mount. Likewise, we calibrate each light source so that we know the location of its center of intensity with respect to its mount. We report the success of our camera and light source calibration procedures in _BCAM Camera Calibration_[13] and _The BCAM Light Source_[14]. Assuming the measurements along the bar are successful, and assuming we are able to compensate for thermal expansion of the bar, we will know the distance between the camera pivot points and light sources along each bar. In Figure 2, we will know the distances \(a\) and \(b\).

From calibration, we know the direction of each camera axis with respect to its mount. Our bar measurements and camera calibration therefore tell us the angle between the axes of two cameras measuring an internal angle. From calibration, we know the scaling factor between image position and source bearing for each camera. Thus we can measure the absolute value of internal angles using two bar-mounted BCAMs looking at two different sources.

Simulations [11, 12] suggest that each BCAM camera should introduce an error of no more than 50 \(\upmu\)rad rms to the measurement of internal angles, so that the alignment system's knowledge of the global position of the bars will be adequate to interpolate the polar line sagitta measurements with 30-\(\upmu\)m rms accuracy across the detector. The 50-\(\upmu\)rad limit includes any error made in measuring the orientation of the camera mount, and any error made in calibrating the direction of the camera axis.

Figure 4: A BCAM three-point monitor. The angle between the central rays is the ‘three-point angle’.

The polar BCAMs measure sagitta in the following way (Figure 4). A camera on one bar looks at two light sources on two other bars. The camera measures the angle between the central rays of the two sources, which we call the 'three-point angle', by subtracting their two source bearings. Because we know roughly where all the bars are in global coordinates, we know roughly the distance between the pivot point and each source, and we can convert the three-point angle into the sagitta of the arc connecting the pivot point and two sources.

If we know that the two sources of a three-point monitor are 8 m and 16 m from the pivot point with accuracy 1 cm, we can translate a 1-mrad separation of the sources into an 8-mm sagitta with accuracy 10 um. Note that the BCAM three-point monitor requires the absolute ranges of the two sources, while the RASNIK three-point monitor, which we use in the internal alignment of the chambers, requires only the ratio of the two ranges.

Figure 5 shows how we might arrange our BCAM components along the polar lines. Instead of discrete sources and cameras,

Figure 5: Double-ended BCAMs monitoring sagitta along a polar line. Each BCAM has two cameras, one looking each way, and four sources, two facing each way. We arrange the BCAMs so that each sees the sources on two neighboring bars in both directions. The shaded area is the field of view of the right-facing camera in the left-hand BCAM.

BCAM', which has two cameras looking in opposite directions, and four sources beside the camera lenses, two facing in each direction. Such an arrangement saves space and weight.

The double sources allow us to measure the distance between the BCAMs directly. Calibration tells us the separation of each pair of sources. We measure the angle they subtend at the pivot point of the viewing camera. Divide the physical separation by the angular separation, and we obtain a measurement of the range of the two sources. We expect this range measurement to be accurate to \(\pm\) 1 mm per meter, which will add some redundancy to the alignment system.

Experimental Light Sources

In the experiments we describe below, our light sources are of one design. We put an aperture in front of an opal glass diffuser, and illuminate the diffuser from behind with an infra-red LED. The light distribution across each aperture is constant during any given experiment. The LEDs are the HSDL4230 from Hewlett-Packard, which transmits 35 mW at 875 nm, and comes in a 5-mm diameter, dome-topped, through-hole package. We use a variety of diffusers. Most often we use opal glass, but we also use ground glass, and for our 1-mm aperture long-range light source we use a holographic diffuser.

In a subsequent note, _The BCAM Light Source_, we will describe other, more practical, BCAM light sources, and show how we overcome the problems one faces when attempting to measure the absolute position of a light source's center of intensity with respect to its mounting piece.

Experimental Cameras

Our'short-range camera' uses a plano-convex lens of focal length 25 mm and clear aperture 23 mm. This lens focuses images of a sources 350 mm away onto a CCD image sensor 27 mm behind the lens. Our 'long-range camera' uses a plano-convex of focal length 150 mm and clear aperture 5 mm. This lens focuses images of light sources 4 m to 16 m away onto a CCD 150 mm behind the lens.

Both cameras use the TC255P CCD from Texas Instruments. The TC255P has 320 columns and 240 rows. Its pixels are 10-\(\mu\)m square. Its imaging area is 3.2 mm by 2.4 mm. We paid $22.50 each for TC255Ps in January 2000 (quantity 1500). The device comes in an 8-pin, 0.4-inch DIP.

The angular dynamic range of a BCAM camera is the width of the CCD divided by the distance from CCD to the lens. The dynamic range of our long-range camera is 21 mrad in the horizontal direction and 16 mrad in the vertical. Ata range of 1 m, the field of view is 21 mm by 16 mm. At 16 m, it is 336 mm by 256 mm.

We read images from the TC255P with our CCD Driver [1, 3]. The CCD is part of a TC255P Head [5], which we connect with 20-way ribbon cable to a CCD Multiplexer [4] and then to the VME-resident CCD Driver. We also have a VME-resident LED Driver [6] to turn on and off the LEDs in our light sources.

We obtain our BCAM images by subtracting an image taken with the LED turned off from an image taken with the LED turned on. The subtraction removes traces of ambient light, leaving only the light of the LED in the image. Our centroid-finding procedure ignores pixels below a threshold intensity and subtracts this threshold from the remaining pixels before it calculates the weighted center of the intensity. Listing 1 shows our Pascal centroid-finding routine. Our Windows and MacOS analysis libraries [7] contain this routine and others useful for BCAMs.

```
procedure centroid_find (image_ptr:image_ptr_type; threshold:integer; pixel_width_um_pixel_height_um:real; var centroid:centroid_type); var sum_sum_i,sum_j_net_intensity:longreal; i,j:longint; begin{function} sum:=0;sum_i:=0;sum_j:=0; i:=image_ptr^.analysis_bounds.left; while i<=image_ptr^.analysis_bounds.right do begin j:=image_ptr^.analysis_bounds.top; while j<=image_ptr^.analysis_bounds.bottom do begin net_intensity:=image_pixel(image_ptr,i,j)-threshold; if net_intensity>0 then begin sum:=sum +net_intensity; sum_i:=sum_i+i*net_intensity; sum_j:=sum_j+j*net_intensity; end;{if} j:=j+1; end;{while} i:=i+1; end;{while} i:=i+1; end;{while} with centroid do begin x:= pixel_width_um*(sum_i/sum)+pixel_width_um*one_half; y:= pixel_height_um*(sum_j/sum)+pixel_width_um*one_half; end;{with} end;{function}
```

**Listing 1**Our Pascal Centroid-Finding Routine.

Each pixel intensity in an image captured by our CCD Driver is an eight-bit ADC count between 0 and 255. In our experiments, we adjusted the exposure time until the peak intensity in the light spot was between 160 and 180 counts. We used a threshold of 50 counts.

As you can see from Listing 1, The centroid_find routine specifies the position of the light centroid with respect to the center of the top-left pixel of the CCD. To obtain the image position we defined earlier, we subtract the coordinates of the CCD center. The x-coordinate runs from left to right, and the y-coordinate runs from top to bottom. Our analysis library provides another routine to calculate the derivative of position with respect to threshold. This routine calculates the spot position for a specified threshold, increases the threshold by one count, and calculates the position again. The change in horizontal position is 'dx/dt', in units of \(\upmu\)m per count, and the change in vertical position is 'dy/dt', where 't' is the threshold. When we quote these derivatives in our tables of results, we calculate them with a specified threshold of 50 counts.

Figure 6 shows an image of five light sources. We determine the locations of the light spots by applying our weighted sum routine to the neighborhood of each spot.

Figure 6: A BCAM image showing five sources at ranges 4 m to 16 m. The top two are at 4 m, the middle left is at 8 m, the middle right is at 12 m, and the bottom one is at 16 m.

[MISSING_PAGE_FAIL:10]

account for the duplicate measurements provided by the BCAM layout, the average sagitta correction error across the detector is 30 \(\upmu\)m.

Image Focus

We took a sharply-focused 300 \(\upmu\)m light spot and defocused it in stages to a diameter of 600 \(\upmu\)m. Table 2 gives the resolution on the CCD and the sensitivity to threshold at each step. We see no trend in resolution or in the sensitivity of position to threshold.

We suspect that the resolution of the short-range camera is limited by electronic noise. The standard deviation of the intensity of a blank image taken from the TC255P with our CCD Driver is about 0.5 ADC counts. A rough calculation suggests that noise of this amplitude will contribute 0.1 \(\upmu\)m rms to the resolution on the CCD. Our calculation must be pessimistic, because the actual resolution of the short-range camera is 0.05 \(\upmu\)m.

If we take the 0.05 \(\upmu\)m rms resolution on the CCD of the short-range camera and apply it to the long-range camera, we obtain and angular resolution of 0.3 \(\upmu\)rad (the CCD is 150 mm from the lens in the long-range camera). As we shall see, the actual resolution of the long-range camera is almost ten times worse. Therefore, electronic noise is insignificant in the long-range camera.

Centroid Threshold

We took ten images of the same light source with our short-range camera. Table 3 shows the resolution on the CCD and the sensitivity to threshold for thresholds from 50 counts to 150 counts. At higher thresholds, the sensitivity to threshold is greater, and the resolution on the CCD is poorer.

\begin{table}
\begin{tabular}{l|c|c|c|c} \hline Focus & stdev(x) & stdev(y) & ave(dx/dt) & ave(dy/dt) \\  & (\(\upmu\)m) & (\(\upmu\)m) & (\(\upmu\)m/count) & (\(\upmu\)m/count) \\ \hline sharp & 0.03 & 0.23 & 0.001 & -0.042 \\  & 0.05 & 0.10 & 0.004 & -0.036 \\  & 0.05 & 0.07 & 0.009 & -0.033 \\  & 0.06 & 0.06 & 0.002 & -0.022 \\  & 0.05 & 0.07 & 0.011 & -0.010 \\  & 0.11 & 0.09 & -0.003 & 0.023 \\  & 0.13 & 0.12 & -0.020 & 0.023 \\ unsharp & 0.09 & 0.07 & -0.044 & 0.024 \\ \hline \end{tabular}
\end{table}
Table 2: Resolution on the CCD vs. Focus. When it is sharply focused, the spot’s diameter is 300 \(\upmu\)m. When poorly focused, it is 600 \(\upmu\)m.

[MISSING_PAGE_EMPTY:12]

Image Exposure

In our experiments, a 'nominal exposure' gives a light spot with maximum intensity close to 170 counts. The nominal exposure for the short-range camera was 10 us to 100 us. For the long-range camera, the nominal exposure was 1 ms to 10 ms. Figures 9 and 10 show how the calculated horizontal position of a light spot changes with exposure.

Figure 8: Calculated Horizontal Position on the CCD vs. Calculation Threshold for a 300-μm (30-pixel) Diameter Light Spot. The position is with respect to the top-left corner of the CCD.

Figure 9: Horizontal Position on the CCD vs. Exposure Time for a 30-μm (3-pixel) Diameter Light Spot. The position is with respect to the top-left corner of the CCD.

To obtain the graphs, we captured and analyzed one image for each length of exposure. Figure 9 shows the effect of exposure upon the horizontal position of a 30-\(\upmu\)m diameter light spot. Figure 10 does the same for a 300-\(\upmu\)m spot. The position of the smaller spot is less sensitive to exposure than that of the larger spot.

Neither graph shows what happens to the calculated position when the exposure rises above 150% of its nominal value. When the exposure exceeds 150% of nominal, the CCD pixels in the image spot start to saturate. Electrons generated by the incident light overflow into neighboring pixels. The calculated position changes suddenly by hundreds of microns.

We were timing our exposures in software, which was unreliable for exposures less than a millisecond. The exposure would never be shorter than we specified, but it would often be longer. We chose to operate at our nominal peak intensity of 170 counts because it allowed for a 50% increase in the exposure without saturation. Our next generation CCD Driver will drive CCDs and light sources, and it will have its own hardware timer on board so that we can obtain accurate exposures from 1 \(\upmu\)s to 1 s.

Figures 11 and 12 show how the resolution on the CCD varies with exposure for 30-\(\upmu\)m and 300-\(\upmu\)m light spots. We obtained the resolution from ten images taken with each exposure. The resolution improves as the exposure time increases, but there is hardly any improvement from 100% nominal to 150% nominal.

Figure 10: Horizontal Position on the CCD vs. Exposure Time for a 300-\(\upmu\)m (30-pixel) Diameter Light Spot. The position is with respect to the top-left corner of the CCD.

Length of the Air Path

The closest surface to the long-range camera's air path was our laboratory wall, which was about 300 mm to one side. Table 4 gives the resolution on the CCD for sources at five different ranges. We tested the 350-mm range with the short-range camera, and other ranges with the long-range camera. The table gives the distance from the lens to the CCD and the diameter of the light spot as well. Based upon our results with the short-range camera, however, we do not expect the

Figure 11: Resolution on the CCD vs. Exposure Time for a 30-\(\upmu\)m (3-pixel) Diameter Light Spot.

Figure 12: Resolution on the CCD vs. Exposure Time for a 300-\(\upmu\)m (30-pixel) Diameter Light Spot.

diameter of the light spot to affect our observations. We took 25 images at each range to obtain the standard deviations.

The two rightmost columns in the table give the resolution of the source bearing. The angular resolution of the short-range camera is poor because the distance between the lens and the CCD is only 27 mm, as compared to 150 mm for the long-range camera. We obtain the angular resolution by dividing the resolution on the CCD by the lens-CCD distance.

In this experiment, the resolution of the long-range camera in the horizontal direction remained constant with range, while the vertical resolution increased with range. We have performed the experiment several times, and usually we see both horizontal and vertical resolution increase with range. Sometimes the resolution is fifty percent lower than that given in Table 4. At other times, it is fifty percent higher. We believe these changes in resolution correspond to changes in our laboratory air-flow, but our evidence is not documented, nor is it complete. (We experimented with plastic tubes around the light path, and we blew air across the light path with fans, but none of the experiments in this paper involve tubes or fans.)

Statistics of Turbulence

We set up a light source 16 m from the long-range camera and recorded the position of its centroid on the CCD every 1.5 s for 10 min. Figure 13 shows the horizontal position of the spot during the experiment, expressed as a deviation from the mean horizontal position. The standard deviation of horizontal position is 0.48 \(\mu\)m.

\begin{table}
\begin{tabular}{|r|r|r|r|r|r|r|} \hline r & d & D & stdev(x) & stdev(y) & stdev(x/d) & stdev(y/d) \\ (mm) & (mm) & (\(\mu\)m) & (\(\mu\)m) & (\(\mu\)rad) & (\(\mu\)rad) \\ \hline
350 & 35 & 130 & 0.11 & 0.06 & 3.07 & 1.64 \\
4000 & 150 & 470 & 0.31 & 0.25 & 2.07 & 1.68 \\
8000 & 150 & 130 & 0.31 & 0.26 & 2.06 & 1.72 \\
12000 & 150 & 190 & 0.28 & 0.34 & 1.85 & 2.29 \\
16000 & 150 & 80 & 0.31 & 0.44 & 2.05 & 2.95 \\ \hline \end{tabular}
\end{table}
Table 4: Resolution on the CCD vs. Range. The columns on the left give the range, \(r\), the distance from the CCD to the lens, \(d\), and the diameter of the spot on the CCD, \(D\). The columns on the right give the resolution on the CCD and also the resolution of the source bearing. The x-direction is horizontal, perpendicular to the wall.

If the fluctuations shown in Figure 13 are stochastic, we would expect the average of \(n\) measurements to have standard deviation 1/\(\backslash n\) times the standard deviation of a single measurement. Figure 14 is a log-log plot of the standard deviation of the average of \(n\) consecutive measurements taken from Figure 13, plotted against \(n\). Its slope is -0.33. If we plot the same graph for vertical displacements, we get a slope of -0.20. We repeated the experiment several days later and obtained slopes -0.46 and -0.23 respectively.

According to [2], fluctuations in the length of an optical path through turbulent air obey a Kolmogorov distribution, not a stochastic distribution. For a Kolmogorov distribution, the slope of Figure 14 would be -0.30. Because our average observed slope is -0.30, and because the fluctuations on the CCD increase with the range of the light source, we conclude that the fluctuations shown in Figure 13 are due to air turbulence, and that the resolution of the long-range camera is limited by turbulence, not internal electronics or optics.

Figure 13: Horizontal Position on the CCD vs. Measurement Number for a 16-m BCAM. We took measurements every 1.5 seconds. The 400 consecutive measurements took ten minutes.

he linearity

We mounted a light source on a micrometer stage 16 m from the long-range camera. We oriented the stage so that it moved horizontally, perpendicular to the camera axis. As before, the camera axis is horizontal, and parallel to our laboratory wall. The field of view of the camera is 30 cm wide at a range of 16 m. Our stage can move only 10-cm, so we tested the BCAM over only one third of its dynamic range. We know from past experience that this stage is accurate to a 3 \(\upmu\)m rms.

We measured the distance from the camera lens to the light source with a tape measure, and obtained 16 m \(\pm\)1 cm. We measured the distance from the camera lens to the CCD with a ruler, and obtained 150 mm \(\pm\)1 mm. With these measurements we obtain \(\mathrm{d}x_{s}/\mathrm{d}x_{i}=106.7\)\(\pm\)1.0, where \(x_{s}\) is stage position and \(x_{i}\) is image position.

We moved the source 10 cm in 2-mm steps (roughly 20-\(\upmu\)m steps on the CCD). At each step, we took one image of our light source, analyzed it, and recorded both \(x_{s}\) and \(x_{i}\). The exposure time was 500 \(\upmu\)s using a source made out of an LED, a holographic diffuser, and a 1-mm aperture.

We fit a straight line to \(x_{s}\) vs. \(x_{i}\), and obtain \(\mathrm{d}x/\mathrm{d}x_{i}=105.88\)\(\pm\)0.01, which is consistent with our anticipated 106.7 \(\pm\)1.0. If we take our values of \(x_{i}\), multiply them by \(m\), and plot this against the \(x_{s}\), we obtain a graph of the BCAM-measured

Figure 14: Resolution on the CCD of the Average of \(n\) Measurements vs. \(n\). The slope is –0.33, showing that the measurement fluctuations are not stochastic.

source position verses stage-measured source position. We give the residuals from a straight-line fit to this graph in Figure 15.

The residuals of Figure 15 have standard deviation 40 \(\upmu\)m. On the same day, we took ten images with the source and camera stationary, and obtained a resolution on the CCD of 0.40 \(\upmu\)m. This resolution alone would contribute 42 \(\upmu\)m to the residuals of Figure 15 (0.4 \(\upmu\)m times \(m\) is 42 \(\upmu\)m).

We used the same apparatus to obtain the residuals Figure 16, but this time we moved the source in 100-\(\upmu\)m steps. At each step, the image moves 1 \(\upmu\)m on the CCD, which is 10% of the pixel width. The standard deviation of the residuals is 36 \(\upmu\)m. We conclude that pixel quantization does not affect image position, even when the spot is only three pixels wide.

Figure 15: Residuals from a Straight Line Fit to BCAM-Measured Source Position vs. Stage-Measured Source Position. The standard deviation of the residuals is 40 \(\upmu\)m. The source was 16 m from the camera, moving perpendicular to the camera axis.

Data Acquisition

Although the camera can take an image of all its sources at the same time, the presence in the image of several light spots complicates the image analysis and data acquisition. In the analysis, for example, we must separate the light spots in the image and associate them with the correct light sources. If we take images of one light source at a time, however, there is no ambiguity as to the identity of the light spot in the image, and we can apply the centroid-finding routine to the entire image. Nevertheless, the errors caused by turbulence might be correlated from one source to another if we flash them on and off at the same time. When we measure the relative bearing of two sources, as we do with a BCAM three-point monitor, our resolution might improve through partial cancellation of the turbulence error.

We took twenty-five images of five light sources. Each image showed all five light sources at once (as in Figure 6). Two sources were 4 m from the camera, three centimeters apart. The others were at ranges 8 m, 12 m and 16 m.

Figure 16: Residuals from a Straight Line Fit to BCAM-Measured Source Position vs. Stage-Measured Source Position. The standard deviation of the residuals is 36 μm. The source is 16 m from the camera, moving perpendicular to the camera axis.

Let \(\mathrm{p_{1}}\) and \(\mathrm{p_{2}}\) be the positions of light spots in a multi-source image, and let \(\sigma()\) to denote the standard deviation of position taken over twenty-five images. Table 5 shows the ratio of \(\sigma(|\mathrm{p_{1}}\mathrm{-p_{2}}|)\) to (\(\sigma(|\mathrm{p_{1}}|)\oplus\sigma(|\mathrm{p_{2}}|)\)). If the fluctuations of each position are independent, we would expect this ratio to be one. But it is less than one in each case. The strongest correlation is between the two sources at 4 m.

Table 5 suggests, however, that multi-source images will give us no more than a 25% improvement in our resolution. We decided that multi-source images were not worth our trouble. When we want to improve our resolution, we take more than one single-source image and average our measurements. Nevertheless, we will keep multi-source images in mind for ATLAS.

The procedure we use in our laboratory is as follows. For each light source, we take an image with the source turned on, take another with the source turned off, subtract the two, and apply our image analysis to the result. If we want to measure the separation of two sources, we take two images for each spot, making four images in all. Our laboratory data acquisition system can capture and display five images per second.

Radiation Damage

We irradiated twelve TC255P with fast neutrons in two separate experiments [8, 9]. We took an irradiated CCD and tested it in our short-range camera. The CCD had received \(7.7\times 10^{2}\) 1-MeV n/cm\({}^{2}\), eleven times the estimated worst-case dose in the end-cap [9]. The resolution on the CCD was 0.18 um in the x-direction, and 0.25 um in the y-direction. If we look back at Table 4, we see that the resolution of the short-range camera with an undamaged CCD is several times smaller. But if we look at the resolution on the CCD of the long-range camera, we see that the error introduced by radiation damage is no larger than the error introduced by turbulence at ranges 4 m and up. Furthermore, the errors due to radiation are stochastic, so reduce them by averaging. Therefore expect the BCAM camera to function adequately in the ATLAS neutron radiation environment.

### Dynamic Range

All parts of the ATLAS forward muon detector are allowed to move by up to 10 mm from their nominal positions as a result of inaccurate installation, thermal expansion, gravitational sag, and contraction of the support structure by the end-cap magnets [10]. Our long-range camera's field of view is 16 mrad \(\times\) 21 mrad, large enough to accommodate 10-mm movements provided the source is more than a meter away from the camera and the camera is in its exact nominal orientation.

The question arises as to how far a camera can be rotated from its nominal orientation. We know of no ATLAS requirement for component orientation. Nevertheless, the alignment bars must be within \(\pm\)10 mrad of their nominal orientations, or the proximity monitors that link them to the chambers will be out of range. Therefore, we trust that the BCAM cameras will be within \(\pm\)10 mrad of their nominal orientations.

To accommodate \(\pm\)10 mm and \(\pm\)10 mrad displacements, we must increase the dynamic range of the BCAM camera. We propose to do so by shortening the distance between the lens and the CCD. With 75 mm from the TC255P to the lens, the dynamic range of the BCAM will double to 32 mrad by 42 mrad. As our experiments show, the contribution made by atmospheric turbulence to the resolution on the CCD of our long-range camera is five to ten times greater than the contribution made by the camera itself. If we halve the distance from the lens to the CCD, the contribution made by the camera will double, but still be small compared to the contribution made by turbulence.

### Conclusion

The camera's performance is only weakly dependent upon the brightness, focus and diameter of the source image. The dominant source of error is refraction along the external light path. Turbulence displaces the image on the CCD. We tracked a source 16 m away with accuracy 40 \(\upmu\)m rms over a 10 cm translation, taking only one image for each 2-mm step. In angular terms, the camera tracking accuracy is 2.7 \(\upmu\)rad rms over 6 mrad at a range of 16 m or less. Simulations indicate that 5 \(\upmu\)rad tracking accuracy is adequate for ATLAS. The dynamic range of our prototype camera is \(\pm\)10 mrad. Our results indicate that we can increase the camera's dynamic range to \(\pm\)20 mrad with no sacrifice in performance. A dynamic range of \(\pm\)20 mrad accommodates all permissible misalignments and displacements of BCAM components during the assembly and life of the ATLAS detector. Furthermore, the BCAM camera maintains its accuracy in up to ten times the estimated worst-case forward detector radiation dose. We conclude that the BCAMcamera has adequate resolution, linearity, and radiation resistance to serve in the forward alignment system.

References

[1] Hashemi et al, _Pixel CCD RASNIK DAQ_, ATLAS Note MUON-97-202

[2] Matsumoto et al, _Effects of the Atmospheric Phase Fluctuation on Long-distance Measurement_, Applied Optics Vol. 23, No. 19, October 1984.

[3] Hashemi, _Manual for the CCD Driver (A2004)_ (www.hep.brandeis.edu)

[4] Hashemi, _Manual for the CCD Multiplexer (A2003)_ (www.hep.brandeis.edu)

[5] Hashemi, _Manual for the TC255P Head (A2007)_ (www.hep.brandeis.edu)

[6] Hashemi, _Manual for the LED Driver (A1010)_ (www.hep.brandeis.edu)

[7] Hashemi, _Brandeis Image Analysis Libraries_, ATLAS Note MUON-99-011

[8] Hashemi et al, _Irradiation of the TC255P by Fast Neutrons,_ ATLAS Note MUON-98-253.

[9] Hashemi et al, _Irradiation of the TC255P by Fast Neutrons, Part 2,_ ATLAS Note MUON-2000-011.

[10] ATLAS TDR

[11] Claude Guyot, presentation at the Brandeis Workshop on Alignment Devices, April 1998.

[12] Andrei Ostapchuk, various conversations and presentations.

[13] David Daniels et al, _BCAM Camera Calibration_, ATLAS Note, Draft 1 written September 2000.

[14] Hashemi et al, _The BCAM Light Source_, ATLAS Note planned for December 2001.

[15] Hashemi et al, _The ATLAS BCAM_, ATLAS Note planned for December 2003.