**ATLAS Internal Note**

**MUON-NO-128**

**26 August 1996**

**Results from the M-2 test beam using the "flower" MDT's**

P. Ioannou, Ch. Kourkoumelis, I. Papadopoulos

(University of Athens)

G. Gavris

(University of Thessaloniki)

We have analysed the data taken during the first week of August 1995 with the two flower configuration at the M-2 test beam. Crosstalk and rawdata studies are presented as well as results on the optimization of the \(\mu\)-track reconstruction using the flowers. A single point resolution of about 40 \(\mu\)m has been achieved. Finally the stability of the autocalibration procedure is studied.

Introduction

The flowers are two detectors installed in the M-2 test beam area (Fig. 1). They are situated in front of a hodoscope and a scintillation counter used for trigger purposes. Downstream of the flowers there is a magnet, several other detectors - mainly various configurations of drift tubes and a second hodoscope. Each flower consists of 7 drift tubes of 30 mm outer diameter and 0.5 mm wall thickness. Each tube is 70 cm long and its anode wire has a diameter of 100 \(\mu\)m. They are filled with \(Ar-C_{2}H_{6}\) (70:30) gas mixture maintained under 3 bars pressure. The tubes are supplied with 5.6 kVolts HV and operate on the streamer mode. The flowers were constructed and assembled in Dubna in 1993.

## 2 Raw data analysis

The signal of the drift tubes is sent to a preamplifier and then to a discriminator. The signal is amplified and sent to a single-hit TDC. The readout and the storage of the rawdata is described in [1].

The offline analysis of the raw data is done using the MUBTAN program [2]. This program does the decoding of the raw data, calculates drift distances, does the track fitting using as initial input for the r-t relation the GARFIELD information and finally performs the autocalibration.

From a first look at the raw data we saw a number of problems such as

* cross-talk, noise
* beam divergence
* tube rotations and dispacements
* tails in the drift time spectrum

In this part of the report we will describe the methods we used to study, understand and solve some of the above problems.

The threshold set initially on the discriminator was 0.2 Volts, which corresponded to 12.5 \(\mu\)A current. Fig. 2 shows a scatter plot of the raw data in tube 1 (vertical axis) and tube 3 (horizontal axis) of the first flower. As indicated from the sketch below this plot, there must be a correlation between these two signals. For a small drift distance in tube 3, one would expect a longer drift distance in tube 1, and vice-versa. For this reason we obtain a dark line with negative slope in the scatter plot. A dimmer straight line, perpendicular to the first one is attributed to crosstalk. Since the signals of tube 1 and tube 6 of the first flower are correlated, in a sense that, they should give the same size signal for a track in the horizontal plane, it seems that sometimes tube 3 picks up signals from tube 6. Similar crosstalk effects are observed in every tube of both flowers.

In order to eliminate the crosstalk we increased the threshold on the discriminator up to 0.4 Volts, which corresponds to 25 \(\mu\)A current. Plot 2b is the same plot as 2a but with the new threshold. It is clear that the crosstalk effect disappears. We then fixed the threshold on the discriminator at 0.4 Volts, and the rest of our analysis was performed under these conditions.

In order to further clean our data sample, at first we required events with reconstructed local tracks in flower 1. From plot 3a we observe that the background is reduced compared to what we have in Fig. 2b. Furthermore, we required the tracks in flower 1 to be _good. Good local tracks_ are defined as local reconstructed tracks having 1 hit in each of the 3 vertical planes of the flower (Fig. 1), with low \(\chi^{2}\) (\(\frac{\chi^{2}}{2}<10\)). _Good global tracks_ are defined as tracks having 1 hit in each of the 6 vertical planes of the two flowers with low \(\chi^{2}\). Requiring good local tracks in flower 1 we observe that all of the background under the dark line in the plots 2b and 3a disappears (Fig. 3b). But there still remains a second dimmer line above and parallel to the main one. Requiring then, good local tracks in flower 2 as well (Fig. 3c), we eliminate this dimmer line. So we conclude that the dimmer line was due to the beam divergence at the first flower, which will be investigated in the following paragraph.

In Fig.4 we plot the distribution of the reconstructed local track angle (in degrees) for each of the two flowers. In both cases we use only good tracks. The dashed line in both plots corresponds to events with good tracks in the other flower as well. From both plots it is easy to see that in many cases we can have a good reconstructed local track in only one of the flowers. From these angular distributions one may infer that the muon beam does not have a unique direction. We triggered on the first hodoscope which was too close to the first flower, so we were not able to select a unique component of the beam. The divergence of the beam becomes pronounced when we look at the hits in the two hodoscopes. The second hodoscope is downstream the magnet. The present data sample was taken when the magnet was off. In Fig. 5 we see the y-x profile for the two hodoscopes. Since we use the scintillator (11 cm wide, 80 cm long) for triggering (see Fig.1) we do not obtain the beam profile in the y-x plane, but the trace of the scintillation counter. We observe that in the second hodoscope (Hodo 2) the width of the trace is larger, which proves that we really have a diverging beam.

We proceed with a further study of the raw data. Fig. 6 shows a scatter plot of the raw data of tube 8 (vertical axis) versus and the raw data of tube 13 (horizontal axis). These tubes belong to the second flower. If the wires of these drift tubes were aligned to the beam direction, then the drift distance in tube 8 would be equal to the drift distance in tube 13 and therefore we would obtain a single 45 degree line in the plot. Instead we see two parallel lines. We obtain similar plots if we look at tube 9 versus 14, as well. In order to clean up the data sample we require good local tracks in flower 2 (Fig 6b). The double line can be explained by the hypothesis that the whole flower is slightly rotated in the z-y plane (Fig. 6e). This would cause the wires of the tubes 8 and 13 not to be aligned to the beam direction; for a given drift distance in tube 13 we would have then two possible values for drift distance in tube 8. If the track passes above the wire, then it would give a hit in tube 11, whereas if it passes below the wire it would give a hit in tube 10 (Fig.6c). For the former case the drift distance in tube 13 is smaller than the one of the latter case. Then the upper line would correspond to tracks which pass from tube 10 as well, while the lower line would correspond to tracks which pass from tube 11. In Figs. 6c and 6d we show the same scatter plot requiring good local tracks in flower 2 giving hits in tube 10 and tube 11 respectively. It is easy to identify the single line of Figs. 6c and 6d as the upper and lower parts correspondingly of the double line of Fig. 6a and 6b. This small rotation was then confirmed by the autocalibration results (Table 1).

In figures 7 and 8 we plot the raw data spectrum for every drift tube of each flower. For a perfect drift tube in a wide and parallel muon beam this spectrum would have the form of a square function. This is almost the case for flower 2. As we can observe in Fig. 8 the plots for every tube in flower 1 have an additional tail. In order to understand better the origin of this tail, we cleaned up the data sample by requiring good global tracks. That way we eliminated all hits due to background and noise. The new raw data plots are presented in figures 9 and 10. It seems that the tail in most of the cases is supressed, but it still exists.

We tried to intepret these tails as shifts of the wires from the centers of the tubes. For some reason during the construction phase of the flowers the wires were misplaced from the centers of the tubes. Then the tails in the spectra would correspond to tracks passing close to the tube wall at the opposite side from the direction of the wire shift, since the measured drift distance would be larger than the inner radius of the tube. We studied tube 1 of the first flower. Let's assume that the wire is slightly shifted below the center of tube 1 in the vertical direction. In such a case if we look at the raw data spectrum for this tube requiring hits in tube 3 (same direction as the shift) the tail would not be there, whereas for hits in tube 4 (opposite direction of the shift) the tail would remain. Furthermore, the lower edge of the spectrum of raw data in tube 1 would be lower if we require hits in tube 3 than the corresponding one requiring hits in tube 4.

Figures 11a and 11b confirm our assumption. Indeed, for hits in tube 4 the tail remains but for hits in tube 3 the tail disappears. We also observe the expected shift of the spectrum edge in both cases. Assuming a 20 channel shift, and a drift velocity \(v_{d}=4\times 10^{-3}\frac{cm}{nsec}\) we calculate that this shift corresponds to about 500 \(\mu\)m wire displacement. Besides, the autocalibration results confirm our assumption since they produce a wire shift of about 300 \(\mu\)m at the same direction as in our assumption (Table 1).

## 3 Global track reconstruction

### primary track fitting and autocalibration

The test beam offline program, MUBTAN [2], is using an iterative approach which minimizes the residuals of the track fitting in order to autocalibrate the values of:

1. r-t relation.
2. \(t_{0}\)'s.

3. displacement of wires in the y direction.
4. rotation of flowers in the y-z plane.

In every _user loop_ the program performs oniy one of the above four autocalibration tasks and uses the corrected values for the subsequent loop. We run the program for 40 user loops with autocalibration pattern sequence 1,2,3,4,1,2,3,4,.... We produced then new calibration and geometry files to be used with MUBTAN and achieved better alignment and track fitting of the flowers. In Table 1 the old and new calibration file values are shown (the part refering to the flowers) and one can clearly see the changes. In Table 2 the old and new \(t_{0}\) values are shown.

Figures 12 and 13 show the improvement we have achieved on the alignment of the two flowers. Figure 12 shows the difference between the two reconstructed local track angles before and after autocalibration, whereas Fig. 13 shows the difference \(y_{1}-y_{2}\) of the local track projections on the y axis at z=0. The mean difference before autocalibration was not close to zero, while after autocalibration it shifted very close to zero. It is worth mentioning that for the plots after autocalibration we required good local tracks, while for the plots before autocalibration we do not use that requirement. If we applied the same strong cuts for both cases, then we would have only few events with a good \(\chi^{2}\) surviving before autocalibration. We observe the same behaviour when looking at the difference \(y_{1}-y_{2}\) of the local track projections on the y axis at z=0.

Figures 14 and 15 show the residuals for the local tracks for each tube of the flowers, as a function of the drift distance, after the autocalibration procedure. As expected for most tubes we have a straight line around zero. The width of the lines are indicative of the resolution we have achieved. For the outer planes of each flower (see Fig. 1) the RMS of the residual is about 40 \(\mu\)m, whereas for the middle planes the RMS is about 80 \(\mu\)m.

Figures 16 and 17 show the residuals for the global tracks for each tube of the two flowers. In this case we observe that the residuals are broader and depend on the drift distance quite strongly.

### optimization of the track fitting procedure

In order to make the residuals less dependent on the drift distance we optimized the track fitting procedure. MUBTAN, as it stands now, first fits the global tracks, using both flowers, and then using as initial values the slopes and the intercepts of the global tracks, fits the local tracks, using each flower separately. With the optimization we imposed, the global track was refitted. More precisely, after the first global fit we took as starting values for the slope and the intercept, the average of the values given by the two local tracks and refitted. Consequently, we dropped the tube which contributed the highest residual in the fit (one out of six) and refitted once more. We checked that the tube with the highest contribution was rather random.

Figs 18 and 19 show the same scatter plots as in 16 and 17 after the final refitting described above. The residuals seem now to be almost independent of the drift distance.

Furthermore, the distributions of the global residuals themselves have smaller RMS than before (Figs. 20 before, and 21 after). The \(\chi^{2}\) of the global rack has improved as well. Since in the initial global fitting we used 6 hits for the track reconstruction, while in the final refitting only 5 hits, we cannot directly compare the overall \(\chi^{2}\) of the corresponding fits. Rather we choose to compare the upper tail probability of \(\chi^{2}\) distribution for each of the two cases (Fig. 22). This probability is higher after the refitting, which means that we have now achieved a better and more precise global track reconstruction. Fig. 23 shows the corresponding \(\chi^{2}\) distributions, and we see that in figure 23b there are a lot of events with very low \(\chi^{2}\). These events contribute to the peak at prob=1 which we observe in Fig. 22b.

As a next task we calculated the single point resolution for each case. When we fit a global track in the tubes we provide an error in the measurement of the drift distance. The particular error which would lead to a flat distribution of the upper tail probability of \(\chi^{2}\) distribution, excluding the peaks near 0 or 1, is the single point resolution of the flowers. Keeping the error constant, when fitting local tracks, and equal to 85\(\mu\)m - which is generous enough not to loose many good tracks - we histrogramed the probability for various values of the error when fitting global tracks and found out that before the refitting the value of error which gave flat distribution was about 60\(\mu\)m, while after the final refitting it had dropped down to about 40\(\mu\)m. The plots shown in Fig. 22 correspond to these particular errors.

## 4 Stability of autocalibration procedure

As a final task we tested the autocalibration procedure by displacing the starting position of one wire of the flower (ex. tube 1) leaving the other thirteen in their previous starting positions. We made a run of 99 iterations with autocalibration pattern 1,2,3,4,1,2,3,4,..., as it is explained at the beginning of the previous section. In the ideal case one would expect either the displaced wire to return to its previous position or the whole flower to be displaced accordingly. Fig. 24 shows the wire position of all the tubes of flower 1 as a function of each autocalibration iteration. One can see 4 lines. The solid line corresponds to the unperturbed initial conditions, while the other three correspond to displacements of 150\(\mu\)m (dashed line), 300\(\mu\)m (dotted line) and -150\(\mu\)m (dotted/dashed line) respectively. Fig. 25 shows the wire positions as a function of the autocalibration iteration for the corresponding tubes of flower 2. The final positions of the wire in tube 1 do not converge to the same value but rather end up with a displacement consistent with the initial one. On the other hand the final positions of the wires in all other tubes seem to converge to the same value. This is contrary to what one would expect. It seems that, at least for the flowers, the displacement of one tube would not influence the position of the other close-by tubes.

Conclusions

We have tried to solve some of the problems connected with the raw data of the flowers. We have proven that the flowers can be used as beam defining counters since we can reconstruct tracks with a single point resolution of 40\(\mu\)m. A study of the autocalibration stability was performed as well.

## Acknowledgements

We would like to thank Dr. Zinovi Krumstein for his valuable information on the flowers themselves, Georg Viehhauser, the author of MUBTAN, who helped us in understanding the code and the algorithms used in the offline program, as well as Nigel Paul Hessey for his comments and advices.

## References

* [1] The ATLAS Muon Beam Test Data Acquisition ATLAS-MUON-No-84 12-10-1995
* [2] MUBTAN v. 4.00 The ATLAS test beam offline program by Georg Viehhauser

\begin{table}
\begin{tabular}{||c|c c|c c||} \hline \hline tube No & before & autocalibration & after & autocalibration \\ \hline  & z & y & z & y \\ \hline
1 & -505.59799 & -2.20000 & -505.59921 & -2.23253 \\ \hline
2 & -505.59799 & 0.70000 & -505.59671 & 0.68930 \\ \hline
3 & -503.00000 & -3.80000 & -503.00262 & -3.77582 \\ \hline
4 & -503.00000 & -0.80000 & -503.00000 & -0.77341 \\ \hline
5 & -503.00000 & 2.20000 & -502.99734 & 2.20157 \\ \hline
6 & -500.39999 & -2.20000 & -500.40121 & -2.22522 \\ \hline
7 & -500.40000 & 0.70000 & -500.39874 & 0.70813 \\ \hline
8 & -256.69800 & -2.20000 & -256.70602 & -2.21128 \\ \hline
9 & -256.69800 & 0.70000 & -256.68924 & 0.72804 \\ \hline
10 & -254.10001 & -3.80000 & -254.11749 & -3.76156 \\ \hline
11 & -254.10001 & -0.80000 & -254.10001 & -0.76164 \\ \hline
12 & -254.10001 & 2.20000 & -254.08253 & 2.19320 \\ \hline
13 & -251.50000 & -2.20000 & -251.50816 & -2.25484 \\ \hline
14 & -251.50000 & 0.70000 & -251.49132 & 0.67988 \\ \hline \hline \end{tabular}
\end{table}
Table 1: old and new wire positions (in cm) with respect to the magnet

\begin{table}
\begin{tabular}{||c|c|c||} \hline \hline tube No & before autocalibration & after autocalibration \\ \hline
1 & 30.000 & -6.970 \\ \hline
2 & 30.000 & -7.388 \\ \hline
3 & 30.000 & -5.384 \\ \hline
4 & 30.000 & -4.601 \\ \hline
5 & 20.000 & -5.504 \\ \hline
6 & 27.000 & -8.405 \\ \hline
7 & 30.000 & -6.610 \\ \hline
8 & 25.000 & 1.427 \\ \hline
9 & 22.000 & -4.549 \\ \hline
10 & 22.000 & -11.565 \\ \hline
11 & 22.000 & -11.805 \\ \hline
12 & 23.000 & -12.693 \\ \hline
13 & 20.000 & -8.289 \\ \hline
14 & 25.000 & -3.300 \\ \hline \hline \end{tabular}.

\end{table}
Table 2: old and new \(t_{0}\)’s (nsec)List of Figures
* 1 The flower detector configuration and the M-2 test beam area (dimensions in cm)
* 2 Raw data tube 1 vs raw data tube 3 for threshold at a) 0.2 Volts, b) 0.4 Volts
* 3 Raw data tube 1 vs raw data tube 3
* 4 Flower angle distribution in degrees for a) flower 1 and b) flower 2
* 5 y-x profile of the hodoscopes (dimensions in cm)
* 6 Raw data tube 8 vs raw data tube 13
* 7 Raw data distribution of flower 1
* 8 Raw data distribution of flower 2
* 9 Raw data distribution of flower 1 requiring good global tracks
* 10 Raw data distribution of flower 2 requiring good global tracks
* 11 Raw data of tube 1 when we have hit a) in tube 3 or b) in tube 4
* 12 The difference of the two local track angles (in degrees) before and after autocalibration
* 13 The difference of the two local track intercepts (in cm) before and after autocalibration
* 14 Local residual (in cm) vs drift distance (in cm) in flower 1
* 15 Local residual (in cm) vs drift distance (in cm) in flower 2
* 16 Global residual (in cm) vs drift distance (in cm) in flower 1 (before refitting)
* 17 Global residual (in cm) vs drift distance (in cm) in flower 2 (before refitting)
* 18 Global residual (in cm) vs drift distance (in cm) in flower 1 (after refitting)
* 19 Global residual (in cm) vs drift distance (in cm) in flower 2 (after refitting)
* 20 Global residual (in cm) in various tubes (before refitting)
* 21 Global residual (in cm) in various tubes (after refitting)
* 22 Prob distribution a) 6 hits and b) 5 hits
* 23 \(\chi^{2}\) distribution of the fit a) 6 hits and b) 5 hits
* 24 wire positions (in cm) of tubes of flower 1 as a function of the autocalibration iteration
* 25 wire positions (in cm) of tubes of flower 2 as a function of the autocalibration iteration Figure 1: The flower detector configuration and the M–2 test beam area (dimensions in cm)

Figure 2: Raw data tube 1 vs raw data tube 3 for threshold at a) 0.2 Volts, b) 0.4 Volts

Figure 3: Raw data tube 1 vs raw data tube 3

Figure 4: Flower angle distribution in degrees for a) flower 1 and b) flower 2

Figure 5: y-x profile of the hodoscopes (dimensions in cm)

Figure 6: Raw data tube 8 vs raw data tube 13

Figure 7: Raw data distribution of flower 1

Figure 8: Raw data distribution of flower 2

Figure 9: Raw data distribution of flower 1 requiring good global tracks

Figure 10: Raw data distribution of flower 2 requiring good global tracks

Figure 11: Raw data of tube 1 when we have hit a) in tube 3 or b) in tube 4

Figure 12: The difference of the two local track angles (in degrees) before and after autocalibration

Figure 13: The difference of the two local track intercepts (in cm) before and after autocalibration

Figure 14: Local residual (in cm) vs drift distance (in cm) in flower 1

Figure 15: Local residual (in cm) vs drift distance (in cm) in flower 2

Figure 16: Global residual (in cm) vs drift distance (in cm) in flower 1 (before refitting)

Figure 17: Global residual (in cm) vs drift distance (in cm) in flower 2 (before refitting)

Figure 18: Global residual (in cm) vs drift distance (in cm) in flower \(1\) (after refitting)

Figure 19: Global residual (in cm) vs drift distance (in cm) in flower 2 (after refitting)

Figure 20: Global residual (in cm) in various tubes (before refitting)

Figure 21: Global residual (in cm) in various tubes (after refitting)

Figure 22: Prob distribution a) 6 hits and b) 5 hits

Figure 23: \(\chi^{2}\) distribution of the fit a) 6 hits and b) 5 hits

Figure 24: wire positions (in cm) of tubes of flower 1 as a function of the autocalibration iteration

Figure 25: wire positions (in cm) of tubes of flower 2 as a function of the autocalibration iteration