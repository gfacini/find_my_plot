**ATLAS Internal Note**

**INDET-NO-119**

**November 1995**

**MQW-Modulator Based Optical Links**

**for Atlas Tracking Detectors.**

I.Dawson, J.D.Dowell, R.J.Homer, I.R.Kenyon, S.J.Oglesby, H.R.Shaylor, J.A.Wilson.

_School of Physics and Space Research, University of Birmingham, PO Box 363, Birmingham B15 2TT._

R.Grabit, W.Langhans, G.Stefanini, F.Vasey, P.Weilhammer

_European Laboratory for Particle Physics (CERN), Geneva, Switzerland._

**Abstract**

Optical links based on passive modulator technology are being investigated by the RD23 collaboration for the transmission of analogue and digital data. This note presents an overview of the proposed optical link, reporting on results obtained both in the laboratory and in beamtests, and discusses the implications of such a link for the Atlas Inner Detector.

Introduction

Data transfer from the frontend of LHC experiments via optical fibre links is preferable to copper twisted pairs: this significantly reduces the volume of material and the number of radiation lengths. In addition, ground loops and electronic pickup between channels are eliminated. Possible means of converting the electronic signals at the frontend to optical signals rely on either active elements (lasers or LEDs) or passive modulators. In the case of modulators, the light source is a laser at the electronics barrack and the light is transmitted by fibre to the modulator. Electronic signals applied to the modulator affect the light level it transmits (or reflects) and this intensity modulated light signal is returned to a photodiode in the electronics barrack for conversion back into electrical signals. The design, construction and proving of passive modulator technology has been carried by the RD23 collaboration which includes nine academic institutes and two industrial partners. Of the two modulator technologies investigated by the RD23 collaboration [1, 2, 3], that based on reflective Multi Quantum Well (MQW) modulators is preferred over Lithium Niobate modulators because the packaged device is more compact, requires fewer fibre connections and is polarization insensitive.

## 2 MQW Modulator Characteristics

The modulators, designed and built by GEC-Marconi Materials Technology (GMMT) [4], are vertical cavity semi-conductor structures operated in reflection mode, fabricated in compact arrays which can be coupled directly to optical fibre ribbons. Reflectivity changes of \(\Delta\)R \(\sim\) 10% have been measured at \(\lambda\)\(\sim\) 150 nm for an input voltage swing of \(\Delta\)V \(\sim\) 3V, corresponding to the linear range of the transfer function. As well as being used as modulators, the MQW devices can also operate as photodetectors operating at \(\lambda\)\(\sim\) 1300 nm. This useful feature allows the proposed RD23 optolink to be used bidirectionally, that is, to receive timing, trigger and control information as well as transmitting analogue data.

Criteria that any frontend optoelectronic device must satisfy for use on the inner tracker include: (1) Radiation hard to 10 Mrad of \(\gamma\) radiation and 10\({}^{14}-10^{15}\) neutrons cm\({}^{-2}\). (2) Satisfactory operation in magnetic fields of 2 Tesla at the nominal temperature (\(\pm\) 2\({}^{o}\)C) and have a functional temperature range of -10\({}^{o}\)C \(\rightarrow\) + 30\({}^{o}\)C. (3) Low power consumption due to restrictions on frontend cooling and power supplies. (4) High degree of reliability of order 0.1% failure rate per year.

All these points have been, or are being, investigated either by GMMT or the RD23 collaboration. Irradiation of the MQW chips has been performed with neutrons (fluence \(\Phi\)\(\sim\) 1.3 \(\times\) 10\({}^{14}\) n cm\({}^{-2}\)) and Co\({}^{60}\)\(\gamma\) rays (accumulated dose \(\sim\) 20 Mrad) [5]. The spectral reflectance characteristics measured before and after irradiation showed a barely detectable change. Similar tests have been done on optical fibre and sources of radiation hard fibres have been identified [5]. The induced effects of temperature and magnetic field variations on MQW chips have been modelled, based on spectral reflectance measurements [6]. Studies at Birmingham [7] have shown that for fields up to 4 T there is negligible change in the MQW characteristics.

Long-term system measurements are currently being performed at the Imperial College Co\({}^{60}\)\(\gamma\) irradiation facility using realistic dose rates (dD/dt \(\approx\) 600 Rad/h). Plans are also in hand for further irradiation of the modulators using Birmingham's Dynamitron neutron source facility, with the aim of measuring system parameters as a function of time under load during irradiation.

## 3 Proposed System

A proposed optical link for the readout of an inner tracker detector module is illustrated in Figure 1, where the shaded parts represent the optical link components. Data from 256 detector strips are multiplexed onto one optical channel. Six channels are available for analogue readout, of which four are used. Data transfer to and from the frontend uses monomode fibre ribbon. The conversion from electrical to optical signals is performed at the frontend by MQW modulators at an optical wavelength of \(\sim 15\,\mathrm{\SIUnitSymbolMicro}\)nm. Digital data are sent to the frontend at a wavelength of \(\sim 1300\)nm. At the backend a transceiver module, comprising lasers and photodiodes with a network of optical splitters and couplers, transmits and receives the optical signals. These transceiver modules will in future be mounted on readout boards. As the analogue readout part of the link is reflective, a single fibre carries light from the laser to the the modulator and also returns the reflected (modulated) light to the photodiode. In the near future, the transceiver will be in hybrid form with the lasers and photodiodes mounted directly on substrates containing waveguides that form the splitters and couplers.

To ease the installation and servicing of the frontend and backend equipment, two optical link breakpoints are foreseen, one at the detector and one at the readout board interface.

Figure 1: _Schematic diagram of proposed RD23 optical link._

Link Performance

The overall link performance is evaluated by measuring its transfer function (transceiver voltage output vs. frontend modulator input voltage). The aim is to use the linear portion of the transfer function, centred on the quadrature point, and to determine the linear range of operation for which a maximum \(\pm\)1% deviation from linearity is achievable. The peak signal to noise ratio (dynamic range) is defined as the maximum linear output voltage range divided by the output rms voltage noise. The overall performance is dependent on all individual components.

including fibre ribbons and optical connectors. Figure 2 shows the transfer functions of a prototype 4 channel modulator measured at Birmingham using a 1 MHz sinewave for the modulator input. The prototype system consisted of a 4-channel transceiver assembled with discrete fibre couplers, giving a gain of G\({}_{t}\)\(\sim\) 0.43 V/\(\mu\)W; a 100m length link of commercial monomode fibre, with two breakpoints based on angle-polished MT-8 connectors. All modulators used to date are 4-channel but future versions will contain 8-channels.

Measurements made by both Birmingham and CERN have revealed that for the better

Figure 2: _Measured transfer functions of a 4-channel MQW modulator. The modulator is biassed at -10.5 V and the noise is measured in a 30 MHz bandwidth. The light launched into each modulator channel varies but is typically \(\sim\) 250\(\mu W\)._

modulators, dynamic ranges of \(\sim 150\) are observed. However, looking at all the channels on all the modulators reveals a wide spread in performance, with 70% of the channels having a signal to rms noise ratio (SNR) greater than 100.1. The spread in performance is expected to improve with the next phase of modulator development as the assembly process becomes more mature. In addition, it should be noted that the chips used in the current modulator packages have a 50% lower modulation efficiency compared to devices fabricated in previous growth cycles. This loss of efficiency is believed to be understood by GMMT and hence a factor of two improvement is expected by using the earlier chip growth cycle. However, in order to optimise the functionality of the present link, a DFB laser with optical isolator is used (to reduce reflection induced noise [8]) which will be too expensive in the final solution. The DFB lasers will have to be replaced with Fabry Perot lasers which are less sensitive to reflections.

### 40 MHz Test bench

A testbench set-up at Birmingham, running under Labview, has been used to evaluate the performance of optical links for 25ns pulses. A sequencer and DAC simulate the output of an APV frontend chip [9]. Figure 3 shows such a simulation of the APV chip output, for 32 analogue channels, and this is then input to the MQW modulator.

The signal train consists of digital data, representing the address in the analogue pipeline, followed by the analogue information as a series of levels. A large spread in pedestal values is included in the analogue data in order to simulate realistically data taken in the laboratory with the latest batch of APV5 chips. This

Figure 3: _Simulated APV5 output comprising digital data representing the pipeline address followed by analogue data._

in the next section. Figure 4 shows data after being transmitted through the optical link (multiplexed only at 20MHz because of limitations on the MQW driver board used for these tests) and digitised by a flash ADC. As can be seen, a the signal is faithfully transmitted. No bandwidth requirement has been imposed. Figure 5 shows the result of multiplexing at 2.5 MHz where undershoot is now observed in the analogue samples following the digital data (unlike the 20 MHz case). This undershoot arises from the AC coupling of the optical link which has a 5\(\mu s\) time constant and matched to operation at much faster readout rates. This was exactly the problem seen in the Atlas H8 beamtests this year where the frontend chips used for analogue readout (APV5 and FELIX128) were operated at readout rates well below their designed values (discussed further in next section). The consequences were: (1) reduced pulse height at the sampling instant of the FADC and (2) signals causing undershoot on subsequent channels, resulting in increased noise. Both of these effects can, however, be corrected for offline.

### Atlas H8 Testbeam Results

The reflective optical link has been integrated into complete readout chains in the 1995 Atlas-SCT tests in the H8 beam at CERN. Two independent investigations have been carried out; one based on the APV5 frontend chip (by Birmingham) and the other using the FELIX128 frontend chip (by CERN). In both cases, the signals produced by the front end chips are amplified and transmitted via reflective optical links to the counting room, where the analogue data are converted into digital data by a flash ADC (SIROCCO). The data were taken using a VME based data acquisition system. Offline analysis included pedestal subtraction and corrections for common mode noise rejection. Both investigations are now discussed in further detail.

(1) The original aim of the Birmingham group was to readout a single-sided SCT barrel module comprising of 4 APV5 chips each reading out 128 strips of the detector. Unfortunately, difficulties in yield and performance of the APV5 chips resulted in only a limited number being available for mounting on detector hybrids. No chips performed at the design speed of operation (40 MHz) and this meant that the deconvolution mode of operation, needed to recover the signal in a single beam-crossing at the LHC, could not be employed.

Due to module availability at the time of testbeam the optical link was used to read-out multiplexed analogue data from a prototype Silicon microstrip forward detector module (12cm in length with a 112.5\(\mu m\) readout pitch) provided by the Liverpool group [10]. The single APV5 chip was operated in peak mode and multiplexed at a rate of 2.5 MHz. Other performance shortfalls from the expected Atlas operation at LHC were large spreads in the pedestal values, equivalent to \(\sim 4\) MIPs although in most channels these were within \(\sim 2\) MIPs; there were also spreads in amplifier gains over the 128 channels. In particular, the large spread of pedestal values meant that instead of being able to use the full dynamic range of the MQW modulator (\(\sim 160\) for the modulator channel used) corresponding to 4 MIPs, a range of 6 MIPs had to be covered. This reduced the signal to noise ratio of the link (at 1 MIP) from 40:1 to \(\sim 27\):1. This was more than sufficient for reading out the APV5 output which had a signal to noise ratio of \(\sim 10\):1. It is worth noting that the dynamic range of the optical link can be substantially increased by extending to the Figure 4: _Digitised output of optical link. Same trace as in figure 3 but using data simulated with 20 MHz readout rate._

Figure 5: _Same as figure 4 but for simulated readout at 2.5 MHz._

non-linear part of the modulator transfer function; and this was what the CERN group did in order to readout the FELIX128 that had a signal to noise of \(\sim\) 26:1. Figure 6 shows a comparison of the default (LED based) readout compared with the MQW based readout in terms of the signal to noise measured on adjacent strip pairs. This is raw data so no tracking information has been used to select signals. Each histogram entry is measured by summing the (pedestal subtracted) pulse height information from two adjacent strip pairs and dividing by the noise from one of those channels. In performing the pedestal subtractions for the APV5 data the pedestal values for each of the 160 timebins ( columns in the analogue pipeline) were calculated for each of the 128 channels. This information was used to correct for the spread in pipeline pedestal values. This also corrected the MQW data for the AC undershoot problem, described in section 4.1 and illustrated in figure 5, which resulted in the pedestal values following the address data being dependent on the address value. Figure 6 shows peaks at \(\sim\) 10 units for both readout systems (fitting a gaussian to the peaks results in 9.8:1 for LED and 9.4:1 for MQW). The noise peak at zero has been removed by a 2.5 \(\sigma\) cut. No correction, however, has been made for the other consequence of AC coupling which results in reduced pulse height for the MQW data due to the FADC sampling towards the end of the 400 _ns_ (2.5 MHz) pulse duration. This is expected to reduce the average SNR by 7%. In all the offline comparisons made between LED based and MQW based readout, over several different runs, there was never a SNR degradation greater than 10%. If one includes a 7% correction factor then indeed the reflective link performs as expected.

Runs have also been looked at in the offline analysis where the MQW-modulator DC bias

Figure 6: _Pulse height distributions showing a comparison of LED and MQW based readout._

has been varied from the default setting -9.0V to -8.5V, -9.5V and -10.5V. The effect of this bias change is to make more of the channels operate nearer to the non-linear region of the MQW modulator transfer function and if not corrected for, reduce the average SNR on all strip pairs. This effect is observed but is small over DC bias range used (\(\Delta\) SNR \(\sim\) 10%).

(2) The CERN group used a 6cm Silicon microstrip detector with a 50\(\mu m\) readout pitch. Data from 128 detector channels were readout and processed in parallel by a FELIX128 [11] frontend chip and serialised by an analogue multiplexer. Data were also readout in parallel with a conventional copper coax-cable and digitised in a second SIROCCO to serve as a reference. The FELIX128 chip, like the APV5 chip, can operate in two different modes, the peak mode and the deconvoluted mode, with the latter mode having an inherently worse SNR. To test the optical link, data were taken in peak mode. As for the APV5 chip, the same problems were encountered due to the AC coupling of the optical link because the readout rate of the FELIX128 was set low at 2 MHz. This has been discussed above but to summarise: Firstly, at 2 MHz the pulse duration is 500 _ns_ which means that the FADC sampling at end of pulse results in a loss of pulse height of \(\sim\) 10%. The problem is more acute if two or more samples occur (two or multi-cluster events) because adjacent detector strips appear consecutively from the multiplexer (unlike the case for the APV5 chip). Secondly, noise increases due to the undershoot and must be corrected.

The SNR with the FELIX128 in the peak mode was measured to be 26:1 (figure 7) on the copper link. The same SNR was measured using the reflective optical link (figure 8) after correcting for AC coupling effects. Data taken in the particle beam with the FELIX128 in the deconvoluted mode gave a SNR of 13:1 (without using TDC information) for both copper and fibre link.

## 5 Safety Issues

The optical power launched into the links can be hazardous if viewed by the naked eye. The maximum CW safe emission power (class 1) for semiconductor lasers is wavelength dependent and set at 10mW for \(\lambda=1550\)nm and 8.8mW for \(\lambda=\)1300nm [12]. The RD23 reflective link is expected to be a class 1 system.

## 6 Summary

The use of the RD23 reflective optical link has been investigated by the Birmingham and CERN groups for analogue readout. The 4 channel system used so far and reported in this note indicates that the performance required for the readout of LHC tracking detectors is achievable. Much effort has gone into studying the system in simulated LHC environments (radiation testing etc.) and system aspects such as connectivity. Results to date suggest that the optical link can satisfy the stringent LHC-Atlas requirements.

One important issue now being addressed is that of reliability. Lifetime issues are not expected to be a problem as the MQW modulators are passive. They can be compared to InGaAs photodiodes which are similar in structure and have estimated median lifetimesFigure 8: _Pulse height distribution using MQW-based readout._

Figure 7: _Pulse height distribution using copper-link readout._

in excess of \(10^{9}\) hours at room temperature. However, the reflective modulator is still a new technology using custom packaging techniques and lifetime issues will need verifying experimentally.

The most important issue today, however, is that of cost. New technologies are expensive, particularly in the optoelectronics industry. It is worth noting that round two-thirds of the projected reflective link costs are in transceiver cost s; the remaining third being for the MQW modulators and 100m of nonceterised fibre ribbon. An eight channel link, close to the final design, is expected to be demonstrated by September 1996, when final cost estimates should also be available. This will also coincide with testing of the APV6 chip which should allow a realistic assessment of a radiation hard analogue readout scheme. In December 1996, Atlas will choose between analogue, digital or binary readout for the inner detector.

The system being proposed by RD23 is to use the same optical link for analogue readout and for sending digital TTC information to the front end. This design would not be suitable, therefore, should Atlas have the counting room in a different location from the Central Trigger Processor.

## 7 Acknowledgements

Thanks to members of the Atlas SCT group and the members of the RD20 and RD23 collaborations. The Birmingham group would like to thank the Liverpool group for their help during the testbeam, in particular C.Green and T.Jones. The CERN group would like to acknowledge the help given by S.Gadomsky, J.Kaplon, A.Kappes, E.Monroy, S.Roe and S.Stapnes.

## 8 References

(1) CERN/DRDC 93-35 (1993)

(2) CERN/DRDC 94-38 (1994)

(3) CERN/DRDC 95-61 (1995)

(4) M.J.Goodwin et al., "The application of optoelectronic technologies to high performance electronic processor interconnects", Optical and Quantum Electronics, Vol 26, pp455-70, 1994.

(5) K.Gill et al., "Ionising radiation damage of optical fibre data link components in the CMS Inner Tracker", CMS TN/95-005.

(6) M.Glick et al., "Characterization of optical modulators for application in lightwave links at CERN", to appear in "Guided Wave Optoelectronic Device Characterization, Analysis and Design", T.Tamir, W.Bertoni, G.Guffet, editors, plenum press.

(7) "Applications of Optoelectronics in High Energy Physics", M.S.Haben, Ph D Thesis, University of Birmingham (1993).

(8) "Investigation of the Use of Optical Modulators for Analogue Data Readout from Particle Physics Detectors', K.Webster, PhD Thesis, University of Birmingham (1995).

(9) M.French et al., "APV5RH - A 128 channel radiation hard pipeline chip for LHC tracker applications", in Proc. of the 1st Workshop on Electronics for LHC Experiments, Lisbon, September. 1995.

(10) P.P.Allport et al., "Silicon Detectors for Forward Tracking in Atlas", in proc. of 2nd International Symposium on the Development and Application of Semiconductor Tracking Detectors (Hiroshima), October 1995.

(11) E.Nygard et al., "FELIX128 - An Advanced Front-End Multichannel Analogue/Digital Signal Processing Chip in CMOS for Future High Energy Physics Applications", in preparation.

(12) International Electrotechnical Commision: IEC825-1:1993