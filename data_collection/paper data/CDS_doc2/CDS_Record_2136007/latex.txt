# 2015 start-up trigger menu and initial performance assessment of the ATLAS trigger using Run-2 data

The ATLAS Collaboration

###### Abstract

This document summarizes the ATLAS trigger upgrades over the 2013-2014 LHC shutdown for the Run-2 data-taking and the start-up trigger menu. The initial trigger performance is evaluated using the first 13 TeV data collected by the ATLAS detector in 2015.

The ATLAS Collaboration

The ATLAS Collaboration

This document summarizes the ATLAS trigger upgrades over the 2013-2014 LHC shutdown for the Run-2 data-taking and the start-up trigger menu. The initial trigger performance is evaluated using the first 13 TeV data collected by the ATLAS detector in 2015.

## 1 Introduction

The trigger system is an essential component of any hadron collider experiment as it is responsible for deciding whether or not to keep a given beam crossing for later study. During Run-1 of the Large Hadron Collider (LHC) operations, the ATLAS trigger system [1] operated efficiently at instantaneous luminosities of up to \(8\times 10^{33}\,\mathrm{cm}^{-2}\mathrm{s}^{-1}\) at \(\sqrt{s}\) up to \(8\,\mathrm{TeV}\) and collected more than three billion events used in more than 400 ATLAS publications. In Run-2 the increased collision energy (\(\sqrt{s}=13\,\mathrm{TeV}\)), higher luminosity and an increased number of proton-proton interactions per bunch crossing (pile-up), will exceed the trigger rate capabilities of the Run-1 trigger system when running with the trigger thresholds needed to satisfy the physics programme of the experiment. The long shutdown between LHC Run-1 and Run-2 operations was therefore used to improve the trigger system with almost no component left untouched.

This document summarizes the upgrades of the Run-1 trigger system, outlines the trigger selection criteria designed for Run-2 data-taking at a peak luminosity of \(5\times 10^{33}\,\mathrm{cm}^{-2}\mathrm{s}^{-1}\) and describes the initial performance assessment using the first \(13\,\mathrm{TeV}\) data and comparisons to Monte Carlo (MC) simulation.

## 2 The ATLAS detector

The ATLAS experiment [2] is a multi-purpose particle detector with a forward-backward symmetric cylindrical geometry and nearly \(4\pi\) coverage in solid angle.1 The interaction point is surrounded by an inner detector (ID), a calorimeter system, and a muon spectrometer (MS).

Footnote 1: ATLAS uses a right-handed coordinate system with its origin at the nominal interaction point (IP) in the centre of the detector and the \(z\)-axis along the beam pipe. The \(x\)-axis points from the IP to the centre of the LHC ring, and the \(y\)-axis points upward. Cylindrical coordinates (\(r\), \(\phi\)) are used in the transverse plane, \(\phi\) being the azimuthal angle around the \(z\)-axis. The pseudorapidity is defined in terms of the polar angle \(\theta\) as \(\eta=-\ln\tan(\theta/2)\). Rapidity is defined as \(y=0.5\ln\left[(E+p_{z})/(E-p_{z})\right]\) where \(E\) denotes the energy and \(p_{z}\) is the component of the momentum along the beam direction. Transverse momentum and energy are defined as \(p_{\mathrm{T}}=p\sin\theta\) and \(E_{\mathrm{T}}=E\sin\theta\), respectively. \(\Delta R\) is defined as \(\sqrt{(\Delta\eta)^{2}+(\Delta\phi)^{2}}\).

The ID provides precision tracking of charged particles for pseudorapidities \(|\eta|<2.5\) and is surrounded by a superconducting solenoid providing a \(2\,\mathrm{T}\) axial magnetic field. It consists of a pixel detector and a silicon-microstrip Semiconductor Tracker (SCT) inside a transition radiation tracker. One significant upgrade for Run-2 is the presence of the Insertable B-Layer (IBL) [3], an additional pixel layer close to the interaction point, that provides high-resolution hits at small radius to improve the tracking performance.

In the pseudorapidity region \(|\eta|<3.2\), high-granularity lead/liquid-argon (LAr) electromagnetic (EM) sampling calorimeters are used. A steel/scintillator tile calorimeter measures hadron energies for \(|\eta|<1.7\). The endcap and forward regions, spanning \(1.5<|\eta|<4.9\), are instrumented with LAr calorimeters for both EM and hadronic measurements.

The muon spectrometer consists of three large superconducting toroids with eight coils each, a system of trigger and precision-tracking chambers, which provide triggering and tracking capabilities in the ranges \(|\eta|<2.4\) and \(|\eta|<2.7\), respectively.

For Run-2 the ATLAS detector has a two-level trigger system. The first-level trigger (Level-1 trigger) is implemented in hardware and uses a subset of the detector information to reduce the accepted rate to \(100\,\mathrm{kHz}\). This is followed by a software-based trigger (called higher-level trigger, HLT) that reduces the rate of events recorded to \(1\,\mathrm{kHz}\).

The Run-2 dataset used in this document consists of 81 pb\({}^{-1}\) of data taken with 50 ns bunch spacing, and 4 fb\({}^{-1}\) (3.2 fb\({}^{-1}\))2 of data delivered (collected after data quality requirements) with 25 ns bunch spacing.

Footnote 2: Some of the results shown in this note used a subset of the data or an earlier luminosity calibration and therefore different integrated luminosities are quoted.

## 3 Run-2 trigger infrastructure improvements

A schematic of the upgraded trigger and data acquisition (TDAQ) system can be seen in Figure 1.

The capabilities of the Level-1 trigger were improved in several ways. The preprocessing of calorimeter signals for the Level-1 Calorimeter trigger was made more flexible by replacing a custom ASIC with a modern FPGA in the preprocessor. This new hardware allowed the use of auto-correlation filters and a new bunch-by-bunch dynamic pedestal correction, both of which help suppress pile-up effects. Additional inputs were added to the Level-1 Muon trigger. To suppress most of the fake muon triggers, the muon endcap trigger (\(1.05<|\eta|<2.4\)) now requires a coincidence with hits from the innermost muon chamber, and in the near future also from the outermost layer of the hadronic calorimeter. The trigger coverage is expected to improve by 4% in the barrel region with newly installed chambers in the so-called feet region of the muon system. The output merger modules for both the Level-1 Calorimeter trigger (CMX) and the Level-1 Muon trigger (MuCTPi) were both upgraded to send all the Level-1 trigger objects to a new topological trigger processor (L1Topo) [4], currently under commissioning. The new L1Topo system enables the Level-1 trigger to combine kinematic information from multiple calorimeter and muon trigger objects. This new feature is used to trigger, for instance, on high mass di-jet pairs from vector boson fusion processes or on di-muons with a limited opening angle from \(B\)-hadron decays. The use of L1Topo significantly suppresses backgrounds, in many cases by more than a factor of two. The main part of the

Figure 1: The ATLAS trigger and data acquisition system in 2015. New features with respect to the Run-1 system are indicated with orange boxes.

central trigger processor (CTP) was replaced to allow for additional inputs from L1Topo and to double the number of trigger selections that can be applied in parallel. The various upgrades in the Level-1 trigger hardware, as well as improvements in the detector readout, raised the maximum Level-1 trigger rate from 70 kHz in Run-1 to 100 kHz in Run-2.

In addition there have been major upgrades in the HLT. In Run-1 the ATLAS trigger system had distinct Level-2 and Event Filter (EF) farms. For Run-2, these farms were merged into a single farm running a unified HLT process, that retains the on-demand data readout of the old Level-2 and to a larger extent uses offline based algorithmic code from the Event Filter. This new system reduces code and algorithm duplication and results in a more flexible HLT. The majority of the trigger selections were re-optimized during the shutdown to minimize differences between the HLT and the offline analysis selections, which in some cases reduced trigger inefficiencies by more than a factor two. The HLT tracking algorithms have also been prepared for inclusion of a new, fast hardware based tracking system (FTK) [5] which will become operational during 2016. The average output rate of the HLT has been increased from 400 Hz to 1 kHz. Finally, the HLT processing performed within _regions of interest_ (RoI) has been augmented for some triggers to also allow aggregation of the RoIs into a single object ('super-RoI'). This reduces the trigger processing for events with a large multiplicity of partially overlapping RoIs.

The upgraded ATLAS trigger system has been commissioned using cosmic ray data and early 13 TeV collisions. It works efficiently and most of the new trigger components have been used in the current Run-2 data-taking, allowing ATLAS to efficiently select events for physics analysis in Run-2.

## 4 Trigger menu strategy

The trigger menu, i.e. the list of trigger selection criteria used for data-taking, consists of:

* 'primary' triggers, which are used for physics measurements and are typically running unprescaled;
*'support' triggers, which are used for efficiency and performance measurements or monitoring, and are typically running at a small rate (of the order of 0.5 Hz each);
* 'alternative' triggers, which are running alternative online reconstruction algorithms, as primary or support selections;
* 'backup' triggers, with tighter selections and lower expected rate;
* 'calibration' triggers, which are used for detector calibrations and are often running at high rate but storing very small events with only the relevant information from the detector needed for the calibrations.

The complete set of trigger selections has to respect all trigger limitations (Level-1 and HLT), which makes the optimal distribution of the available bandwidth challenging. The distribution is driven by the physics priorities of the experiment, and the number of clients satisfied by a particular trigger, meaning very specialized triggers aim at O(1 Hz), while triggers serving several analyses can aim at O(10 Hz) or even more (as in the case of the single electron and muon triggers). About 20% of the HLT bandwidth is dedicated to the supporting triggers.

The main triggers that compose the ATLAS \(5\times 10^{33}\) cm\({}^{-2}\)s\({}^{-1}\) trigger menu (valid for peak luminosity up to \(6.5\times 10^{33}\) cm\({}^{-2}\)s\({}^{-1}\)) and their measured rates are shown in Table 1. For early data-taking and peak luminosities below \(3\times 10^{33}\) cm\({}^{-2}\)s\({}^{-1}\) looser selections were deployed in some cases.

\begin{table}
\begin{tabular}{|l|l|c|c|c|c|} \hline \multirow{2}{*}{**Trigger**} & \multirow{2}{*}{**Typical offline selection**} & \multicolumn{2}{c|}{**Trigger Selection**} & **Level-1 Rate** & **HLT Rate** \\ \cline{3-5}  & & Level-1 [GeV] & HLT [GeV] & \multicolumn{2}{c|}{**[kHz]**} & **[Hz]** \\ \cline{3-5}  & & & & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} \\ \cline{3-5}  & & & & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} \\ \cline{3-5}  & & & & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} \\ \hline \hline \multirow{2}{*}{Single leptons} & Single iso \(\mu\), \(p_{\rm T}>21\) GeV & 15 & 20 & 7 & 130 \\ \cline{2-5}  & Single \(e\), \(p_{\rm T}>25\) GeV & 20 & 24 & 18 & 139 \\ \cline{2-5}  & Single \(\mu\), \(p_{\rm T}>42\) GeV & 20 & 40 & 5 & 33 \\ \cline{2-5}  & Single \(\tau\), \(p_{\rm T}>90\) GeV & 60 & 80 & 2 & 41 \\ \hline \hline \multirow{7}{*}{Two leptons} & Two \(\mu\)’s, each \(p_{\rm T}>11\) GeV & \(2\times 10\) & \(2\times 10\) & 0.8 & 19 \\ \cline{2-5}  & Two \(\mu\)’s, \(p_{\rm T}>19,10\) GeV & 15 & 18, 8 & 7 & 18 \\ \cline{2-5}  & Two loose \(e\)’s, each \(p_{\rm T}>15\) GeV & \(2\times 10\) & \(2\times 12\) & 10 & 5 \\ \cline{2-5}  & One \(e\) \& one \(\mu\), \(p_{\rm T}>10,26\) GeV & 20 (\(\mu\)) & 7, 24 & 5 & 1 \\ \cline{2-5}  & One loose \(e\) \& one \(\mu\), \(p_{\rm T}>19,15\) GeV & 15, 10 & 17, 14 & 0.4 & 2 \\ \cline{2-5}  & Two \(\tau\)’s, \(p_{\rm T}>40,30\) GeV & 20, 12 & 35, 25 & 2 & 22 \\ \cline{2-5}  & One \(\tau\), one \(\mu\), \(p_{\rm T}>30,15\) GeV & 12, 10 (+jets) & 25, 14 & 0.5 & 10 \\ \cline{2-5}  & One \(\tau\), one \(e\), \(p_{\rm T}>30,19\) GeV & 12, 15 (+jets) & 25, 17 & 1 & 3.9 \\ \hline \hline \multirow{7}{*}{Three leptons} & Three loose \(e\)’s, \(p_{\rm T}>19,11,11\) GeV & 15, \(2\times 7\) & 17, \(2\times 9\) & 3 & \(<0.1\) \\ \cline{2-5}  & Three \(\mu\)’s, each \(p_{\rm T}>8\) GeV & \(3\times 6\) & \(3\times 6\) & \(<0.1\) & 4 \\ \cline{2-5}  & Three \(\mu\)’s, \(p_{\rm T}>19,2\times 6\) GeV & 15 & 18, \(2\times 4\) & 7 & 2 \\ \cline{2-5}  & Two \(\mu\)’s \& one \(e\), \(p_{\rm T}>2\times 11,14\) GeV & \(2\times 10\) (\(\mu\)’s) & \(2\times 10,12\) & 0.8 & 0.2 \\ \cline{2-5}  & Two loose \(e\)’s \& one \(\mu\), \(p_{\rm T}>2\times 11,11\) GeV & \(2\times 8,10\) & \(2\times 12,10\) & 0.3 & \(<0.1\) \\ \cline{2-5}  & One photon & One \(\gamma\), \(p_{\rm T}>125\) GeV & 22 & 120 & 8 & 20 \\ \hline \hline \multirow{2}{*}{Two photons} & Two loose \(\gamma\)’s, \(p_{\rm T}>40,30\) GeV & \(2\times 15\) & 35, 25 & 1.5 & 12 \\ \cline{2-5}  & Two tight \(\gamma\)’s, \(p_{\rm T}>25,25\) GeV & \(2\times 15\) & \(2\times 20\) & 1.5 & 7 \\ \hline \hline \multirow{2}{*}{Single jet} & Jet (\(R=0.4\)), \(p_{\rm T}>400\) GeV & 100 & 360 & 0.9 & 18 \\ \cline{2-5}  & Jet (\(R=1.0\)), \(p_{\rm T}>400\) GeV & 100 & 360 & 0.9 & 23 \\ \hline \hline \(E_{\rm T}^{\rm miss}\) & \(E_{\rm T}^{\rm miss}>180\) GeV & 50 & 70 & 0.7 & 55 \\ \hline \hline \multirow{3}{*}{Multi-jets} & Four jets, each \(p_{\rm T}>95\) GeV & \(3\times 40\) & \(4\times 85\) & 0.3 & 20 \\ \cline{2-5}  & Five jets, each \(p_{\rm T}>70\) GeV & \(4\times 20\) & \(5\times 60\) & 0.4 & 15 \\ \cline{2-5}  & Six jets, each \(p_{\rm T}>55\) GeV & \(4\times 15\) & \(6\times 45\) & 1.0 & 12 \\ \hline \hline \multirow{3}{*}{\(b-\)jets} & One loose \(b\), \(p_{\rm T}>235\) GeV & 100 & 225 & 0.9 & 35 \\ \cline{2-5}  & Two medium \(b\)’s, \(p_{\rm T}>160,60\) GeV & 100 & 150,50 & 0.9 & 9 \\ \cline{2-5}  & One \(b\) \& three jets, each \(p_{\rm T}>75\) GeV & \(3\times 25\) & \(4\times 65\) & 0.9 & 11 \\ \cline{2-5}  & Two \(b\) \& two jets, each \(p_{\rm T}>45\) GeV & \(3\times 25\) & \(4\times 35\) & 0.9 & 9 \\ \hline \hline \multirow{2}{*}{\(B-\)physics} & Two \(\mu\)’s, \(p_{\rm T}>6,4\) GeV & \multirow{2}{*}{6,4} & \multirow{2}{*}{6,4} & \multirow{2}{*}{8} & \multirow{2}{*}{52} \\ \cline{2-5}  & plus dedicated \(J/\psi\)-physics selection & & & & 70 & 1400 \\ \hline \hline \multicolumn{5}{|l|}{Total} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} & \multicolumn{1}{c|}{} \\ \hline \end{tabular}
\end{table}
Table 1: The main ATLAS triggers used for runs with \(L=5\times 10^{33}\) cm\({}^{-2}\)s\({}^{-1}\). Both the Level-1 and HLT rates measured at this instantaneous luminosity are provided for each trigger. The total rate corresponds to the full menu that includes many more triggers than those listed in this table. Electron and \(\tau\) identification is assumed to be of ‘medium’ flavour [6, 7], unless specified otherwise. \(b\)-jet identification is assumed to be of ‘tight’ flavour [8], unless specified otherwise. The typical offline cuts are only indicative.

## 5 Trigger performance

### HLT tracking

For Run-1 the Inner Detector trigger consisted of custom tracking at Level-2 and modified offline tracking running in the Event Filter [9]. For Run-2, the unified HLT process has allowed the opportunity to combine the reconstruction in a more optimal way. In addition, it allows information from new detector subsystems, such as the IBL and later on the FTK, to be integrated into the algorithm design from the very beginning.

As in Run-1 the tracking is divided into two sections, but extensive use of the opportunities afforded by running the full process on a single node has been made. The redesigned system includes a _fast tracking_ stage, which combines custom track seeding with offline track finding, which is followed by a _precision tracking_ stage, similar to the Run-1 EF tracking, but seeded by the tracks from the fast tracking, rather than running the pattern recognition from the offline tracking again from scratch. Because of the combinatorial nature of the tracking, the processing time of the pattern recognition does not scale linearly with increasing luminosity. The new strategy adopted in Run-2 has allowed a significant improvement in timing almost by a factor of three compared to the strategy used in Run-1, even after taking into account the speed improvement in the offline tracking.

Figure 2 shows the efficiency for HLT track finding for the 24 GeV tight electron trigger and the 10 GeV muon trigger with respect to the offline tracks in the 50 ns collisions as a function of the offline track pseudorapidity. In both cases the fast track finder efficiency is larger than 99% in the central region. For the muon trigger the efficiency is larger than 99% in the full \(\eta\) range, while for the electron trigger there is a small efficiency loss of around 1% in the endcap regions, where the traversed material increases, due to unrecovered energy loss from bremsstrahlung emission.

Figure 2: HLT Inner Detector tracking efficiency for the 24 GeV electron (left) and the 10 GeV muon (right) triggers using 50 ns Run-2 data. Both are shown with respect to the pseudorapidity of the offline tight electron and muon tracks, respectively. The offline tracks are required to have at least 2 pixel clusters, 6 SCT clusters, \(|\eta|<2.5\) and \(p_{\mathrm{T}}>20\,(10)\) GeV for electrons (muons). The closest matching trigger track within a cone of \(\Delta R<0.05\) of the offline track is selected as the matching trigger track. The HLT tracking in both cases runs a Fast Track Finder stage followed by a Precision Tracking stage. Only statistical uncertainties are shown.

### HLT calorimeter

In Run-1 the rate at which the full calorimeter data could be retrieved from the detector was quite limited due to the fact that the relevant algorithms were relatively slow. Similarly the topological clustering [10] that is used in the offline reconstruction of taus, jets and missing transverse momentum (\(E_{\mathrm{T}}^{\mathrm{miss}}\)) was also relatively slow and, as such, could only be perfomed at the EF after the rate has been sufficiently reduced. There was a big effort during the long shutdown to speed up both the calorimeter data unpacking algorithm and the topo-clustering algorithm such that they could both be run at higher rate. Significant improvements in speed were achieved by dropping unnecessary cell-level checks in the calorimeter data unpacking, by increasing the use of data pre-fetching in the topo-clustering and through general software optimisations. The overall impact of these improvements was to reduce the calorimeter data unpacking time by a factor of \(\sim\)7 and the topo-clustering time by a factor of \(\sim\)2. This was sufficient to allow them both to run directly after Level-1 in Run-2.

### \(E/\gamma\) triggers

The electron and photon triggers in Run-2 are constructed in a similar fashion as in Run-1 [11]. In the Level-1 trigger, the transverse energy of electromagnetic showers collected in the calorimeters is computed within a granularity of \(\Delta\eta\times\Delta\phi=0.1\times 0.1\). A veto is applied in the energy deposited in the hadronic calorimeter. The selected objects must satisfy an \(E_{\mathrm{T}}\) threshold and are used to seed the first step of the HLT reconstruction which uses fast algorithms to form electron and photon candidates based either on calorimetric information only (in the case of photons) or on a combination of calorimetric and track information (in the case of electrons).

In the second step of the HLT, offline-like reconstruction algorithms using the full detector granularity are used to form the final trigger decision. One of the major improvements in the HLT electron and photon reconstruction with respect to Run-1 is the energy calibration [12] of electromagnetic clusters which for Run-2 uses a multivariate technique to correct the detector response. In addition, the identification of electrons [6] is now based on a likelihood discriminant which uses electromagnetic calorimeter shower shape and tracking information as input and provides an increased signal purity.

The main electron and photon trigger selections used in the ATLAS trigger menu are included in Table 1: an inclusive medium-\(p_{\mathrm{T}}\) single electron trigger complemented by selections requiring two or three lower-\(p_{\mathrm{T}}\) electrons, and similarly an inclusive high-\(E_{\mathrm{T}}\) photon complemented by lower-\(E_{\mathrm{T}}\) di-photon trigger selections. The efficiency curves with respect to the offline objects as a function of the \(p_{\mathrm{T}}\) (\(E_{\mathrm{T}}\)) of the offline reconstructed electrons (photons) are shown in Figures 3 and 4, justifying the corresponding typical offline selections mentioned in Table 1.

### Muon triggers

Muons are identified [13] at Level-1 by the spatial and temporal coincidence of hits in two or three layers either in the Resistive Plate Chambers (RPCs) or Thin Gap Chambers (TGCs), pointing to the beam interaction region. The RoI provided by Level-1 enables a first HLT algorithm to select the region of the muon detector in which the muon candidate resides. A track is constructed by adding the data from the Monitored Drift Tube chambers to get a more precise estimate of the track parameters. This stand-alonemuon is combined with a track found in the ID. The \(p_{\mathrm{T}}\) measurement is refined by taking the weighted average between that of the MS and of the ID tracks.

These RoI-based muons are fed to more refined algorithms that identify particles following two different procedures. The first focuses on RoIs: muon candidates are first formed by using the muon detectors and are subsequently combined with ID tracks. If no combined muon is found, muon candidates are searched for by extrapolating precision ID tracks to the MS. Additionally, the degree of isolation for the combined muon is quantified by summing the \(p_{\mathrm{T}}\) of ID tracks with \(p_{\mathrm{T}}^{\mathrm{t}tk}>1\) GeV found in a cone of \(\Delta R<\Delta R_{\mathrm{cut}}\), centred around the muon candidate after subtracting the \(p_{\mathrm{T}}\) of the muon itself. For multi-muon triggers,

Figure 4: Efficiency of single photon triggers with respect to offline photons as a function of the offline photon transverse energy for \(|\eta|<2.37\), excluding the transition region between the barrel and endcap electromagnetic calorimeters at \(1.37<|\eta|<1.52\). The efficiency is measured using events recorded with a Level-1 trigger requiring an electromagnetic cluster with \(E_{\mathrm{T}}>7\) GeV. No background subtraction is applied. Only statistical uncertainties are shown.

Figure 3: Efficiency of the combined Level-1 and HLT trigger selections as a function of the offline electron candidate’s \(E_{\mathrm{T}}\). The offline reconstructed electron is required to pass likelihood-based loose (left) and medium (right) identification, depending on the trigger. The efficiencies were measured with a tag-and-probe method using \(Z\to ee\) decays. They are compared to expectation from \(Z\to ee\) simulation. The error bars show the combined statistical and systematic uncertainties.

muons are also reconstructed using a 'full-scan' approach, where the full detector information is utilized. This procedure recovers muons that are not found by the RoI-based method due to the limited Level-1 detector coverage.

Comparing to Run-1, several improvements have been made in the muon trigger reconstruction for the Run-2 data-taking. As already mentioned in Section 3, at Level-1 new RPCs have been installed to increase the detector coverage. In the endcap regions, new coincidence logic has been implemented to suppress the high rate coming from low-\(p_{\mathrm{T}}\) muons and background particles. Figure 5 shows the L1_MU15 trigger efficiency and the rate reduction achieved with and without requiring coincidence with the Forward Inner (FI) station in the \(1.3<|\eta|<1.9\) region. At the first step of the HLT reconstruction, an extrapolator is used to estimate the energy loss of the muons between the ID and the MS, replacing the previous look-up table approach. This is the same extrapolator as used in the offline tracking, based on a detailed description of material and magnetic fields. In the final step of the HLT muon reconstruction, the isolation requirement changed: in Run-1 a \(\Delta R_{\mathrm{cut}}=0.2\) was used with the requirement \(\Sigma p_{\mathrm{T}}^{\mathrm{trk}}/p_{\mathrm{T}}<0.12\) while in Run-2 this requirement is used for running at low luminosity only, while for higher luminosities \(\Delta R_{\mathrm{cut}}=0.3\) will be used with the requirement \(\Sigma p_{\mathrm{T}}^{\mathrm{trk}}/p_{\mathrm{T}}<0.06\).

Figure 6 shows the efficiency with respect to the offline muon selection of L1_MU15 and two HLT selections combined with an 'OR' requirement: a 20 GeV muon, loosely isolated and seeded from L1_MU15 (mu20_iloose_L1MU15) and a 50 GeV muon selection seeded from L1_MU20 (mu50). They are shown as a function of the \(p_{\mathrm{T}}\) of the offline muon candidates in the barrel and endcap detector regions. The Level-1 trigger efficiency of \(\sim\)70% observed in the barrel region is mainly due to the detector geometrical acceptance.

Figure 5: On the left, efficiency of the L1_MU15 trigger with respect to the offline muon selection as a function of the \(p_{\mathrm{T}}\) of the offline muon candidates in the endcap region, measured using a tag-and-probe method with \(Z\rightarrow\mu\mu\) candidates in 13 TeV data. The efficiency is calculated with and without the FI coincidence enabled. On the right, the \(\eta\) distribution of the RoIs from the L1_MU15 trigger are shown. The number of the entries are normalized to the integrated luminosities in the runs with and without the FI coincidence enabled. The rate reductions in the regions with no FI chambers are consistent with zero within statistical uncertainties. The binning for those regions are merged to reduce the statistical fluctuations.

### Tau triggers

Triggers for identifying hadronic tau lepton decays (tau triggers) used at both Level-1 and HLT are based upon the methods used by ATLAS for offline analysis in the 2012 running period [15]. However, several improvements have been introduced due to the upgrades to Level-1 and the merging of the HLT trigger. At Level-1, an isolation cut on the transverse energy in an annulus of calorimeter towers around the hadronic tau candidate relative to the tau transverse energy has been tuned based on 13 TeV MC samples. The isolation selection is not required for taus with a transverse energy greater than 60 GeV. At the HLT three sequential selections are made. Firstly, a requirement on the transverse energy of the hadronic tau candidate is made using topological clusters of calorimeter cells, with a dedicated tau energy calibration applied. Secondly, a two-step fast tracking is used to select tau candidates with a low track multiplicity. Here, a leading track is found within a narrow cone defined by the clusters, followed by a second fast-tracking step using a larger cone but with the tracks required to emanate from the same position along the beamline as the leading track. Finally, the full HLT precision tracking is run and a collection of variables, built from calorimeter and track quantities, is fed into a boosted decision tree (BDT) for the final tau identification. Details of this identification, which has been harmonized with the offline tau identification as much as possible, can be found in Ref. [16].

To evaluate the performance of the tau trigger in data, an enriched sample of \(Z\to\tau\tau\to\mu\tau_{\mathrm{had}}\) events recorded in the first 13 TeV collisions is used, where \(\tau_{\mathrm{had}}\) denotes the hadronically decaying tau lepton. Figure 7 shows the BDT tau identification score for online tau candidates passing the HLT tau trigger with transverse momentum threshold at 25 GeV and the online medium identification criteria. A good description of the data by \(Z\to\tau\tau\) MC is seen. It also shows the combined Level-1 and HLT trigger efficiency for online tau candidates with transverse momentum of at least 25 GeV, between one and three

Figure 6: Efficiency of the Level-1 L1_MU15 trigger and the mu20_iloose_L1MU15 or mu50 HLT selection plotted as a function of the \(p_{\mathrm{T}}\) of the offline muon candidates in the barrel (left) and endcap (right) detector regions. The efficiency is computed with respect to the offline muon candidates which are reconstructed using standard ATLAS software and are required to pass a medium quality requirement [14]. The L1_MU15 trigger requires that a candidate passed the 15 GeV threshold requirement of the Level-1 muon trigger system. The mu20_iloose_L1MU15 trigger is seeded by the L1_MU15 trigger and is required to satisfy a 20 GeV HLT threshold and to pass a loose isolation selection computed using inner detector tracks reconstructed online by the HLT. The mu50 trigger is seeded by the L1_MU20 trigger and is required to satisfy a 50 GeV HLT threshold. The efficiency is measured using a tag-and-probe method with \(Z\to\mu\mu\) candidates in 13 TeV data with no background subtraction applied. The HLT efficiency is measured with respect to the offline candidates that pass the Level-1 trigger. Only statistical uncertainties are shown.

tracks and passing the online medium identification at HLT. The trigger efficiency is measured with respect to the offline reconstructed tau candidates with transverse momentum above 25 GeV, one or three tracks and passing the offline medium identification criteria [16]. Once more, a good agreement between data and \(Z\to\tau\tau\) MC is seen within the statistics of the measurement.

### Jet triggers

The Level-1 jet triggers are divided into either central or forward, with central jet triggers requiring jets in the region \(|\eta|<3.2\) and forward jet triggers, requiring jets in the region \(3.1<|\eta|<4.9\). The custom electronics of the Level-1 Calorimeter trigger system form jet objects using a sliding window algorithm that takes as input coarse granularity energy deposits (\(0.2\times 0.2\) towers in \(\Delta\eta\), \(\Delta\phi\)) from the ATLAS calorimeters. A square sliding window size of \(0.8\times 0.8\) in \(\Delta\eta\times\Delta\phi\) is used and thresholds are applied to the total sum transverse energy measured in this window in order to determine if an event should be passed to the HLT for further processing.

In Run-2 the ability to extract the full set of calorimeter cells at the HLT upon receiving a Level-1 jet trigger accept for an event (_full scan_ clustering) is fully utilized and the intermediate RoI-based jet trigger reconstruction is dropped. Jets are reconstructed at the HLT using the anti-\(k_{t}\) jet algorithm [17] with two different distance parameters \(R=0.4\) (default) and \(R=1.0\), the same as those used offline. The topological clusters that are used as input to the jet finding algorithm are calibrated at the electromagnetic energy scale for \(R=0.4\) by default and at the local cluster weighting (LCW) scale [18] for \(R=1.0\). The HLT jets are then calibrated to the hadronic scale by first applying a jet-by-jet area pile-up subtraction

Figure 7: Performance of the tau trigger in an enriched sample of \(Z\to\tau\tau\to\mu\tau_{\rm had}\) events from the 2015 dataset collected using a single muon trigger and compared to the MC simulation. On the left, the BDT tau identification score for online tau candidates passing the HLT tau trigger with transverse momentum threshold at 25 GeV and online medium identification requirement is shown. The HLT tau candidates are matched with offline tau candidates passing the offline medium tau identification. On the right, the combined Level-1 and HLT tau trigger efficiency as function of the transverse momentum of the offline reconstructed tau candidates. Only statistical uncertainties are shown.

procedure [19] followed by a jet energy scale (JES) weighting [18] that is dependent on the HLT jet \(p_{\mathrm{T}}\) and \(\eta\) for \(R=0.4\) jets. In the case of \(R=1.0\) jets, the pile-up subtraction procedure is applied but not JES calibration factors.

The selection efficiency for four different HLT jet thresholds is shown in Figure 8 as a function of the offline jet \(p_{\mathrm{T}}\). Each jet trigger selection is compared between data and MC simulation using Pythia 8 for four typical thresholds from Run-2: 25 GeV (HLT_j25), 60 GeV (HLT_j60), 175 GeV (HLT_j175), and 360 GeV (HLT_j360). The per-event efficiency is determined using events selected by a lower threshold HLT trigger that is determined to be fully efficient in the phase space of interest for the threshold considered. The efficiency is well modelled in the MC simulation.

### \(b\)-jet triggers

For Run-2, triggering on jets containing \(B\)-hadrons (\(b\)-jet triggers) is provided with different requirements on the multiplicities of \(b\)-jets and light-jets, utilizing different \(E_{\mathrm{T}}\) thresholds and \(b\)-tagging operating points in order to provide a set of complementary triggers for analysis. For the first time, dedicated triggers designed to select semi-leptonic \(B\)-hadron decays are provided for physics analysis. These triggers require the presence of a muon inside a jet (\(\Delta R(\mu,\mathrm{jet})<0.5\)), both at the HLT, and in the future at Level-1, making use of the new L1Topo functionality.

A new configuration which employs a two-step tracking approach has been implemented in Run-2. In the first step, 'fast' tracking is run on a'super-RoI' constructed from all jets in the event that pass an \(E_{\mathrm{T}}\) threshold of 30 GeV. This is used to find the primary vertex of the event. In the second step, RoIs are created for each jet passing the relevant \(E_{\mathrm{T}}\) threshold of the trigger, using the primary vertex found in the first step to constrain the \(z\)-position of the RoI to \(\pm 20\) mm of the primary vertex \(z\)-position. Precision track finding, and then \(b\)-tagging is subsequently run in each of these RoIs in turn. This new two-step approach provides improved primary-vertex finding and is more stable, in terms of CPU consumption, under increased pile-up.

Figure 8: Comparison of per-event trigger efficiency turn-on curves between data and di-jet MC simulation using Pythia 8 for four typical thresholds from the full 2015 dataset: 25 GeV (HLT_j25), 60 GeV (HLT_j60), 175 GeV (HLT_j175), and 360 GeV (HLT_j360). Each efficiency is determined using events retained with a lower threshold trigger that is found to be fully efficient in the phase space of interest. Only statistical uncertainties are shown.

Finally, the \(b\)-jet trigger code has been adapted to use the tagging tools that have been developed by the offline \(b\)-tagging group. This allows for the usage of the most up-to-date multivariate taggers online, providing better performance, and greater coherence between the online and offline \(b\)-tagging decisions.

The expected performance of the \(b\)-jet triggers in Run-2 and a comparison to their performance in Run-1 are demonstrated in Figure 9, showing the large improvements obtained with respect to 2012.

### \(E_{\text{T}}^{\text{miss}}\) triggers

The trigger rates for \(E_{\text{T}}^{\text{miss}}\), the momentum imbalance in the direction transverse to the beam, can be severely affected by detector noise and mismeasurements, and generally rise much faster than linearly with pile-up. Techniques to maintain acceptable rates in the presence of pile-up therefore form an important part of the \(E_{\text{T}}^{\text{miss}}\) trigger development.

At Level-1, the use of auto-correlation filters and the new bunch-by-bunch dynamic pedestal correction, mentioned in Section 3, have significantly mitigated the impact of pile-up on the rate. Figure 10 demonstrates the improvement for a selection of \(35\,\mathrm{G}\mathrm{e}\mathrm{V}\) on the Level-1 \(E_{\text{T}}^{\text{miss}}\).

At the HLT, several different \(E_{\text{T}}^{\text{miss}}\) trigger solutions have been implemented and are being evaluated during the commissioning stage of LHC Run-2. While the offline algorithms do often include reconstructed muons in the momentum balance calculation, the trigger algorithms that are described herein use only

Figure 9: The expected online performance in terms of light-jet rejection (left) and \(c\)-jet rejection (right) of the MV2c20 tagger (solid black line) is shown together with the expected performance of the IP3D+SV1 tagger in Run-2 (dashed blue line) and, for the case of the light-jet rejection, the actual performance of the IP3D+SV1 tagger that was achieved during Run-1 (red stars). The improvement in IP3D+SV1 for Run-2 compared to Run-1 is due to several effects: inclusion of the IBL, improved tracking performance and tagger re-tuning for Run-2 conditions. The \(b\)-jet trigger performance in Run-1 was also affected by overly conservative pixel cluster errors used by the tracking that caused a mis-measurement of the track transverse impact parameter (\(d_{0}\)) uncertainty. The tuning is performed on \(t\bar{t}\) simulation with \(\sqrt{s}=13\,\mathrm{T}\mathrm{e}\mathrm{V}\). Jets used are required to have \(p_{\text{T}}>55\,\mathrm{G}\mathrm{e}\mathrm{V}\) and \(|\eta|<2.5\). The points illustrating the Run-1 performance were derived using \(t\bar{t}\) simulation with \(\sqrt{s}=13\,\mathrm{T}\mathrm{e}\mathrm{V}\).

energy measurements in the calorimeter when calculating \(E_{\mathrm{T}}^{\mathrm{miss}}\). The baseline algorithm uses as input the energy, measured at the electromagnetic scale, of calorimeter cells after removing those cells consistent with electronic noise. An alternative algorithm, used previously during the 2012 data-taking, employs topological clusters of cells as input, and employs the local hadronic method of calibration. The pile-up suppression technique, developed for this latter topo-cluster algorithm, subtracts the pile-up contribution found from energy deposits in a ring of pseudorapidity around the topo-cluster. An additional missing transverse momentum trigger, calculated solely from reconstructed HLT jets is also being investigated. A comparison between the performance of the difference algorithms is demonstrated in Figure 11.

Figure 11: Missing transverse momentum trigger efficiency turn-on curves with respect to the \(E_{\mathrm{T}}^{\mathrm{miss}}\) reconstructed offline without muon corrections for events satisfying a \(W\to\mu\nu\) selection. The events have been collected using the lowest unprescaled single muon trigger. On the left, the lowest unprescaled triggers activated during the 25 ns runs correspoding to various HLT \(E_{\mathrm{T}}^{\mathrm{miss}}\) algorithms are compared. On the right, the thresholds for the different algorithms correspond to equal trigger rate. Different trigger algorithms are compared: a 2-sided 2-\(\sigma\) noise suppression cell based algorithm (xe without a suffix), a topo-cluster based algorithm, with (pueta) and without (tc_lkw) a pile-up subtraction scheme, and an algorithm based on the sum of jet momenta (mht). The two different topo-cluster based algorithms overlay each other for most bins. \(E_{\mathrm{T}}^{\mathrm{miss}}\) distributions are event topology dependent, but this figure allows a qualitative comparison of the different algorithms. Only statistical uncertainties are shown.

Figure 10: Impact of the pile-up mitigation methods at the Level-1 trigger in the rate of the \(E_{\mathrm{T}}^{\mathrm{miss}}\) as a function of the instantaneous luminosity per bunch. The signal efficiency was not affected by this pedestal correction.

### \(B\)-physics triggers

Trigger selection of events for physics studies of \(B\)-meson decays (\(B\)-physics triggers) is mostly based on identification of \(b\)-hadrons through their decay chains with a muon pair in the final state. Examples are decays with charmonia \(B\to J/\psi(\to\mu\mu)X\), rare decays \(B^{0}_{(s)}\to\mu\mu\), and semileptonic \(B\to\mu\mu X\). Decays of prompt charmonium and bottomonium are also identified through their di-muon decays, and are therefore similar to \(b\)-hadron decays, apart from the lack of measurable displacement from the \(pp\) interaction point.

The primary suite of triggers require two muons at Level-1. Their rate is substantially reduced compared to single-muon Level-1 items; however, it results in inefficiencies at high transverse momentum, where the two muons become close in opening angle for low-mass resonances and the Level-1 fails to build separate RoIs. These muons are reconstructed using identical HLT algorithms as in the muon-trigger items, with the additional requirements that the two muons should form a good vertex (where the fit is performed using the inner-detector track parameters) within a certain invariant mass window (e.g. \(2.5<m(\mu\mu)<4.3\) GeV for \(J/\psi\)).

Figure 12: Efficiency for the lowest threshold \(B\)-physics trigger shown as a function of the \(p_{\rm T}(\mu\mu)\) (top left), \(y(\mu\mu)\) (top right) and \(\Delta R(\mu,\mu)\) (bottom) estimated from MC simulation using samples of prompt and inclusive non-prompt \(J/\psi\to\mu\mu\) decays. Candidates are selected matching the offline \(J/\psi\) selection criteria. The effect of a decreasing efficiency at higher \(p_{\rm T}\) and at low \(\Delta R(\mu,\mu)\) is a consequence of the diminishing opening angle between the two muons. The inefficiency at high \(\Delta R\) corresponds to the geometrical and threshold effects for low-\(p_{\rm T}\) muons.

Additional primary and supporting triggers are also implemented. Triggers seeded by single Level-1 muon RoIs with an additional track found at the HLT do not have similar opening angle issues, but suffer from high rates and run with high prescale factors. Finally, for selecting semi-leptonic decays, such as \(B^{0}\to\mu\mu K^{*0}(\to K^{+}\pi^{-})\), searching for additional hadron decays and a combined vertex fit allows to widen the di-muon mass window to the full kinematically allowed range still keeping moderate rates.

The strategy in Run-2 is similar to Run-1, however to cope with the higher instantaneous luminosity while retaining access to the lowest available thresholds, improved selections at the HLT are being put in place (such as requirements on the \(\chi^{2}\) of the vertex fits). After commissioning, L1Topo will be used to provide background rejection at Level-1 using algorithms designed to calculate the invariant mass and opening angle from Level-1 muon information.

Data-driven methods are being developed to determine the efficiency as a function of \(q\times\eta\), where \(q\) is the charge, of each muon and the opening angle between them to be used by physics analyses. The preliminary performance, as characterised through the simulation is illustrated in Figure 12. A few improvements in the \(B\)-physics triggers have been included for Run-2 data-taking with respect to the simulation that is shown in these plots. Events are selected by requiring two offline reconstructed _combined_ muons satisfying the tight quality selection criteria and \(p_{\mathrm{T}}(\mu)>4\) GeV, \(|\eta(\mu)|<2.3\). They are fitted to a common vertex, with \(\chi^{2}/\mathrm{dof}<10\) and invariant mass \(|m(\mu\mu)-3.097\) GeV\(|<0.3\) GeV. The efficiency is then defined to be the probability for a candidate, which passes the offline selection, to fire the lowest threshold \(B\)-physics di-muon trigger HLT_2mu4_bJpsimumuu with a match between the online and offline muons.

## 6 Conclusions

A large number of trigger upgrades and developments have been performed during the long shutdown in preparation for the Run-2 data-taking. A brief summary of the various updates as well as the first Run-2 performance studies can be found in this note.

The Level-1 trigger has many improvements in the hardware components including completely new systems, such as the new topological trigger processor which is being commissioned and allows to apply topological cuts to increase the background rejection and therefore reduce the rate. Upgrades in the Level-1 Calorimeter trigger include the implementation of a dynamic pedestal correction to mitigate pile-up effects. In the Level-1 Muon trigger, a new coincidence logic between the muon endcap trigger with the innermost muon chamber has been set up, and it is being extended with the hadronic calorimeter, to suppress the fake rate. New chambers have also been installed to increase the trigger coverage. In addition, the new Central Trigger Processor doubles the number of Level-1 trigger thresholds and the Level-1 output rate has increased from 70 kHz to 100 kHz. A new HLT architecture has been developed to unify the Level-2 and Event Filter scheme used in Run-1, improving the flexibility of the system. This strategy is more efficient resource-wise and removes duplicated data fetching. The software has also been upgraded making the algorithms and selections closer to the offline reconstruction to maximize the efficiency and making use of the newly installed systems such as IBL.

The trigger menu has also been revisited and redesigned to cope with the greater rates due to the higher center-of-mass energy and increasing instantaneous luminosity. The different trigger sequences have been set up according to the physics needs, considering different luminosity scenarios. The ATLAS trigger system has been successfully commissioned with the first data acquired at 13 TeV. First performance studies of the different trigger signatures and trigger efficiencies with respect to the offline quantities have been presented using the 50 and 25 ns data.

## References

* [1] The ATLAS Collaboration, _Performance of the ATLAS Trigger System in 2010_, Eur. Phys. J. C72 (2012) 1849, arXiv:1110.1530 [hep-ex].
* [2] The ATLAS Collaboration, _The ATLAS Experiment at the CERN Large Hadron Collider_, JINST 3 (2008) S08003.
* [3] The ATLAS Collaboration, _ATLAS Insertable B-Layer Technical Design Report_, CERN-LHCC-2010-013, ATLAS-TDR-19, 2010, [http://cdsweb.cern.ch/record/1291633](http://cdsweb.cern.ch/record/1291633).
* [4] E. Simioni _et al._, _The Topological Processor for the future ATLAS Level-1 Trigger: from design to commissioning_, arXiv:1406.4316 [physics.ins-det].
* [5] The ATLAS Collaboration, _Fast Tracker (FTK) Technical Design Report_, CERN-LHCC-2013-007, ATLAS-TDR-021, 2013, [http://cdsweb.cern.ch/record/1552953](http://cdsweb.cern.ch/record/1552953).
* [6] The ATLAS Collaboration, _Electron efficiency measurements with the ATLAS detector using the 2012 LHC proton-proton collision data_, ATLAS-CONF-2014-032, 2014, [http://cdsweb.cern.ch/record/1706245](http://cdsweb.cern.ch/record/1706245).
* [7] The ATLAS Collaboration, _Reconstruction, Energy Calibration, and Identification of Hadronically Decaying Tau Leptons in the ATLAS Experiment for Run-2 of the LHC_, ATL-PHYS-PUB-2015-045, 2015, [http://cdsweb.cern.ch/record/2064383](http://cdsweb.cern.ch/record/2064383).
* [8] The ATLAS Collaboration, _Expected performance of the ATLAS b-tagging algorithms in Run-2_, ATL-PHYS-PUB-2015-022, 2015, [http://cdsweb.cern.ch/record/2037697](http://cdsweb.cern.ch/record/2037697).
* [9] The ATLAS Collaboration, _Performance of the ATLAS Inner Detector Track and Vertex Reconstruction in High Pile-Up LHC Environment_, ATLAS-CONF-2012-042, 2012, [http://cdsweb.cern.ch/record/1435196](http://cdsweb.cern.ch/record/1435196).
* [10] W. Lampl _et al._, _Calorimeter Clustering Algorithms: Description and Performance_, ATL-LARG-PUB-2008-002, 2008, [http://cdsweb.cern.ch/record/1099735](http://cdsweb.cern.ch/record/1099735).
* [11] The ATLAS Collaboration, _Performance of the ATLAS Electron and Photon Trigger in p-p Collisions at \(\sqrt{s}=7\) TeV in 2011_, ATLAS-CONF-2012-048, 2012, [http://cdsweb.cern.ch/record/1450089](http://cdsweb.cern.ch/record/1450089).
* [12] The ATLAS Collaboration, _Electron and photon energy calibration with the ATLAS detector using LHC Run 1 data_, Eur. Phys. J. C74 (2014) 3071, arXiv:1407.5063 [hep-ex].
* [13] The ATLAS Collaboration, _Performance of the ATLAS muon trigger in pp collisions at \(\sqrt{s}=8\) TeV_, Eur. Phys. J. C75 (2015) 120, arXiv:1408.3179 [hep-ex].
* [14] The ATLAS Collaboration, _Muon reconstruction performance in early \(\sqrt{s}=13\) TeV data_, ATL-PHYS-PUB-2015-037, 2015, [http://cdsweb.cern.ch/record/2047831](http://cdsweb.cern.ch/record/2047831).