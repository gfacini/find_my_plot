# Electrode Transmission Line Corrections to the Atlas Forward Calorimeter Pulse

John RUTHERFOORD

ATL-LARG-PUB-2006-005 ATL-COM-LARG-2006-006

University of Arizona

FCal.CoaxElectrode.doc

26 May 2006 Typo fixed 20 Feb 2015

###### Abstract

The ATLAS Forward Calorimeter liquid argon electrodes are short, coaxial transmission lines which cannot be impedance matched to the readout. Because they are short, such an electrode can be approximated by a capacitor. But a full treatment of the electrode as a transmission line changes the shape of the current pulse in small but significant ways and contributes to the timing resolution.

## 1 Introduction

Because of the high ionization rates in the ATLAS Liquid Argon Forward Calorimeter (FCal) produced by the plentiful, soft, proton-proton collisions, the gaps are required to be narrower than other liquid argon calorimeters thereby allowing the positive argon ions to drift out faster. This avoids the onset of space charge effects until luminosities somewhat above the nominal LHC value of \(10^{34}\) cm\({}^{-2}\) s\({}^{-1}\). To mass produce electrodes with precision gaps as small as 0.25 mm, the design employs a coaxial rod within a tube. The solid central conductor (rod) serves as part of the absorber matrix as well as the anode of the ionization gap. The electrodes are oriented with their axes parallel to the accelerator beam. Particles from the collisions which hit the FCal are at a shallow angle to the beam line and hence to the electrode axes. But deep within the shower the particle directions are somewhat randomized.

There is one FCal at each end of the ATLAS detector. Each FCal consists of three modules, one behind the other. The first, FCal1, is made of copper, primarily to carry away the heat deposited by the debris from the soft collisions. But also the relatively long radiation length in the copper spreads the electromagnetic showers in the transverse coordinate enough to smooth over the sampling non-uniformities across the module face. FCal2 and FCal3 are mostly tungsten in order to limit the longitudinal and transverse spreading of hadronic showers.

Each anode rod has a signal pin at one end. Figure 2 shows an interconnect board for the FCal1 module which collects the signals from four electrodes and sends them up a 25 \(\Omega\) coaxial cable. Sockets are mounted on this interconnect board near the corners to connect to these signal pins. For every four electrodes there are two ground pins mounted in the face of the absorber matrix. The electrode tubes are swaged into the face plate to ensure a robust electrical connection between the cathode of the electrode and the matrix ground. Two more sockets are mounted in the interconnect board for these two ground connections. The path between the cathode and the ground on the coaxial cable is optimized to minimize inductance in the ground return.

Table 1 collects those parameters of the electrodes which are relevant to this paper. We have used \(\varepsilon/\varepsilon_{{}_{0}}=1.51\) for liquid argon at 88 K, the predicted operating temperature of the ATLAS cryostats. This gives a signal propagation speed of \(v=242.0\)\(\mathrm{mm/ns}\) along the electrode.

The signal propagation velocity and the impedance calculations include a correction for the somewhat higher value of the dielectric constant of 3.3 for the PEEK fiber. The capacitance values in the table were measured in humid air and have been corrected for liquid argon. See Reference [1] for details of the measurements in air. The shorter of the lengths of the rod and tube is entered in the table.

Figure 2: FCal1 Interconnect board (at upper right) for ganging the signals from four electrodes. The 25 \(\Omega\) coaxial cable brings down HV and carries away the signal.

## 2 Internal Reflections:

We start by writing down the familiar equations for the transmission and reflection coefficients for a pulse on a coaxial transmission line of characteristic impedance \(Z_{c}\) either coupled to another line with different characteristic impedance \(Z_{{}_{0}}\) or to a load termination \(Z_{{}_{0}}\). The pulse is specified by its potential \(V(z,t)\) on the central conductor relative to the outer conductor and the current \(i(z,t)\) on the central conductor. We will adopt the convention that positive currents flow in the positive \(z\) direction. With this convention a pulse traveling in the positive direction will have \(V\left/\right.i=Z_{c}\) and a pulse traveling in the negative direction will have \(V\left/\right.i=-Z_{c}\). That is, for positive potential, the current on the central conductor flows in the same direction as the propagation of the pulse. If, at the connection of the transmission line to the load resistor, we define \(V_{{}_{i}}\), \(V_{{}_{r}}\), \(V_{{}_{t}}\), and \(i_{{}_{i}}\), \(i_{{}_{r}}\), \(i_{{}_{t}}\) as the potentials and currents in the incident, reflected, and transmitted pulse, then we can define the reflection and transmission coefficients for the potentials and currents as \(\mathfrak{R}\equiv V_{{}_{r}}\left/\right.V_{{}_{i}}\), \(\mathfrak{r}\equiv i_{{}_{r}}\left/\right.i_{{}_{t}}\), \(\mathfrak{T}\equiv V_{{}_{t}}\left/\right.V_{{}_{i}}\), \(\mathfrak{t}\equiv i_{{}_{t}}\left/\right.i_{{}_{t}}\). By requiring \(V_{{}_{i}}+V_{{}_{r}}=V_{{}_{t}}\) and \(i_{{}_{i}}+i_{{}_{r}}=i_{{}_{t}}\) one easily finds

\[\mathfrak{R}=-\mathfrak{r}=\frac{Z_{{}_{0}}-Z_{c}}{Z_{{}_{0}}+Z_{c}}\]

\[\mathfrak{T}=\frac{2Z_{{}_{0}}}{Z_{{}_{0}}+Z_{c}}\hskip 14.226378pt\mathfrak{t}= \frac{2Z_{c}}{Z_{{}_{0}}+Z_{c}}\]

Fig. 4. Four transmission line electrodes read out by one coaxial transmission line.

In the FCal1 module four identical coaxial transmission line electrodes are ganged in parallel via an interconnect board as shown in Figure 2. In FCal2 and FCal3 there are six and nine identical coaxial transmission line electrodes ganged in parallel. These \(n=\)4, 6, or 9 electrodes behave like a single transmission line but with a characteristic impedance of one \(n^{\text{th}}\) the value of each one, i.e. of \(Z_{c}=Z_{{}_{1}}\left/\right.n=\)1.3 \(\Omega\) for FCal1. See Figure 4. The coaxial cable shown in Figure 2 has characteristic impedance of \(Z_{{}_{0}}=25\)\(\Omega\). So, for pulses traveling down an electrode, there will be reflections at the interconnect board and only a small fraction of the pulse is transmitted up the cable. The rest is reflected. This reflection phenomenon is the main subject of this paper.

Before we pursue this, however, we will look at a side issue. Let us consider a pulse traveling to the right on one of the electrodes in Figure 4. When this pulse reaches the interconnect board it sees the \(Z_{{}_{0}}=\)25 \(\Omega\) cable and the other \(n-1\) electrodes in parallel. Some of this pulse is reflected back along its originatingelectrode and some is transmitted to each of the \(n\) transmission lines it sees at the junction. Figure 5 is meant to suggest this different point of view but it is just a simple rearrangement of Figure 4.

The effective impedance of the \(n\) transmission lines is \(Z_{{}_{n}}\) where

\[\frac{1}{Z_{{}_{n}}}=\frac{n-1}{Z_{{}_{1}}}+\frac{1}{Z_{{}_{0}}}\]

Then the reflected current pulse relative to the incident pulse is given by

\[\mathfrak{r}=\frac{i_{{}_{r}}}{i_{{}_{i}}}=-\frac{Z_{{}_{n}}-Z_{{}_{1}}}{Z_{{}_ {n}}+Z_{{}_{1}}}=\frac{\left(\frac{n-2}{n}\right)\!\!Z_{{}_{0}}+Z_{{}_{c}}}{Z_ {{}_{0}}+Z_{{}_{c}}}\]

The current pulse transmitted up the cable (relative to the incident pulse) is

\[\mathfrak{t}_{{}_{0}}=\frac{i_{{}_{t}}}{i_{{}_{i}}}=\frac{2Z_{{}_{c}}}{Z_{{}_ {0}}+Z_{{}_{c}}}\]

and the current pulse transmitted down one of the other electrodes (relative to the incident pulse) is

\[\mathfrak{t}_{{}_{1}}=\frac{i_{{}_{t}}}{i_{{}_{i}}}=\frac{2Z_{{}_{0}}\,/\,n}{Z _{{}_{0}}+Z_{{}_{c}}}\]

In our case \(Z_{{}_{c}}\ll Z_{{}_{0}}\) so the reflection coefficient \(\mathfrak{r}\) is large, roughly \((n-2)\,/\,n\), the transmission up the cable \(\mathfrak{t}_{{}_{0}}\) is small, the transmission down any of the other electrodes \(\mathfrak{t}_{{}_{1}}\) is large, roughly \(2\,/\,n\), and the sum of the transmissions down all the other electrodes \((n-1)\,\mathfrak{t}_{{}_{1}}\) is greater than unity, roughly \(2\,(n-1)\,/\,n\).

Because the electrodes are short, a current pulse propagating on one of them away from the interconnect board reaches the open end after a short time. At the open end the current reflection coefficient is \(\mathfrak{r}=-1\) and the reflected current pulses arrive at the interconnect board a second time. There the total incoming current \(i_{{}_{2}}\) is given by

\[\frac{i_{{}_{2}}}{i_{{}_{i}}}=(n-1)\mathfrak{t}_{{}_{1}}-\mathfrak{r}=\frac{Z _{{}_{0}}-Z_{{}_{c}}}{Z_{{}_{0}}+Z_{{}_{c}}}\]

This is just what we would expect if we treated the \(n\) electrodes as one transmission line with characteristic impedance of \(Z_{{}_{c}}=Z_{{}_{1}}\,/\,n\). But via this approach we see that there will be repeated large reflections back and forth between the electrodes with a small fraction transmitted up the cable on each round trip.

If we were to connect the far ends of the electrodes together, these different reflected current pulses on the different electrodes would become the same after the first reflection and the \(n\) electrodes would behave as a single transmission line, even internally. But since we are interested only in the signal coming up the coaxial cable, we can treat the \(n\) electrodes as a single transmission line whether they are connected together at the far ends or not, that is, we can ignore these interesting, large pulses rattling around the ganged electrodes because of the way they recombine at the interconnect board. It is worth noting that if one electrode differed from the other \(n-1\) electrodes, say it had a different length, then these large internal reflected pulses would not combine so neatly at the interconnect board and the resulting current pulse coming up the cable would have an ugly structure.

## 3 A Simple Treatment of Current Pulses on the Cable

From now on we will treat the \(n\) electrodes as a single, short transmission line of characteristic impedance \(Z_{c}=Z_{1}\,/\,n\) coupled via the interconnect board to a coaxial cable of characteristic impedance \(Z_{{}_{0}}\) where \(Z_{{}_{0}}\gg Z_{c}\). We will investigate the current pulse on the cable when a delta function current pulse is introduced at an arbitrary point along the electrode. But, to start with, we will look at the case where the delta function current pulse is introduced at either of the two ends. Then we'll see how to easily extend these two cases to the general case. We will take as our time reference the time when a particle or jet passes the front face of the module. We assume the particle or jet and all the subsequent shower particles propagate at the speed of light along the z-axis. (This ignores the small \(\cos(\theta)\) effect due to the angle the particles make with the z-axis, the somewhat larger \(\cos(\theta)\) effect deep within the shower where multiple scattering has spread out the angles of the shower particles, and the fact that \(\beta<1\) for the shower particles which deposit the bulk of the energy.) We will call \(\ell\) the length of the electrode. See table 1 for the values of \(\ell\).

For the FCal1 module the interconnect boards are located at the upstream face while for the FCal2 and FCal3 modules the interconnect boards are located at the downstream faces. The reason was to avoid locating the boards and cables in the region of highest neutron fluence between FCal1 and FCal2, roughly hadronic shower maximum [2]. At first sight one might think there would be a significant difference in the leading edge of the current pulse coming from FCal1 versus FCal2 and FCal3. For FCal1 the shower propagates in a direction opposite to the direction the pulse propagates along the electrode to the cable while for FCal2 and FCal3 these are in the same direction. We will see there is no difference in the outcome.

A particle traveling at the speed of light passes the front face of the FCal1 module at \(t=0\). At depth \(z\) within the module (\(0\leq z\leq\ell\)) the particle deposits some energy in the liquid argon, producing a current pulse at time \(t=z\,/\,c\) at location \(z\) on the electrode. For now we will consider only the leading edge of this pulse, i.e. a delta function current pulse. It is straightforward to add the remainder of the pulse. See reference [3] for details on this pulse shape.

This delta function current pulse splits into two equal pieces which travel in opposite directions along the electrode. One piece reaches the interconnect board at time \(t_{{}_{1}}=z\,/\,c+z\,/\,v\) where \(v\) is the propagation speed of signals on the electrode given earlier. A fraction \(\mathfrak{r}\) reflects back down the electrode while a fraction \(\mathfrak{t}\) is transmitted to the cable. The reflected fraction will travel to the far end of the electrode, reflect off the open end (with current reflection coefficient \(=-1\)), and return to the interconnect board a time \(2\ell\,/\,v\) later. Again a fraction \(\,\mathfrak{r}\,\) of the reflected pulse reflects off the interconnect while a fraction \(\,\mathfrak{t}\,\) of this reflected pulse is transmitted to the cable. This continues indefinitely. In the meantime the other half of the original pulse travels to the far end of the electrode, reflects off the open end, and arrives at the interconnect board at time \(\,t_{{}_{2}}=z\,/\,c+(2\ell-z)\big{/}\,v\,\). A fraction \(\,\mathfrak{r}\,\) is reflected and a fraction \(\,\mathfrak{t}\,\) is transmitted to the cable. And this continues indefinitely. Each pulse in this train of pulses is a fraction \(\,|\mathfrak{r}|\,\) of the previous one.

To make the arithmetic easy to follow for pedagogic purposes we will take \(\,\mathfrak{r}=-0.9\), \(\mathfrak{t}=0.1\), \(v=0.6c\), and \(\,\ell\,/\,c=1.5\,\)ns. Thus \(\,\ell\,/\,v=2.5\,\)ns. And we now consider the case where the energy is deposited at the upstream end of FCal1 at \(\,z=0\,\). The delta function current pulse starts with charge \(\,Q=20.00\,\) fC. The pulse splits into two pieces each with 10.00 fC and these pieces propagate in opposite directions on the electrode. One pulse immediately encounters the interconnect board where 1.00 fC is transmitted to the cable at \(\,t=0\,\) and 9.00 fC is reflected back along the electrode. The reflected pulse bounces off the far end of the electrode at \(\,t=2.5\,\)ns and returns to the interconnect board at \(\,t=5.0\,\)ns where 0.90 fC is transmitted to the cable and 8.10 fC is reflected. This reflected pulse returns to the interconnect board at \(\,t=10\,\)ns where 0.81 fC is transmitted to the cable and 7.29 fC is reflected. Figure 6 shows this in the first (closest to the reader) of six rows. Time flows from left to right and is divided into discrete 0.5 ns bins in order to approximate a Dirac delta function by a kronecker delta.

The height of each tower represents the charge in each current pulse. Note that this charge is a fraction 0.9 of the neighbor pulse 5.0 ns earlier.

The other 10.00 fC piece of the delta function current pulse propagates to the far end of the electrode arriving at \(\,t=2.5\,\)ns, the same time as the reflection of the first piece. It reflects off this far end and returns to the interconnect board at \(\,t=5\,\)ns where 1.00 fC is transmitted to the cable and 9.00 fC reflects

Figure 6: Timing and relative sizes of delta function pulses transmitted from the ganged FCal1 electrodes to the readout cable for the case where a delta function charge is deposited on the electrode at the readout end in rows 1 and 2, at the center in rows 3 and 4, and at the far end in rows 5 and 6..

back down the electrode. This continues in the same way as the first piece and is shown in the second row in Figure 6. The second row of towers is exactly the same as the first row except shifted later in time by 5 ns.

Consider next the case where the particle deposits energy only at the downstream end of the FCal1 electrode at \(t=1.5\) ns. We follow only the leading edge of the resulting current pulse. Again assume the delta function pulse contains \(Q=20.00\) fC of charge. The pulse splits into two counter propagating pieces of 10.00 fC each. But because the pulse is introduced at the downstream end of the electrode the downstream directed piece immediately reflects off the open end of the electrode and returns up the electrode along side the upstream directed piece. They both arrive at the interconnect board at \(t=4\) ns. The repeated reflections of these two pieces produces a long train of pulses on the readout cable as before and are shown in rows 5 and 6 in Figure 6. Row 5 derives from the original upstream directed piece of the delta function current pulse while row 6 derives from the original downstream directed piece. Note that the two rows have identical towers at identical times. Further these two rows are identical to row 1 except shifted later in time (to the right) by 4.0 ns and are identical to row 2 except shifted earlier in time (to the left) by 1.0 ns.

As an example of the general case we take a delta function current pulse introduced half way along the electrode. The originally directed upstream and downstream pulses are represented by rows 3 and 4 in Figure 6. These two rows are identical to each other (and to all the other rows) except shifted in time by the appropriate amount. Row 3 starts at \(t=2.0\) ns while row 4 starts at \(t=4.5\) ns.

From this simple exercise we can deduce the procedure to treat more realistic pulses from realistic shower deposits. Instead of a train of delta function current pulses we will have a train of pulse shapes (approximately triangular) as derived in reference [3]. And we will sum over deposits at all depths along the electrode weighted by the shower profile. For each deposit at depth \(z\) there are two pulse trains, one pulse train will start at \(t_{{}_{1}}=z\,/\,c+z\,/\,v\) while the other pulse train will start at \(t_{{}_{2}}=z\,/\,c+(2\ell-z)\,/\,v\). Otherwise these two pulse trains will be identical and have a \(z\)-dependent weight matching the longitudinal shower shape.

Let us continue to use \(z\) for the depth within a module starting at the upstream face and \(t=0\) as the time a particle from the interaction point passes the upstream face of the module. For FCal2 and FCal3 the pulse is read out at the downstream end of the electrode. For this case it is easy to show that one pulse train will start at \(t_{{}_{1}}=z\,/\,c+(\ell-z)\,/\,v\) while the other pulse train will start at \(t_{{}_{2}}=z\,/\,c+(\ell+z)\,/\,v\). For FCal1 the difference between the start times of the two pulse trains is \(\Delta t\equiv t_{{}_{2}}-t_{{}_{1}}=2(\ell-z)\,/\,v\) while for FCal2 and FCal3 this difference is \(\Delta t=2z\,/\,v\). And for FCal1, FCal2, and FCal3 the average start time of the two pulse trains is \(\overline{t}\,=z\,/\,c+\ell\,/\,v\). For a shower we perform a weighted average over \(z\). Due to shower fluctuations the average \(z\) for an individual shower also fluctuates. This leads to small fluctuations in the timing of the pulse coming up the readout cable which is now straightforward to calculate via Monte Carlo. It's clear that the result is the same regardless of which end of the electrode is connected to the cable.

## 4 Approximating the Electrode as a Capacitor

As the length of the electrode is decreased (keeping the electrode capacitance and signal propagation speed fixed), successive delta function current pulses are transmitted to the cable with decreased time separation. The time from one pulse to the next is \(\,T=2\ell\,/\,v\,\). We can write the charge \(\,Q\,\) in each pulse as a function of time \(\,t\,\)as

\[Q=Q_{{}_{0}}\,|\mathfrak{r}|^{t/T}\]

Then

\[\ln\big{(}Q\,/\,Q_{{}_{0}}\big{)}=\frac{t}{T}\ln|\mathfrak{r}|\]

and using

\[|\mathfrak{r}|=\frac{1-Z_{{}_{c}}\,/\,Z_{{}_{0}}}{1+Z_{{}_{c}}\,/\,Z_{{}_{0}}} \qquad\lim_{Z_{{}_{c}}/\,Z_{{}_{0}}\ll 1}|\mathfrak{r}|\approx 1-2Z_{{}_{c}}\,/ \,Z_{{}_{0}}\qquad\quad\ln|\mathfrak{r}|\approx-2Z_{{}_{c}}\,/\,Z_{{}_{0}}\]

we get

\[\ln\big{(}\mathrm{Q}/\mathrm{Q}_{{}_{0}}\big{)}=-\frac{t}{T}\frac{2Z_{{}_{c}} }{Z_{{}_{0}}}=-\Bigg{[}\Bigg{(}\frac{v}{2\ell}\Bigg{)}\frac{2}{Z_{{}_{0}}} \sqrt{\frac{\hat{L}}{\hat{C}}}\Bigg{]}t=-\Bigg{[}\sqrt{\frac{1}{\hat{L}\hat{C }}}\Bigg{(}\frac{1}{\ell Z_{{}_{0}}}\Bigg{)}\sqrt{\frac{\hat{L}}{\hat{C}}} \Bigg{]}t=-\frac{t}{Z_{{}_{0}}C}\]

where \(\,\hat{L}\,\) and \(\,\hat{C}\,\) are the inductance and capacitance per unit length along the electrode and \(\,C=\ell\,\hat{C}\,\) is the capacitance of the electrode. Exponentiating both sides we get

\[Q=Q_{{}_{0}}e^{-t/\tau}\]

where \(\,\tau=Z_{{}_{0}}C\,\). If the time between these delta function pulses is short enough then they blur into one another and we get

\[i=i_{{}_{0}}e^{-t/\tau}\]

which is what we expect if the electrode is a simple capacitor and we inject a delta function current pulse onto it. Since our electrodes are less than half a meter long and characteristic times in the electronics are 40 ns, treating our electrodes as simple capacitors is expected to be a good approximation. Nevertheless we are interested in the small deviations from this expectation.

## 5 How much difference does it make in the end?

We can convince ourselves that we understand the pulse shape read out of the ADC if it agrees well with the SPICE simulation. The SPICE simulation of the full FCal electronics chain includes the signal deposited on the electrodes, its subsequent propagation from the electrodes up the cables, through the summing board, onto the pigtail, through the cold feedthrough, the vacuum cable, the warm feedthrough, the pedestal cable, the baseplane connector, the preamp, the shaper, the SCA pipeline, some op-amps, and the ADC. Our SPICE simulation puts out the pulse shape in ADC units. All of this assumes we have simulated each piece of the chain adequately. This paper is one part of that study of the accuracy of thesimulation. Here we have kept all of the electronics chain fixed except for the electrodes. We compare the output pulse shape for the two cases: 1) The electrodes are simple capacitors and 2) the electrodes are short transmission lines. Of course case 2 is a more accurate description of the electrodes but SPICE fails before the end of the pulse, probably due to keeping track of all the reflections. So it would be useful to model the electrodes as capacitors if this does not introduce any large errors. In the simulation the current pulse is introduced onto the electrode at time \(t=4\) ns. Figure 7 shows the pulse shape at the ADC normalized to unit pulse height. The red solid line is the case 1 with the capacitor as electrode while the green dashed line is the case 2 with the electrode treated as a short transmission line. The extreme case of uniform energy deposition along the length of the electrode was assumed. The second pulse has been shifted about 0.65 ns to the right so that the zero crossing points line up. Also shown is the ratio of case 2 to case 1. The scale on the right applies to this ratio. We see that when we treat the electrodes as short transmission lines, the leading edge of the pulse is larger than when we treat the electrodes as capacitors. Except for the leading edge the rest of the pulse shape agrees within about 1%. The very small but growing disagreement at large times is due to the imperfect matching of the electrode capacitance in case 1 with the electrode characteristic impedance and propagation speed in case 2.

Figure 7: Red solid line is the pulse at the ADC when the electrode is modeled as a capacitor. The green dashed line is the pulse at the ADC when the electrode is modeled as a short transmission line. The solid blue line is the ratio of the second case to the first case.

Referring to reference [3] one can see that the first order correction to the triangle pulse injected onto the electrode also had the effect of increasing the size of the leading edge of the pulse. There this particular effect was even larger than seen here.

**6. References**

[1] G.Belanger _et al._, "The ATLAS Liquid Argon Forward Calorimeter Electrode Uniformity", ATL-LARG-PUB-2006-001.

[2] See Figure 5.8 in S.Baranov, M.Bosman, I.Dawson, V.Hedberg, A.Nisati, and M.Shupe, "Estimation of Radiation Background, Impact on Detectors, Activation and Shielding Optimization in ATLAS", ATL-GEN-2005-001.

[3] J.Rutherford, "The Shape of the ATLAS Forward Calorimeter Current Pulse", ATL-LARG-PUB-2006-005.