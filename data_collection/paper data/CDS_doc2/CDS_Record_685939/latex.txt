Atlas INDET-NO-095

January 1995

**Helix fits with Stereo Measurements**

**Stephen Haywood - RAL**

## 1 Introduction

By design, stereo layers measure space-points and these have corresponding error-ellipses. For different types of stereo layout, eg. _u-v_, _u-\(\phi\)_ etc., these ellipses have different orientations which in turn modify the apparent \(r\phi\) resolution which can be obtained. It is therefore of interest to examine what effects this has on momentum resolution. In the case of detectors in the Forward region which are not of a keystone design (ie. strips are parallel rather than radial), which is the case in some designs of the GaAs detectors, the rotation of these ellipses is relatively large.

This work considers high-momentum tracks in the Barrel of the Inner Detector. Undoubtedly the principles apply to the Forward region too. The numbers presented in this note are not intended to provide definitive estimates of parameter resolutions for Atlas. No multiple-scattering is included. The parameters used for the ID are given in Table 1. The resolutions include systematics, although the nature of these (especially for the stereo layers) is debatable.

\begin{table}
\begin{tabular}{|l|l|l|} \hline Detector & Radii (cm) & Resolution (\(\mu\)m) \\ \hline Beam-s spot (bs) & 0 & \(\sigma_{r\phi}=15,\;\sigma_{z}\) large \\ Pixels & 11.5, 16.5 & \(\sigma_{r\phi}=14,\;\sigma_{z}=87\) \\ Stereo-strips & 30, 40, 50, 60 & single strip \(\sigma_{1}=22,\;\text{stereo}\;\text{angle}\;\alpha=40\;\text{mrad}\) \\ TRT (effective) & 70, 80, 90, 100 & \(\sigma_{r\phi}=60\) \\ \hline \end{tabular}
\end{table}
Table 1: Barrel layers with total coordinate resolutions.

A particle moving in a uniform magnetic field in the absence of MS is described by a helix. For high-momentum, the helix approximates to a parabola in the bending plane (\(x\)-\(y\)):

\[t\equiv r\phi=-d_{0}+\phi_{0}r+\frac{1}{2R}r^{2} \tag{1}\]

and a straight line in \(r\)-\(z\):

\[z=z_{0}+\tan\lambda\ r \tag{2}\]

The definition of the helix parameters is as follows:

\(\boldsymbol{R^{-1}}\)Inverse radius of curvature, proportional to \(p_{T}^{-1}\).

\(\boldsymbol{\phi_{0}}\)Direction of track in \(x\)-\(y\) at point of closest approach.

\(\boldsymbol{\tan\lambda}\)Tangent of dip-angle.

\(\boldsymbol{d_{0}}\)Impact parameter, defined as distance of closest approach to the beam-line.

Sign is positive if track has positive angular-momentum around beam-line.

\(\boldsymbol{z_{0}}\)\(z\)impact parameter', defined as the value of \(z\) at point on track where \(d_{0}\) is evaluated.

Throughout, the _transverse_ ordinate \(r\phi\) is denoted as \(t\).

### Fitting helices

To obtain helix parameters for different layouts, simultaneous fits are made to both \(x\)-\(y\) and \(r\)-\(z\) projections using the covariance matrix at each layer. Stereo layers consisting of two strip measurements are treated as measuring a space-point with an error-ellipse whose dimensions are given in the next section and which is rotated by the appropriate angle \(\psi\). The _fits_ are only implicitly performed, and in fact the parameter resolutions are explicitly derived from chi-squared minimisation without actually deriving track parameters themselves (see Appendix).

The range of rotation angles considered may not be realistic and some of the detector layouts may be considered unlikely, but the different situations considered are chosen to illustrate the effects which can arise.

#### Units

Because many of the graphs which are shown are quite small, no units are given. \(\sigma(1/p_{T})\) is measured in TeV\({}^{-1}\); \(\sigma(\phi_{0})\) in mrad; \(\sigma(\tan\lambda)\) is multiplied by \(10^{3}\); \(\sigma(d_{0})\) and \(\sigma(z_{0})\) are measured in \(\mu\) m. Rotation angles, if unlabeled, are measured in degrees.

## 2 Space-point measurements

Figure 1 illustrates the measurement of a coordinate by a single \(\phi\)-strip or a stereo layer. The stereo layers consists of a symmetric combination of \(u\)- and \(v\)-strips, separated by an angle \(\alpha\). With a single strip, the resolution in \(t\) is \(\sigma=\sigma_{1}\equiv\frac{w}{\sqrt{12}}\).1 In the stereo layer, where a \(u\)- and \(v\)-strip are hit, the true coordinate could lie anywhere in the cross-hatched region and has a triangular probability function which extends \(\pm w\sec\frac{\alpha}{2}\) about the mean. The corresponding resolution perpendicular to the \(z\)-axis is

Footnote 1: This assumes binary readout. If some other scheme is used, \(\frac{1}{\sqrt{12}}\) can be replaced by the appropriate value throughout what follows.

\[\sigma_{\perp}=\frac{w\sec\frac{\alpha}{2}}{\sqrt{24}}=\frac{\sigma_{1}\sec \frac{\alpha}{2}}{\sqrt{2}} \tag{3}\]

The \(\sqrt{2}\) is a statistical term arising from two measurements. The resolution parallel to the \(z\)-axis is

\[\sigma_{\parallel}=\frac{w\csc\frac{\alpha}{2}}{\sqrt{24}}=\frac{\sigma_{1} \csc\frac{\alpha}{2}}{\sqrt{2}}=\sigma_{\perp}\cot\frac{\alpha}{2} \tag{4}\]For small \(\alpha\), these become: \(\sigma_{\perp}\approx\frac{\sigma_{\perp}}{\sqrt{2}}\) and \(\sigma_{\parallel}\approx\frac{\sqrt{2}\sigma_{\perp}}{\alpha}\).

### Rotation by an angle \(\psi\)

If the layer is rotated by an angle \(\psi\), then the error-ellipse is rotated as in Figure 2, and the \(t\) and \(z\) resolutions become

\[\sigma_{t}=\sigma_{\perp}\cos\psi\oplus\sigma_{\parallel}\sin\psi\qquad\mbox { and }\qquad\sigma_{z}=\sigma_{\perp}\sin\psi\oplus\sigma_{\parallel}\cos\psi \tag{5}\]

This functional form is illustrated in Figure 3.

Two special cases can be identified:

\(\psi=\alpha/2\)

In this case, \(\sigma_{t}=\sigma_{1}\) and \(\sigma_{z}\approx\sigma_{\parallel}\). This is because the \(v\)-strip is parallel to the \(z\)-axis and the layout becomes \(\phi\)-\(u^{\prime}\).2 Then the overlap rhombus formed from the hit strips has sides parallel to the \(z\)-axis and probability function is as for a single strip, which correctly corresponds to \(\sigma_{t}=\sigma_{1}\).

Footnote 2: The \({}^{\dagger}\) on the \(u\) indicates that the strips are not the same as the original \(u\)-strips because of the rotation. This distinction will not be made when it is obvious from the context.

\(\psi=90^{\circ}\)

In this case \(\sigma_{t}\) and \(\sigma_{z}\) are exchanged with respect to the values at \(\psi=0^{\circ}\). There is mirror symmetry in \(\psi=45^{\circ}\).

### Alternative approach

An alternative approach to understanding the space-point resolution is to follow the derivation of a coordinate position by which \(t\) and \(z\) are determined from the measurements \(u\) and \(v\).

This corresponds to a \(u\)-\(v\) layout.

\[u=t\cos\frac{\alpha}{2}-z\sin\frac{\alpha}{2}\qquad\quad\mbox{and}\qquad\quad v=t \cos\frac{\alpha}{2}+z\sin\frac{\alpha}{2} \tag{6}\]

so

\[t=\frac{u+v}{2\cos\frac{\alpha}{2}}\qquad\quad\mbox{and}\qquad\quad z=\frac{v-u }{2\sin\frac{\alpha}{2}} \tag{7}\]

\(u\) and \(v\) are measured independently with a resolution \(\sigma_{1}\), hence

\[\sigma_{t}=\frac{\sqrt{2}\sigma_{1}}{2\cos\frac{\alpha}{2}}=\sigma_{\perp} \approx\frac{\sigma_{1}}{\sqrt{2}} \tag{8}\]

and

\[\sigma_{z}=\frac{\sqrt{2}\sigma_{1}}{2\sin\frac{\alpha}{2}}=\sigma_{\parallel} \approx\frac{\sqrt{2}\sigma_{1}}{\alpha} \tag{9}\]

which are the same expressions which were evaluated for \(\sigma_{\perp}\) and \(\sigma_{\parallel}\) in Equations 3 and 4.

#### \(\psi=\alpha/2\)

This corresponds to a \(u^{\prime}\)-\(\phi\) layout.

\[u=t\qquad\quad\mbox{and}\qquad\quad v=t\cos\alpha+z\sin\alpha \tag{10}\]

so

\[t=u\qquad\quad\mbox{and}\qquad\quad z=\frac{v-u\cos\alpha}{\sin\alpha} \tag{11}\]

hence

\[\sigma_{t}=\sigma_{1} \tag{12}\]

Figure 2: The rotation of an error-ellipse.

and

\[\sigma_{z}=\frac{\sqrt{1+\cos^{2}\alpha}\ \sigma_{1}}{\sin\alpha}\approx\frac{ \sqrt{2}\sigma_{1}}{\alpha} \tag{13}\]

However, if \(t\) can be considered to be _measured_ by other detectors, then \(z=\frac{v-t\cos\alpha}{\sin\alpha}\) and the most significant error comes from \(v\) so that \(\sigma_{z}=\frac{\cos\alpha\ \sigma_{z}}{\sin\alpha}\approx\frac{\sigma_{z}}{\alpha}\).

### Fitting parameters

It has been seen that if the error-ellipses measured by stereolayers are rotated, the resolution in the transverse direction is degraded. The \(\sqrt{2}\) which is gained for a \(u\)-\(v\) geometry on statistical grounds seems to be 'thrown away' when going to a \(u\)-\(\phi\) geometry with the same strip pitch. What is the effect when helix parameters are fitted? Is momentum resolution needlessly lost? These questions are answered in the following sections.

## 3 Simple Layouts

In this section, a simple detector consisting of \(n\) layers of stereo-strip detectors is considered. The layers are at \(r=60,50,40,...\) cm and each measures a space-point. The angle between the strips in the layers is fixed at 40 mrad. The detectors are originally symmetric about the \(z\)-axis, namely one set of strips is set at +20 mrad while the other set is at \(-20\) mrad. The layers are then rotated by an angle \(\psi\) in the plane, so that the error-ellipses measured by the layer is no longer aligned with the \(z\)-axis. By rotating the layers by \(\psi=20\) mrad, a so-called \(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\) layout is obtained. When all the layers are rotated in the same sense, the rotation is denoted as '\(++++\)'. Instead, the sense of rotation of each layer can alternate - denoted as '\(+-+-\)' - and for a rotation of \(\psi=20\) mrad, a so-called \(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\) layout is obtained. (Glance at Figures 5 and 8 if you cannot visualise these layouts.)

### '\(++++\)' rotations

The effect of '\(++++\)' rotations can be seen in Figure 4. A number of observations can be made:* The behaviour of parameters measured in the \(r\)-\(z\) plane, ie. \(\sigma(z_{0})\) and \(\sigma(\tan\lambda)\) corresponds to the behaviour of the corresponding measurement resolutions \(\sigma_{z}\) shown in Figure 3.
* The corresponding remarks are not true for the parameters measured in the \(x\)-\(y\) plane.
* the range of \(\psi\) is chosen to illustrate what is happening.)
* For low \(\psi\), \(\sigma(d_{0})\) rises with \(\psi\), but not as fast as the measurement resolution \(\sigma_{t}\).
* For low \(\psi\), \(\sigma(1/p_{T})\) is almost constant.

The most interesting and surprising observation is the last one. Over a significant range of \(\psi\), despite apparently large measurement errors in \(t\equiv r\phi\), the momentum resolution is hardly affected. The reason for this is the constraint imposed by the helix fit.

The observations can be understood by considering the meaning of the measurement errors. If a particle hits a detector \(i\) at a point \(\xi_{i}\) and the resolution of the detector is \(\sigma_{i}\), then the reconstructed point \(\Xi_{i}\) will be located with a distribution which is centred on \(\xi_{i}\) with an rms \(\sigma_{i}\). The set of measurements \(\{\Xi_{i}\}\) can be fitted with some parameterisation which correctly describes the particle track. This fit will pass close to the measurements, but will not in general include them because it is constrained. The fit will be 'contained' within the region allowed by the errors \(\sigma_{i}\) (the degree to which it is 'contained' is described by the chi-squared probability). Just as the measurements \(\Xi_{i}\) can be located anywhere in the region described by the corresponding distribution, so the fitted points at the different detectors can be located anywhere in these distributions, **but they must be consistent with the constraints of the fit**. In this way, the fit can be considered to move around within the regions described by the measurement errors at each detector, and the variation of the fitted parameters gives the errors on those parameters. In our case, the helix fit can be considered to'move around' within the volume defined by the error-ellipses on the different layers.3

Figure 4: Effect on parameter resolutions of ‘\(++++\)’ rotations in range \(0\leq\psi\leq 90^{\circ}\) for a layout of 4 planes. The last three plots are zooms in range \(0\leq\psi\leq 10^{\circ}\). The value of \(\psi\) corresponding to a \(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\) layout is shown in the last three plots as a vertical line.

Figure 5 shows the error-ellipses which would be created at 4 stereolayers from an infinite momentum track. The ellipses are centred on the points where the track crosses the detectors - if \(\eta=0\), then the ellipses are in a 'tower', one above the other. One possible helix fit (not shown) would pass through the centre of the ellipses, and would correspond to \(1/p_{T}=0\). Two other possibilities are shown by the points \(\bullet\) and \(\star\). These symbols represent the points where the helix fit would intersect the error-ellipses. The helix constraint means that in \(r\)-\(z\), the points must be uniformly spaced in \(z\) as a function of \(r\). In a plot of \(t\) vs \(r\), also shown, the curves represented by the \(\bullet\)'s and \(\star\)'s are fairly straight, at least compared with the scale given by \(\sigma_{t}\). Therefore, these fits correspond to high-momentum tracks. The fit represented by the \(\Box\)'s is not valid since it is not linear in \(r\)-\(z\). All valid fitted tracks which can be constructed correspond to high-momentum.

So despite the large measurement errors in \(t\), tracks are correctly reconstructed with large momenta. Note however, that the values of the impact parameter can be quite large and therefore the resolution \(\sigma(d_{0})\) does tend to follow the form of \(\sigma_{t}\) as a function of \(\psi\). This situation persists provided that the width in \(t\) of the error-ellipses across its middle is of the order of \(\sigma_{\perp}\) rather than \(\sigma_{\parallel}\). This width is given by \((\frac{c\cos\psi}{\sigma_{\perp}}\oplus\frac{c\sin\psi}{\sigma_{\parallel}})^{-1}\). So the situation remains until \(\psi\) is within approximately \(\frac{a}{2}\) of \(90^{\circ}\). For \(\psi\geq 90^{\circ}-\frac{a}{2}\), resolutions tend to rise like \(\sec\psi\) - hence the sharp rises seen in Figure 4.

An alternative way of viewing this to consider that the constraint of the helix fit in \(r\)-\(z\) corresponds to a plane. The error-ellipses shown in Figure 5 also lie in a plane which is rotated by an angle \(\psi\), so that it no longer contains the beam-line. The intersection of these planes is the allowed region for fitted tracks. This region is a straight line with a relatively narrow width, corresponding to high-momenta tracks.

The qualitative nature of these observations does not change as the number of planes is changed (provided there are at least three).

### '\(+-+-\)' rotations

The effect of '\(+-+-\)' rotations can be seen in Figures 6 and 7. It is immediately apparent that the qualitative form of these plots is quite different, and they are both different from those corresponding to '\(+++\)' rotations, illustrated by Figure 4.

Figure 5: Fitting helices to error-ellipses at different radii. \(\bullet\)’s and \(\star\)’s represent points were a valid helix fit could intersect the ellipses. \(\Box\)’s represent an invalid fit.

## 3 or 4 layers

With 3 or 4 layers, all parameter resolutions behave like \(\sigma_{t}\) and \(\sigma_{z}\) as functions of \(\psi\) (see Figure 3). This can be explained in a similar manner as was used for '\(++++\)' rotations, using Figure 8. The fit represented by the o's is not a valid helix fit: although the points are linear in \(r\)-\(z\), the points do not lie (within errors) on a parabolain \(r\)-\(t\). However, the fit represented by the \(\star\)'s is valid and this corresponds to a track with considerable curvature, where the displacement of coordinates in \(t\) relative to a straight line is of the order of \(\sigma_{t}\). This implies that the range of momenta which can be identified with valid helix fits is large, and consequently the momentum resolution \(\sigma(1/p_{T})\) can be large, with a functional form in \(\psi\) like \(\sigma_{t}\), large. While the increase in \(\sigma(1/p_{T})\) may be large for \(\psi\gg\alpha\), for \(\psi=\frac{\alpha}{2}\) (\(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\) layout), the increase is \(\sqrt{2}\).

## 5 or more layers

With 5 or more planes, it is no longer possible to identify relatively low momentum tracks which can be fitted to the error-ellipses. This can be visualised most easily with 6 layers. Group the planes in pairs: \(r=60\) with \(r=50\) etc.. Each pair of planes provides measurements with two error-ellipses which have the opposite orientation (\(+\psi\) and \(-\psi\)) and the effective measurement of the pair is described by the overlap of the two ellipses as illustrated in Figure 9. This overlap is described by an effective error-ellipse whose axes are parallel and perpendicular to the \(z\)-axis with resolutions

\[\sigma_{z,\perp}^{2}=\frac{1}{2}(\frac{\cos^{2}\psi}{\sigma_{\perp}^{2}}+ \frac{\sin^{2}\psi}{\sigma_{\parallel}^{2}})^{-1} \tag{14}\]

and

\[\sigma_{z,\parallel}^{2}=\frac{1}{2}(\frac{\sin^{2}\psi}{\sigma_{\perp}^{2}}+ \frac{\cos^{2}\psi}{\sigma_{\parallel}^{2}})^{-1} \tag{15}\]

These give \(\sigma_{z,\perp}\sim 1/\cos\psi\) and \(\sigma_{z,\parallel}\sim 1/\sin\psi\), also illustrated in Figure 9.

With 3 pairs of these planes, one has effectively 3 measurements for which \(t\) and \(z\) are independent and \(\sigma_{t}\) is small. Hence the resolution which can be obtained on all parameters in \(x\)-\(y\), even for moderate values of \(\psi\) is good and only very slowly varying with \(\psi\).

### Conclusions for simple layouts

It has been shown that even for quite simple layouts of just stereo layers, the way in which the parameter resolutions vary with numbers of layers or rotation angles is quite complex.

## 4 More complete layouts

In Figure 10, the effects of adding other measurements in a complete layout are shown.4 The figure corresponds to '\(+-+-\)' rotations of the stereo layers, so that the rotation \(\psi=\frac{\alpha}{2}\) corresponds to the (proposed) _u-\(\phi\)_,_v-\(\phi\)_,_u-\(\phi\)_,_v-\(\phi\)_layout. Naturally the resolution improves with extra measurements, but in addition undesirable loss of resolution which occurs when just using the stereo layers is significantly masked. The fact that the shapes of distributions are quite different, in particular the difference between a) just stereo and b) stereo + TRT, indicates that the effective resolution measured by the stereo layers has been modified by the presence of additional \(r\phi\) measurements. In _x-y_, in the presence of additional \(r\phi\) measurements, the resolutions do not depend significantly on \(\psi\) (for \(\psi\) less than a few degrees), due to the constraints of the helix fits. However, in _r-z_, resolutions can be improved (by factors of the order of \(\sqrt{2}\)) by small rotations \(\psi\approx\frac{\alpha}{2}\) when additional measurements are available (see remark at end of Section 2.2).

Footnote 4: The absolute numbers depend quite critically on the model used for the TRT resolution, and should not be compared too seriously with other estimates.

Figure 11 shows the effect of having using only the stereo layers in combination with a set of measurements from one other detector.

Figure 12 shows the comparison between '\(+-+-\)' and '\(++++\)' rotations. For \(\psi=\frac{\alpha}{2}\), the former corresponds to the _u-\(\phi\)_,_v-\(\phi\)_,_u-\(\phi\)_,_v-\(\phi\)_ layout; the latter to the _u-\(\phi\)_,_u-\(\phi\)_,_u-\(\phi\)_,_u-\(\phi\)_ layout. With just stereo layers, the layouts obtained with '\(++++\)' rotations have better resolutions, as explained in Section 3. Somewhat surprisingly, when other detectors are used, '\(+-+-\)' rotations give better resolutions. This can be understood as follows: In the presence of other detectors, some measurements are made near \(r=0\), and the TRT provides measurements at \(r=75\pm 15\) cm. The stereo layers provide measurementsat \(r=45\pm 15\) cm, and on this scale, it is as if the layers were degenerate in radius. For '\(+-+-\)' rotations, the effective measurement is contained in a region similar to that illustrated in Figure 9 - this provides a strong constraint. For '\(++++\)' rotations, the effective measurement is contained in a rotated error-ellipse, similar to that of a single layer, but shrunk by \(\sqrt{4}\). Because the two pixel layers are so close in \(r\), they do not provide a very strong constraint on the helix in the \(r\)-\(z\) plane at the position of the degenerate error-ellipse in the stereo system, and so the point of intersection can move in the ellipse, with a spread of the order of \(\sigma_{t}\). At first sight, this appears in contradiction to the explanations of Section 3.1. The comments of Section 3.1 are still valid, but since the resolving power in the \(x\)-\(y\) plane of the combination of TRT + pixels + beam-spot is so much better than just the stereo layers, even for moderate rotations in the '\(++++\)' sense, the stereo layers contribute little to the resolution.

## 5 Effect of lost measurements

Figure 13 shows the effect of '\(+-+-\)' rotations of the detectors in stereo layers when one strip is missing. The special cases of \(\psi=-\frac{\alpha}{2}\) and \(\psi=+\frac{\alpha}{2}\) correspond to a \(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\) layout where the angled strip (\(v\) in the illustration) and \(\phi\)-strip respectively are missing. Therefore, unlike all the previous studies, the effects of positive and negative rotations are not the same.

Figure 14 shows the effect of an inefficiency in one of the stereo strips in a layer. Two situations are shown: a) just 4 stereo layers and b) stereo layers + beam-spot. As other measurements are added, so the effect of the loss is reduced. Several observations can be made:

* The plots are complicated, and the incorporation of other detectors only adds to this.
* The effect of removing a strip at \(r=30\) cm and at \(r=60\) cm may (see upper plot for \(\sigma(1/p_{T})\)) or may not (see lower plot for \(\sigma(1/p_{T})\)) be the same (makes sense).
* Often better resolutions are obtained for parameters in \(x\)-\(y\) plane when it is the \(u\)- not the \(\phi\)-strip which is lost (makes sense). But even this is not always case (see second line of lower plot for \(\sigma(1/p_{T})\)) (surprising).
* The converse is true for measurements in \(r\)-\(z\) plane (makes sense).

Figure 8: Fitting helices to error-ellipse at different radii. \(\star\)’s represent points were a valid helix fit could intersect the ellipses. o’s represent an invalid fit.

What is mildly surprising is that even with just 3 stereo layers, even if one of the \(\phi\)-strips is lost, then the momentum resolution is not completely destroyed. (In fact, for '+++' rotations, there is a negligible difference between losing a \(\phi\)- or \(w\)-strip.)

So to lose a \(\phi\)-strip is not a disaster for momentum resolution, however it is clearly more of a problem for the trigger and to identify the coordinates in the first place when doing pattern-recognition.

## 6 Conclusions

* To put things in perspective, the kinds of rotations which are to be considered are \(\psi=0,\pm\frac{\alpha}{2}\), which are small. These lead to \(\sqrt{2}\) degredations in the worst case scenarios. The exception may arise if parallel (non-keystone) strips are used in the forward region.5 Footnote 5: With the proposed parameters for the GaAs detectors, values of \(\psi\) of the order of \(5^{\circ}\) will exist.
* The form of the variation of the parameter resolutions as a function of the rotation \(\psi\) is exceptionally complicated. However bearing in mind the likely ranges of \(\psi\), this should not lead to huge differences between the complete and simple calculations.
* There is no such thing as a simple resolution for a stereo detector. The only complete description is that of a rotated error-ellipse.
* The _effective_ resolution of a detector depends on the what other measurements are available. Generally if there are present other detectors which are not stereo, then the result is to significantly reduce the effects characterised by the angle \(\psi\).
* In the presence of other measurements, it is a reasonable approximation to take \(\sigma_{r\phi}\) as \(\frac{\sigma_{z}}{\sqrt{2}}\) and \(\sigma_{z}\) as \(\frac{\sigma_{z}}{\alpha}\) for the \(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\) and \(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\) layouts.
* In some situations \(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\),\(u\)-\(\phi\) is better than \(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\), and in others the converse is true. \(u\)-\(v\),\(u\)-\(v\),\(u\)-\(v\),\(u\)-\(v\) is nice because it is symmetric (provided there are no lost strips), but lacks an explicit \(\phi\) measurement for the trigger. \(u\)-\(\phi\),\(v\)-\(\phi\),\(u\)-\(\phi\),\(v\)-\(\phi\) apparently benefits from some charge symmetry although this is only approximate and violated by Lorentz effects. It should have

Figure 9: The overlap of error-ellipse from two nearby planes.

potentially fewer _irreducible_ fake tracks, however in practice, I have found in pattern-recognition studies that random combinations seem more important.

I do not believe any of the ideas considered for the Barrel region of the ID will lead to'stupidities' as far as parameter resolution is concerned. However, it would be worth taking some care to verify this for the very forward region. When the rotations of the error-matrices are allowed for, I would be surprised if the baseline layout of pixels, GaAs and MSGC's gave resolutions significantly worse than the numbers calculated to date. However, when only a few measurements are available, there may be some significant (eg. factor of 2) local variations of resolution as a function of track direction. This will depend on the precise layout: \(z\) positions of disks, positions of GaAs modules and orientations of strips.

### Acknowledgements

This work developed from conversations with a range of people, especially Abe Seiden, Mike Tyndel, Mike Edwards, Adrian Fox-Murphy and Neil Jackson.

Figure 12: The effect of ‘\(+-+-\)’ (solid) and ‘\(++++\)’ (dashed) rotations on \(\sigma(d_{\parallel})\), \(\sigma(1/p_{T})\) and \(\sigma(\tan\lambda)\). The upper set of plots is for four stereo layers. The lower set includes all detectors (TRT, pixels and beam-spot).

Figure 13: The effect of ‘+ - +-’ rotations on 4 stereo layers with a missing \(v\)-strip at \(r=30\) c m. Solid lines represent strips.

Figure 14: The effect of \(`+-+-\)’ rotations on \(\sigma(d_{\oplus})\), \(\sigma(1/p_{T})\) and \(\sigma(\tan\lambda)\) in the presence of a missing strip: a) no missing strips in 4 layers (solid), b) missing strip at \(r=30\) cm (dashed), c) missing strip at \(r=60\) cm (dotted), d) no missing strips in 3 layers (dot-dashed). The upper plots correspond to 4 stereo layers; the lower plots correspond to the stereo layers + beam-spot. The left vertical line (\(\psi=-\frac{a}{2}\)) corresponds to a \(\phi\)-strip present in the inefficient layer; the right vertical line (\(\psi=+\frac{\alpha}{2}\)) corresponds to a \(w\)-strip.

The forms of the Error-matrices

Let the coordinates measured on a plane be denoted by the vector \(h=(t,z)\). In a high-momentum approximation, the expected coordinates are given by

\[\hat{t}(r)=p_{1}+p_{2}r+p_{3}r^{2}\qquad\text{ and }\qquad\hat{z}(r)=p_{4}+p_{5}r \tag{16}\]

The chi-squared for the fit to a set of \(n\) planes \(\{i,i=1,n\}\) is

\[\chi^{2}=\sum_{i}^{n}(h_{i}-\hat{h}(r_{i}))^{T}V_{i}^{-1}(h_{i}-\hat{h}(r_{i})) \tag{17}\]

where \(V_{i}^{-1}\) is the inverse measurement error-matrix on plane \(i\). \(V_{i}^{-1}\) is obtained from the diagonal error-matrix describing the dimensions of the error-ellipse and the rotation matrix \(R(\psi)\) corresponding to the angle \(\psi\):

\[V_{i}^{-1}=R(\psi)^{T}\left(\begin{array}{cc}\frac{1}{\sigma_{\perp}^{2}}&0 \\ 0&\frac{1}{\sigma_{\parallel}^{2}}\end{array}\right)R(\psi)=\left(\begin{array} []{cc}-\frac{\cos^{2}\psi}{\sigma_{\perp}^{2}}+\frac{\sin^{2}\psi}{\sigma_{ \parallel}^{2}}&-\sin\psi\cos\psi\ (\frac{1}{\sigma_{\perp}^{2}}-\frac{1}{\sigma_{ \parallel}^{2}})\\ -\sin\psi\cos\psi\ (\frac{1}{\sigma_{\perp}^{2}}-\frac{1}{\sigma_{\parallel}^{2}})& \frac{\sin^{2}\psi}{\sigma_{\perp}^{2}}+\frac{\cos^{2}\psi}{\sigma_{ \parallel}^{2}}\end{array}\right) \tag{18}\]

The inverse error-matrix for the parameters \(p_{\alpha},p_{\beta}\) is given by

\[\frac{\partial^{2}\chi^{2}}{\partial p_{\alpha}\partial p_{\beta}}=\sum_{i}^ {n}D_{i,\alpha}^{T}V_{i}^{-1}D_{i,\beta} \tag{19}\]

where

\[D_{i,\alpha}=\frac{\partial\hat{h}_{i}}{\partial p_{\alpha}} \tag{20}\]

So for the helix fit,

\[D_{i}=\left(\begin{array}{cccc}1&r_{i}&r_{i}^{2}&0&0\\ 0&0&0&1&r_{i}\end{array}\right) \tag{21}\]

The space-point resolutions for \(t\) and \(z\) can be obtained by inverting the first part of Equation 18. This leads to

\[V_{i}=R(\psi)^{T}\left(\begin{array}{cc}\sigma_{\perp}^{2}&0\\ 0&\sigma_{\parallel}^{2}\end{array}\right)R(\psi)=\left(\begin{array}{cc} \cos^{2}\psi\ \sigma_{\perp}^{2}+\sin^{2}\psi\ \sigma_{\parallel}^{2}&\sin\psi\cos\psi\ (\sigma_{ \parallel}^{2}-\sigma_{\perp}^{2})\\ \sin\psi\cos\psi\ (\sigma_{\parallel}^{2}-\sigma_{\perp}^{2})&\sin^{2}\psi\ \sigma_{ \perp}^{2}+\cos^{2}\psi\ \sigma_{\parallel}^{2}\end{array}\right) \tag{22}\]

The error-matrix for a pair of layers which are degenerate in \(r\) (see end of Section 3.2) is found by adding the inverse error-matrices. So for a system where one layer is rotated by \(+\psi\) and the other layer is rotated by \(-\psi\), the inverse error-matrix is

\[EM^{-1}=2\left(\begin{array}{cc}\frac{\cos^{2}\psi}{\sigma_{\perp}^{2}}+ \frac{\sin^{2}\psi}{\sigma_{\parallel}^{2}}&0\\ 0&\frac{\sin^{2}\psi}{\sigma_{\perp}^{2}}+\frac{\cos^{2}\psi}{\sigma_{ \parallel}^{2}}\end{array}\right)\equiv\left(\begin{array}{cc}\frac{1}{ \sigma_{\perp,\perp}^{2}}&0\\ 0&\frac{1}{\sigma_{\perp,\parallel}^{2}}\end{array}\right) \tag{23}\]