ATLAS Muon Communication

A Hierarchical Software Identifier

Scheme for the ATLAS Muon

Spectrometer

Version 2.0

29 August 2002

K. Assamagan (BNL)

A. DiCiaccio (Universita di Roma II)

S. Goldfarb (University of Michigan)

J.-F. Laporte (CEA-Saclay)

D. Lellouch (Weizmann Institute of Science)

A. Rimoldi (Universita di Pavia)

M. Virchaux (CEA-Saclay)

This note defines the fields, ordering, and numerical ranges of the ATLAS Muon Spectrometer geometrical software identifiers. The scheme establishes a unique identification of the sensitive components of the detector for data access and provides a mechanism for mapping to conditions data and production data. The names of the logical fields of the identifier hierarchy for each subsystem (MDT, CSC, RPC, TGC) are presented along with their corresponding value ranges. Considerations behind the chosen scheme, including naming conventions and value ranges, are briefly discussed.

**Version 2.0:** This note presents a significant modification to the scheme proposed in ATL-MUON-2001-014 [1] and ATL-SOFT-2001-004 [2], and is intended to replace that scheme. The purpose of the revision is to decrease the differences between the identifiers and the existing AMDB_SIMREC indices [3], thus facilitating the mapping between the two schemes and improving backward compatibility with data described by those indices. The most notable changes include range numbering, which typically starts with 1 rather than 0, and endcap index numbering, which increases with radial distance, rather than eta. Some field names and field ordering were also changed, based on experience gained from implementation of the initial scheme. Implementation of the scheme is targeted for ATLAS offline software release 5.0.

## 1 Introduction

The software identifier scheme described in this document is intended to define a unique identification of the active components of the muon spectrometer. In most cases, there is a one-to-one correspondence between these fundamental components and the readout channels. An example of such a case would be the MDT level called "Tube," which corresponds, in the physical description, to a single tube in an MDT chamber and, in the electronic readout, to a single channel or digitization of the MDT. In some cases, however, several physical components may be chained together (logical OR) to a single readout channel. Such is the case for the "overlapping" TGC strips in the endcap trigger. While identification of the individual strips may not be required for data access, it is necessary for the mapping to conditions data, such as detector alignment, and is thus preserved in the chosen scheme.

A hierarchical model is chosen as it maps naturally to the construction of the components of the detector, with the identifier levels corresponding to intermediate stages of the detector's physical hierarchy. This is especially useful for the identification of a component which, although not fundamental, ought to be treated as a unique entity, since it corresponds to a single set of conditions data. One such example would be an RPC Doublet, which contains many readout channels (strips), but which is constructed itself as a single physical component, thus corresponding to a single set of alignment parameters.

The software identifier scheme does not replace the part identification scheme currently in use by the detector construction [4]. That scheme is intended to identify parts as _they are manufactured_, while the scheme presented here identifies parts as _they_ are assembled in the ATLAS detector. Mapping between the two identifiers is necessary to access production data. The new scheme is intended to replace existing schemes in the offline software. For the standard C++ offline detector description interface, the implementation appears in the MuonDetDescr package, in the AtlasDetectorID factory classes: MuonID, MDT_ID, CSC_ID, RPC_ID, and TGC_ID.

In Section 2 we define conventions for the description of the numbering scheme, including the ATLAS global coordinate system. In Section 2 we present the proposed software identifier structure for the muon stations and for the four subsystems. In Section 3 we discuss the considerations which led to the choice of the given scheme.

## 2 Conventions

### Coordinate system

The global coordinate system adopted by this document for describing the significance of the identifier fields is that of the ATLAS Muon Spectrometer Technical Design Report (TDR) [5]. Figure 1 is taken from that document to illustrate orientation of the ATLAS detector with respect to the global coordinate system.

## 2 Software identifier Scheme for the Muon Spectrometer

### Introduction

A Muon Software Identifier is a sequence of integers and character strings, ordered from left to right into fields of increasing detail. We define the first four fields of the identifier as the "station prefix". These fields are common to all identifiers. The field immediately following this prefix identifies the subsystem technology (MDT, CSC, RPC, or TGC). The

\begin{table}
\begin{tabular}{l l} \hline \hline
**Coordinate** & **Description and Orientation** \\ \hline X & Cartesian X, pointing to center of LHC ring, perpendicular to beam \\ Y & Cartesian Y, pointing up, perpendicular to beam \\ Z & Cartesian Z, pointing along beam, as defined by X and Y for RH system \\ R & Cylindrical radius, pointing out radially from beam \\ Phi & Cylindrical azimuthal angle, as defined by R and Z for RH system \\ \hline \hline \end{tabular}
\end{table}
Table 1: ATLAS global coordinate system, as defined in the Muon Spectrometer TDR and adopted for this document.

Figure 1: Illustration of the ATLAS Detector oriented in the global coordinate system.

remaining fields provide the detailed technology-specific identifier "suffix". The number of these fields varies depending on the subsystem technology.

A muon station is an integral physical component of the muon detector which can be described as a single rigid body after construction. An example would be a barrel station comprising one MDT chamber sandwiched between two RPC trigger chambers. The assembled station may possess physical properties (translation, rotation) which render it useful to identify on its own. In general, a station comprises one or more subsystem components.

For the station and for each detector subsystem, we represent the hierarchy of the corresponding identifier as a series of field names, separated by slashes. This is followed by a brief description of the geometrical significance and the general value ranges of each field. Finally, for each subsystem, we present a table including the field names and the complete value ranges, followed by a description of those ranges. Note that the field names have significance on their own, as they provide a naming convention for the software interfaces.

### The Muon Stations

#### 2.2.1 **Station Identifier (prefix to all subsystems)**

Detector / StationName / StationEta / StationPhi

#### 2.2.2 **Station Identifier Discussion**

The **Detector** field identifies the component as being part of the Muon Spectrometer. Its value is fixed to 7 for all components described in this document. The **StationName** field follows the naming conventions of AMDB_SIMREC [3] (note that this scheme has evolved significantly from the nomenclature of the Muon Spectrometer Technical Design Report). It effectively contains R, Z, Phi and technology information. For example, one of the barrel stations containing both MDT and RPC components is called **BOL**. This name identifies the station as being in the Barrel (Z) and in the **Outer** ring (R) of the Phi sectors containing "Long" chambers (Phi). In the endcaps, stations comprise either MDT, CSC, or TGC components, but not combinations of components. For example, one type of TGC station is called **T1E**. This name identifies the station as being one of the TGC (technology) region **1** (Z) Endcap (R) stations. **Note**: in the station naming scheme, the TGC "region" numbering increases with Z in the following sequence: 4, 1, 2, 3.

**StationEta** numbering increases with Z in the barrel region and with R in the endcap or forward regions. For the barrel, 0 is reserved for stations located with their centers at Z=0. For the MDT subsystem, the range is [-8,8] for the barrel, [1,6] for the forward endcap, with 1 closest to the beam, and [-6,-1] for the backward endcap, with -1 closest to the beam. For the RPC subsystem, the range is [-8,8], mapping directly to the MDT numbering. For the TGC chambers in the forward endcap, the range is [1,5], with 1 closest to the beam; for the backward endcap, the range is [-5,-1], with -1 closest to the beam. For the CSC stations, there are two possible eta positions: 1 for the forward endcap and -1 for the backward endcap.

StationPhi numbering increases with Phi. For the barrel MDT/RPC stations and the endcap MDT and CSC stations, the range is [1,8]. Short and Long stations are counted separately. For the TGC forward (TxF) stations, the range is [1,24]. For the TGC endcap (TxE) stations, the range is [1,48]. In both cases, the value 1 corresponds to the chamber with its center at the lowest value of Phi.

#### 2.2.3 Station Detailed Value Ranges

Detailed value ranges for the station prefixes are included below for each of the specific detector subsystems.

### The MDT Chambers

#### 2.3.1 MDT Identifier

Station Prefix / Technology / Multilayer/ TubeLayer / Tube

#### 2.3.2 MDT Identifier Discussion

MDT **Multilayer** field denotes a stack of tube layers. Its numbering increases with R for a barrel chamber or with abs(Z) for an endcap chamber and its range is [1,2] depending on the type of MDT chamber. The **TubeLayer** field denotes one layer of tubes within a multilayer. Its numbering increases with R for a barrel chamber or with abs(Z) for an endcap chamber and its range is [1,4], depending on the type of MDT chamber. The **Tube** field denotes a single tube. Its numbering increases with abs(Z) for a barrel chamber or with R for an endcap chamber, and starts with 1.

#### 2.3.3 MDT Detailed Value Ranges

#### 2.4.1 CSC Chambers

#### 2.4.2 CSC Identifier Discussion

The CSC **ChamberLayer** field denotes a layer or ring of physical chambers. Its numbering increases with abs(Z) and its range is [1,2]. The **WireLayer** field corresponds to the layers of wire planes inside a chamber. Its numbering increases with abs(Z) and its range is [1,4]. The **MeasuresPhi** field denotes the orientation of the strips. Its numbering has the value 0 for a strip that measures R or 1 for a strip that measures Phi. Finally, the **Strip** field denotes a single strip. Its numbering increases with R for a strip that measures R or in Phi for a strip that measures Phi, and starts from 1.

\begin{table}
\begin{tabular}{|l|c|l|} \hline
**Level** & **Value Range** & **Meaning / Comment** \\ \hline Detector & 7 & Muon Spectrometer \\ \hline StationName & BIL, BIR, BIS & Barrel Inner radius (Long, Rib, Short) \\  & BEE & Barrel Extension (mounted on endcap toroid) \\  & BML, BMS, BMF & Barrel Middle radius (Long, Short, Feet) \\  & BOL, BOS, BOF & Barrel Outer radius (Long, Short, Feet) \\  & BOG, BOH & Barrel Outer radius (either side of Feet) \\  & EIL, EIS & Endcap Inner radius (Long, Short) \\  & EES, EEL & Endcap Extension (next to barrel toroid) \\  & EML, EMS & Endcap Middle radius (Long, Short) \\  & EOL, EOS & Endcap Outer radius (Long, Short) \\ \hline StationEta & [-6,-1] & Backward Endcap (\(\eta\) \(<\) -1): -1 at lowest R \\  & [-8,8] & Barrel (\(\mid\eta\mid\) \(<\) 1): Increases with Z \\  & [1,6] & Forward Endcap (\(\eta\) \(>\) 1): 1 at lowest R \\ \hline StationPhi & [1,8] & Increases with Phi \\ \hline Technology & MDT & Monitored Drift Tube Chamber \\ \hline Multilayer & [1,2] & Barrel: Increases with R \\  & & Endcap: Increases with \(\mid\) Z \(\mid\) \\ \hline TubeLayer & [1,4] & Barrel: Increases with R \\  & & Endcap: Increases with \(\mid\) Z \(\mid\) \\ \hline Tube & [1,n] & Barrel: Increases with \(\mid\) Z \(\mid\) \\  & & Endcap: Increases with R \\ \hline \end{tabular}
\end{table}
Table 2: Set of value ranges for the Muon MDT software identifier levels.

#### 2.4.3 CSC Detailed Value Ranges

### The RPC Chambers

#### 2.5.1 RPC Identifier

_Station Prefix / Technology / DoubletR / DoubletZ / DoubletPhi / GasGap / MeasuresPhi / Strip_

#### 2.5.2 RPC Identifier Discussion

The RPC **DoubletR** field denotes a set of chambers attached to one side of an MDT chamber. Its numbering increases with R and its range is [1,2], depending on the station type. The **DoubletZ** field denotes a physical chamber. Its numbering increases with Z and its range is [1,3], depending on the station type. The **DoubletPhi** field denotes either a physical division of a chamber in phi, corresponding to different gas volumes, or a logical division of the chamber's gas volume. Its numbering increases with Phi and its range is [1,2], depending on the RPC chamber type. The **GasGap** field denotes a gas volume. Its numbering increases with R and its range is [1,2]. The **MeasuresPhi** field denotes the orientation of the strips. Its numbering has the value 0 for a strip that measures Z or 1 for a strip that measures Phi. Finally, the **Strip** field denotes a single strip. Its numbering increases with R for a strip that measures R or in Phi for a strip that measures Phi, and starts from 1.

\begin{table}
\begin{tabular}{|l|c|l|} \hline
**Level** & **Value Range** & **Meaning / Comment** \\ \hline Detector & 7 & Muon Spectrometer \\ \hline StationName & CSS, CSL & Short and Long phi sectors \\ \hline StationEta & -1 or 1 & Backward Endcap: -1 \\  & & Forward Endcap: 1 \\ \hline StationPhi & [1,8] & Increases with Phi \\ \hline Technology & CSC & Cathode Strip Chambers \\ \hline ChamberLayer & [1,2] & Increases with \(\mid\!Z\!\mid\) \\ \hline WireLayer & [1,4] & Increases with \(\mid\!Z\!\mid\) \\ \hline MeasuresPhi & [0,1] & 0 for a strip that measures R \\  & & 1 for a strip that measures Phi \\ \hline Strip & [1,n] & Increases with R for MeasuresPhi=0 \\  & & Increases with Phi for MeasuresPhi=1 \\ \hline \end{tabular}
\end{table}
Table 3: Set of value ranges for the Muon CSC software identifier levels.

#### 2.5.3 RPC Detailed Value Ranges

### The TGC Chambers

#### 2.6.1 Identifier

Station Prefix / Technology / GasGap / IsStrip / Channel

#### 2.6.2 Discussion

The TGC **GasGap** field denotes a gas volume. Its numbering increases with abs(Z) and its range is [1,2] for doublet chambers or [1,3] for triplet chambers. The **IsStrip** field denotes the technology of the component being described. Its value is 0 for a wire gang or 1 for a strip. The **Channel** field denotes either a single wire gang or a single strip. Its numbering increases in R for a wire gang or in Phi for a strip, starting with 1.

\begin{table}
\begin{tabular}{|l|l|l|} \hline
**Level** & **Value Range** & **Meaning / Comment** \\ \hline Detector & 7 & Muon Spectrometer \\ \hline StationName & BIL, BIR, BIS & Barrel Inner radius (Long, Rib, Short) \\  & BEE & Barrel Extension (mounted on endcap toroid) \\  & BML, BMS, BMF & Barrel Middle radius (Long, Short, Feet) \\  & BOL, BOS, BOF & Barrel Outer radius (Long, Short Feet) \\  & BOG, BOH & Barrel Outer radius (either side of feet) \\ \hline StationEta & [-8,8] & Increases with Z \\ \hline StationPhi & [1,8] & Increases with Phi \\ \hline Technology & RPC & Resistive Plate Chamber \\ \hline DoubletR & [1,2] & Increases with R \\ \hline DoubletZ & [1,3] & Increases with abs(Z) \\ \hline DoubletPhi & [1,2] & Increases with Phi \\ \hline GasGap & [1,2] & Increases with R \\ \hline MeasuresPhi & [0,1] & 0 for strips measuring Z \\  & & 1 for strips measuring Phi \\ \hline Strip & [1,n] & Increases with abs(Z) for MeasuresPhi=0 \\  & & Increases with Phi for MeasuresPhi=1 \\ \hline \end{tabular}
\end{table}
Table 4: Set of value ranges for the Muon RPC software identifier levels.

#### 2.6.3 TGC Detailed Value Ranges

## 3 Considerations Behind the Choice of Scheme

The most important consideration for the choice of the identifier scheme is that each detector element be uniquely identified. Beyond that, the choices are shaped by a number of issues, including functionality, clarity, and coherence with the other ATLAS subdetector identifier schemes.

### Functionality

In terms of functionality, the following constraints were imposed:

* Every active detector element is uniquely identified.
* Every readout channel can be mapped directly to one identifier or a combination of identifiers.
* Every stage of the detector construction hierarchy which may be associated with a set of conditions parameters, such as alignment or calibration data, is uniquely identified.
* The logical hierarchy is constructed in order of the specificity of the physical objects, from left to right in the tables, starting with the station identifier.

\begin{table}
\begin{tabular}{|l|c|l|} \hline
**Level** & **Value Range** & **Meaning / Comment** \\ \hline Detector & 7 & Muon Spectrometer \\ \hline StationName & T1E, T2E, T3E, T4E & Endcap (1.0 \(<|\,\eta\,|<\) 1.4) approximately \\ T1F, T2F, T3F, T4F & Forward (1.4 \(<|\,\eta\,|<\) 2.0) approximately \\ Number represents layer (4 1 2 3) \\ \hline StationEta & [-5,-1] & Backward Endcap: -1 at lowest R \\  & [1,5] & Forward Endcap: 1 at lowest R \\ \hline StationPhi & [1,48] & Endcap: Increases with Phi \\  & [1,24] & Forward: Increases with Phi \\ \hline Technology & TGC & Thin Gap Chamber \\ \hline GasGap & [1,2] & Doublet: Increases with abs(Z) \\  & [1,3] & Triplet: Increases with abs(Z) \\ \hline IsStrip & [0,1] & 0 for a wire gang \\  & & 1 for a strip \\ \hline Channel & [1,n] & Increases with R for IsStrip=0 (wire gang) \\  & & Increases with Phi for IsStrip=1 (strip) \\ \hline \end{tabular}
\end{table}
Table 5: Set of value ranges for the Muon TGC software identifier levels.

### Clarity

Clarity of the definition is essential to minimize error in the applications which use the identifiers. This implies the construction of a scheme which is understandable and unambiguous. Toward this end, the following constraints were imposed:

* Each identifier field corresponds to the coordinates described in Section 2.1, with its value increasing in the positive direction of that coordinate or, as indicated, its absolute value.
* The identifier scheme remains close to the naming conventions of the Technical Design Report, including the usage of station names. There are a few exceptions, which are necessary either to accommodate the above point or to maintain consistency with the other ATLAS subdetector schemes.

### Starting with 1

One of the more sensitive issues, which often arises in discussions pertaining to the identifier scheme, is whether the numbering of a field should begin with 0 or 1. There are many excellent arguments on both sides of the issue and it is certain that they are all perfectly valid. We have chosen here, with a few exceptions, to begin with 1.

The overriding reason for this choice is to maintain compatibility with existing data sets constructed with the AMDB indexing. In addition, this choice simplifies the interface between applications based on the AMDB indices and those based on the new scheme. An eventual migration of all applications to the new scheme is foreseen, but will take some time to implement.

## Bibliography

* [1] ATL-MUON-2001-014, "A Hierarchical Software Identifier Scheme for the ATLAS Muon Spectrometer (Version 1.1)", A. DiCiaccio, S. Goldfarb, J.-F. Laporte, D. Lellouch, M.Virchaux (2001).
* [2] ATL-SOFT-2001-004, "Definition of Off-line Readout Identifiers for the ATLAS Detector (Version 1.17)", Edited by S. Goldfarb, A. Schaffer (2001).
* [3] "AMDB_SIMREC, An ATLAS Muon System Database", [[http://www.cern.ch/Atlas/GROUPS/MUON/AMDB_SIMREC/amdb_simrec.html](http://www.cern.ch/Atlas/GROUPS/MUON/AMDB_SIMREC/amdb_simrec.html)].
* [4] ATC-OQ-QA-2040, ATLAS Part Identification, [http://edmsoraweb.cern.ch:8001/cedar/doc.info?document_id=ATL-GE-QA-2040](http://edmsoraweb.cern.ch:8001/cedar/doc.info?document_id=ATL-GE-QA-2040).
* [5] CERN/LHCC/97-22, "ATLAS Muon Spectrometer Technical Design Report" (1997).