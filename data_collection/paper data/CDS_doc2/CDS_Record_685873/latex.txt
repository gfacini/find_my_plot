**ATLAS Internal Note**

**INDET-NO-037**

**23 February 1994**

**ADAM : a signal processing chip with analog memory storage and analog or digital output for the ATLAS outer tracker readout**

F. Anghinolfi,, P. Jarron,

CERN, CH-1211 Geneva 23, Switzerland

R. Bonino, A.G. Clark, H. Kambara, D. La Marra, A. Leger,

J.P. Richeux DPNC.

Universite de Geneve, CH-1211 Geneva 4, Switzerland

D. Campbell, P. Murray.

Rutherford Appleton Laboratory, Chilton, Didcot, Oxon OX11 0QX, UK

**Functional Description:**

The chip ADAM is a major development step toward the final signal processing electronic circuit for the readout of the ATLAS outer silicon tracker.

It consists of the following main functional units (Fig.1):

A - Front-end amplifiers

B - Analog memory

C - Analog multiplexer

D - ADC

E - Readout FIFO and Control

F - I/O adapted for minimum crosstalk

A charge signal from a silicon detector is integrated within 20 ns in the front-end amplifier (ICON2) of each channel. The corresponding output voltage signal is sampled at 40 MHz and then stored on capacitors into the analog memory. The control logic of the analog memory allows selective readout of the voltage samples belonging to a positive LVL1 trigger signal. The 32 analog values corresponding to the same sampling time on the 32 channels are serially sent through the analog multiplexer to the on-chip ADC for digitization. Digitized data is stored in an output FIFO to allow a readout not synchronized to the internal chip operation.

The main specifications for each of the ADAM parts are listed in Table 1.

At this stage of development the ADAM chip does not include the sparse data scan electronic (SDS), which is being separately developed by the Oxford University.

This design represents the continuation of developments pursued in the RD2 collaboration for the readout of silicon strip detectors with analog signal readout (HARP, DYN-1, APC3). It is developed specifically to be used as a readout chip for prototypes of a silicon tracker modules. Eight of these chips can be mounted on a small surface with minimum adjacent bus size and a very limited number of other components to perform the readout of a 256 silicon strips.

**Front-end amplifiers (A)**A fast current mode amplifier (ICON2) is used for charge integration with a rise time of 13 ns which is less than the charge collection time of the silicon detector (<20 ns). It can be AC or DC coupled to the detector. No significant signal degradation has been observed for DC leakage current in excess of 10\(\upmu\)A.

The signal peak amplitude at the output of the amplifier is 50 mV for one MIP particle traversing a 300\(\upmu\)m thick silicon detector (25000 el). This value will give sufficient margin compared to the cell-to-cell baseline fluctuation due to the memory (presently =1.5 mV r.m.s.) and the channel-to-channel baseline fluctuations (\(\approx\)2.2 mV r.m.s.). The noise contribution of the ICON2 amplifier is 800 el. + 80 el./PF and the power consumption is measured to be 0.3 mW.

The ICON2 is particularly robust against power supply and process parameter variations. This is a key point for system consisting of several million channels operated in a radioactive environment.

**Analog Memory (B):**

A differential memory cell and readout structure provides a correlated double sampling (CDS) technique. This results in a large common mode rejection ratio and the reduction of the low frequency noise coming from the front end amplifier. The full detector signal is in principle available in a single readout cell. The pitch of the analog cell is 40\(\upmu\)m and the channel width is 100\(\upmu\)m. The power consumption per channel is less than 1 mW.

Control logic for the readout of such a memory with no dead time has already been validated at 40 (and 66) MHz speed (DYN-1, APC3). The input to the logic will consist in two reset lines to define the trigger latency, the 40 MHz clock and the LVL1 trigger input.

**Analog Multiplexer (C):**

The analog multiplexer is the interface between the analog memory readout and the ADC input. The scheme exists from past designs and performs above 5 MHz, compatible with the ADC speed. The analog output of the multiplexer is directly available on one pin of the chip, giving the choice between reading the analog or the digitized data.

**ADC (D):**

An ADC (CRIAD) has been developed and tested and the same design is used in the ADAM chip. The CRIAD ADC is optimized for a limited power consumption (25 mW) at the sampling rate of 5 Msamples/sec. It is a piecewise linear ADC combining a full flash 2-bit converter together with parallel algorithmic 6-bit linear converters. The 2 bits decision of the flash part is used to increase the 6-bit converters resolution when the input signal amplitude is decreasing. The maximum resolution of 1 mV is obtained for an input range from 0 to 64 mV, and the largest available dynamic range is 2.048V with a resolution limited to 32mV. The digital output is on 8 bits (2 bits as the resolution number, 6 bits of ADC data).

**Readout FIFO and Control (E):**

An output data buffer (FIFO) is located after the ADC to store the digitized data and the corresponding column address of the analog memory. The depth of the FIFO is 66 bytes to store two time-sample data frames after digitization. One time-sample data frame consists of one byte of address (7 bits for the column address of the analog memory and one marker bit) followed by 32 bytes for the ADC data corresponding to 32 channels readout. If one trigger input corresponds to one time-sample readout, two triggers can be stored at the same time in the output buffer ; the data related to a third accepted trigger stay pending in the analog memory unless 33 bytes are free on the output buffer. On a specific input, an external request (EnIn) signal generates the readout of one 33 byte frame on an 8-bit bus at 10 MHz (80 Mbits/sec). At the end of a frame transmission, an output signal (EnOut) is emitted and can be used by an adjacent chip as EnIn signal to daisy-chain the readout of N chips.

I/O (F):

The digital signals (inputs or outputs) which have to operate when the detector is active have specifications for generating the minimum crosstalk with the sensitive inputs to the front-end.

The output signals are single-ended low-current outputs (0-100\(\upmu\)A). The clock and trigger signals are differential low level voltage sensitive inputs (200mV levels). The EnIn and EnOut signals are differential low-current input and output (\(\pm\)100\(\upmu\)A).

Other digital lines, as reset or control lines, are transmitted in standard CMOS high voltage levels as they should not be activated during the data acquisition.

**Table 1**

**Short Specifications List:**

* General:

Supply Voltage:

Clock Speed:

40MHz

Power Cons.:

\(<\) 2mW/channel

Nbe. of channels:

32

* Frontend Amplifier

Rise Time:

13ns (10-90%)

Coupling:

AC or DC

Noise:

800el + 80el/pF

Leak:

10\(\mu\)A

S/N

18 @ Cdet=10pF, tp=20ns

* Analog Memory

Length:

Cell size:

40\(\mu\)m x 100\(\mu\)m

Cap.Value

2 x 0.2pF

* Address FIFO

Length:

Width:

7

* Analog Mux

Speed:

5MHz

Output:

10pF max. Current drive \(<\) 50\(\mu\)A.

* ADC

Ref. Voltages:

VH (2.5V)

VH - 2.048V

Precision:

6 bits

Dynamic Range:

4, automatically adapted to the

signal amplitude

VH, VH-64mV (Resolution 1mV)

VH, VH-128mV (Res. 2mV)

VH, VH-512mV (Res. 8mV)

VH, VH-2048mV (Res. 32mV)

Output:

8 bits

Sampling rate:

5Msamples/sec max.

* R/O Buffer (FIFO)

Length:

Width:

8 bits

R/O speed:

10MHz

* I/O (digital)

Inputs (Clock, Trigger):

Differential, Voltage Sensitive

0.1 to 0.9V DC, \(\pm\)100mV swing

Input Enable In

Output Enable Out:

Differential, Current mode

200\(\mu\)A \(\pm\) 100 \(\mu\)A

Data, Strobe outputs:

Single Ended Current mode

0 - 100\(\mu\)A

Control Lines

CMOS levels

(Resets, etc...)