# The optical links of the ATLAS SemiConductor Tracker

A. Abdesselam

P.P. Allport

R.J. Apsimon

C. Band

A.J. Barr

L. Batchelor

R.Bates

P. Bell

J.Bernabeu

J. Bizzell

R. Brenner

T. Brodbeck

P. Bruckman De Renstrom

C. Buttar

J.R. Carter

D.G. Charlton

A. Cheplakov

A. Chilingarov

M.L. Chu

A-P. Colijn

D. Dawson

B. Demirkoz

P. de Jong

P.J. Dervan

Z. Dolezal

J.D. Dowell

A.C. Escobar

E. Spencer

T. Ekelof

L. Elkund

D. Ferrere

T.J. Fraser

M. French

R. French

J. Fuster

B.J. Gallop

C. Garcia

M.J. Goodrick

A. Greenall

A.A. Grillo

J. Grosse-Knetter

F. Hartig

N.P. Hessey

J. C.Hill

R.J. Homer

L.S. Hou

G. Hughes

J. Ikegami

C. Issever

J.N. Jackson

M. Jones

T. Jones

P. Jovanovic

E. Koffeman

P. Kody

T. Kohriki

S.-C. Lee

C.G. Lester

M. Limper

S.W. Lindsay

M. Lozano

C.P. Macwaters

C.A. Magrath

G. Mahout

I. Mandic

J. Matheson

T.J. McMahon

B. Mikulec

A.J.M. Muijs

M. Morrissey

A. Nichols

R.B. Nickerson

V. O'Shea

S. Pagnetism

M.A. Parker

J. Pater

E. Perrin

H. Pernegger

S.J.M. Peeters

P.W. Phillips

M. Postranecky

D. Robinson

A. Robson

A. Rudge

H. Sandaker

K. Sedlak

N.A. Smith

S. Stagnes

B. Stugu

P.K. Teng

S. Terada

A. Tricoli

M. Tyndel

N. Ujie

M. Ujian

Y. Unno

E. van der Kraaij

I. van Vulpen

G. Viehhauser

J.H. Vossebeid

M.R.M. Warren

R.L. Wastie

A.R. Weidberg

P.S.Wells

D.J. White

J.A. Wilson

Institute of Physics, Academia Sinica, Taipei, Taiwan Centre Nacional de Microelectronica CNM-IMB (CSIC), Barcelona, Spain Department of Physics and Technology, University of Bergen, Bergen, Norway School of Physics and Astronomy, The University of Birmingham, Birmingham, U.K. Cavendish Laboratory, University of Cambridge, Cambridge, U.K. CERN, Geneva, Switzerland Department of Physics, University of Geneva, Switzerland Department of Physics and Astronomy, University of Glasgow, U.K. KEK, High Energy Accelerator Research Organization Oho 1-1, Tsukuba, Ibaraki 305-0801, Japan Physics Department, Lancaster University, Lancaster, U.K. Jozef Stefan Institute and Department of Physics, University of Ljubljana, Ljubljana, Slovenia Oliver Lodge Laboratory, University of Liverpool, Liverpool, U.K.

# The _CERN Large Hadron Collider_

M. A. Aguilar

Department of Physics and Astronomy, University College London, London, U.K.

Santa Cruz Institute for Particle Physics, University of California, Santa Cruz, California, U.S.A.

School of Physics and Astronomy, Manchester University, Manchester, U.K.

NikHEF, Amsterdam, The Netherlands

Department of Physics, Oslo, Norway

Department of Physics, Oxford University, Oxford, U.K.

Faculty of Mathematics and Physics, Prague, Charles University, The Czech Republic

Rutherford Appleton Laboratory, Oxfordshire, U.K.

Physics Department, Sheffield University, Sheffield, U.K.

Physics Division, Uppsala University, Uppsala, Sweden

Instituto de Fisica Corpuscular (IFIC), Universidad de Valencia-CSIC, Valencia, Spain

###### Abstract

Optical links are used for the readout of the 4088 silicon microstrip modules that make up the SemiConductor Tracker of the ATLAS experiment at the CERN Large Hadron Collider (LHC). The optical link requirements are reviewed, with particular emphasis on the very demanding environment at the LHC. The on-detector components have to operate in high radiation levels for 10 years, with no maintenance, and there are very strict requirements on power consumption, material and space. A novel concept for the packaging of the on-detector optoelectronics has been developed to meet these requirements. The system architecture, including its redundancy features, is explained and the critical on-detector components are described. The results of the extensive Quality Assurance performed during all steps of the assembly are discussed.

Optical detector readout concepts; Electronic detector readout concepts (solid-state).

## 1 Introduction

**2. System architecture and specifications**

2.1 System architecture

2.1.1 The data links architecture and components

2.1.2 The TTC links architecture and components

2.2 System specifications and requirements

2.2.1 Radiation hardness

2.2.2 Bit Error Rates and Single Event Upsets

2.2.3 Specifications for the data links

2.2.4 Specifications for the TTC links

**3. Mechanical and thermal interfaces**

3.1 Barrel interfaces

3.2 Endcap interfaces

**4. On-detector optoelectronics**

4.1 Barrel opto-package

4.2 Endcap opto-package

4.3 Opto-harnesses

4.3.1 Barrel harness

4.3.2 Endcap fibre harness

**5. Fibre optic connectors and cables**

5.1 Fibre connectors

5.2 Short fibre ribbons

5.3 Fibre cable

**6. Tests of on-detector optical link components during production and assembly**

6.1 Phases of testing

6.2 Measurements during production

6.3 Barrel harness tests

6.3.1 Reception tests

6.3.2 Tests after mounting on the barrels

6.3.3 Reception tests at barrel macro assembly site

6.4 Endcap harness tests

6.5 Tests after modules were mounted

6.5.1 Initial test

6.5.2 Module operation

6.6 QA for fibre cables

# 7. QA for the off-detector optoelectronics

7.1.1 Production tests for the off-detector RX and TX plug-ins

7.1.2 Reception tests for the RX and TX plug-ins

8. Optical link problems encountered during assembly

8.1 Fibre breaks

8.2 Damaged ASICs and VCSELs

8.3 Slow turn-on VCSELs

8.4 Current status of optical links

## 1 Introduction

ATLAS will be one of two general purpose detectors operating at the CERN LHC [1]. The LHC has been designed to produce proton-proton collisions at a very high centre of mass energy of \(14\:\mathrm{TeV}\), with a luminosity of \(10^{34}\)\(\mathrm{cm}^{-2}\mathrm{s}^{-1}\). The SemiConductor Tracker (SCT) forms the intermediate layer of the ATLAS Inner Detector [2], and is used for the precision tracking of charged particles produced in the proton-proton interactions. The SCT detecting elements are silicon microstrip sensors [3]. The sensor strips are AC-coupled to binary readout electronics, with the ABCD3TA custom ASIC [4] providing the front-end amplification, discrimination and pipeline functions. The sensors and front-end ASICs are assembled within modules, which are mounted on carbon-fibre structures within the experiment. The sensors within modules are glued back-to-back around high thermal conductivity substrates [5],[6] to provide two-sided readout, with six 128-channel ABCD3TA ASICs on each side. The SCT consists of barrel and endcap regions. The barrel region contains four layers of co-axial carbon-fibre cylinders on which are mounted 2112 rectangular barrel modules [5]. The endcaps are formed from nine carbon-fibre disks on each side of the barrel, carrying a total of 1976 wedge-shaped endcap modules [6].

Figure 1(a) shows a close-up view of barrel modules mounted on one of the carbon-fibre cylinders, and figure 1(b) the module mounting fixtures and the network of services lying beneath the barrel modules. This paper describes one very important component of these services, the transmission of data and control signals via optical links. These are used in the SCT to transmit data from the detector modules to the off-detector electronics and to distribute the Timing, Trigger and Control (TTC) data from the counting room to the front-end electronics [2].

All the SCT on-detector components have to be of low mass and use materials with long radiation lengths in order to minimize performance degradation through the multiple scattering of particles. Mechanical clearances are small, to maximize the geometrical coverage and hermeticity of the SCT, and so there are very tight requirements on the space available for the on-detector components. The inner detector sits within a 2 T uniform magnetic field provided by a superconducting central solenoid, and hence the on-detector materials used must be non-magnetic, both to avoid magnetic forces and distortions of the magnetic field. These requirements have led to the development of custom packaging for the optoelectronics, described in section 4.

There will be very little possibility of maintenance for the on-detector components during the 10 years of operation with the presently approved LHC, and the optical links will have to operate in the hostile LHC radiation environment throughout this period. Radiation tolerance is discussed in section 2.2.1. As well as surviving the total radiation dose, the detector has to operate correctly while exposed to a high particle flux, which will cause Single Event Upsets (SEUs), as outlined in section 2.2.2.

The overall system architecture and specifications of the SCT optical links are reviewed briefly in section 2, and the mechanical and thermal interfaces in section 3. The on-detector opto-packages are described in section 4. The optical fibre connections and cable scheme are summarised in section 5. The performance of all on-detector components was measured during extensive Quality Assurance (QA) testing, both before and after mounting onto the carbon fibre support structures, and a summary of the results is given in section 6. The results of the QA for the off-detector optoelectronics are presented in section 7. Some of the problems encountered during the project are outlined in section 8. The optical links have been used in very successful SCT system tests.

## 2 System architecture and specifications

### System architecture

The communication between each SCT module and the off-detector data acquisition system is made by individual optical links. The total length of the fibres, for each optical link is around 80 m (the lengths for the different sections are given in sections 4.3.1, 4.3.2, 5.2 and 5.3). The system is illustrated schematically in figure 2, with the upper part of the figure showing the data links and the lower part the TTC links. The links are based on GaAs Vertical Cavity Surface Emitting Lasers (VCSELs),1 emitting light around 850 nm, and epitaxial Si _p-i-n_ diodes.2 These devices were chosen because of their excellent immunity to radiation damage (section 2.2.1), and because of the low power required to drive the VCSELs, due to the low laser threshold current (typically around 4 mA).

Figure 1: (a) Close-up view of barrel modules mounted on a cylinder [5], connected to all electrical, optical and cooling services; (b) View of mounting brackets and service distribution underneath the modules on the cylinder.

#### 2.1.1 The data links architecture and components

The binary data from each channel of an SCT module are stored in a pipeline memory of the ABCD3TA ASIC and those corresponding to a first level trigger signal are read out. The data from each side of the module are read out serially via a "master" ABCD3TA [4]. Two data links operating at 40 Mbits/s transfer the data from the two master ABCD3TA ASICs of each module to two channels of a custom ASIC, the VDC [7], which drives two VCSEL channels. The VDC, developed specifically for the SCT project, translates the approximate LVDS [8] signal produced by the ABCD3TA into the drive signal required to operate the VCSEL. The nominal VCSEL drive current is 10 mA, but this can be increased to up to 20 mA. These higher drive currents may be required to achieve faster annealing of radiation damage to the VCSEL, or to provide additional safety margin for the optical power budget (section 2.2.3).

The VCSEL is contained within the on-detector opto-package indicated in figure 2 and described in section 4, where the light is coupled into a step index multi-mode (SIMM) custom optical fibre3 with a pure silica core (50 \(\upmu\)m diameter) to ensure radiation hardness [9]. The data are sent in non-return-to-zero (NRZ) format to a Back of Crate (BOC) card in the counting room [10], which provides the interface between the optical signals and the off-detector electronics in the SCT Readout Driver (ROD). In the BOC, Si _p-i-n_ diode arrays provide electrical signals that are discriminated by another custom SCT ASIC, the DRX-12 [10], which provides the LVDS data used in the ROD.

Figure 2: The ATLAS SCT optical links system architecture for the data links (top) and for the TTC links (bottom). Equivalent systems are used for the barrel and endcap SCT, but for the barrel there is only one optical patch panel, PPB1, while for the endcap there are two, PPF0 and PPF1.

The bandwidth of the data links is calculated to be sufficient to ensure that any queuing losses of data will be negligible provided the mean sensor strip occupancy is lower than 2%. This figure gives a contingency of more than a factor of two in the worst case expected at high luminosity.

Some redundancy is built into the data links in that two independent links are provided for each SCT module. In normal operation, each link reads out one of the sides of the module, but if one link fails then all the data can be read out via the working link. The redundancy mode reduces the available bandwidth, but this will not cause any loss of data at the expected rates. The data redundancy scheme has been used successfully to allow for the cases of data link failures which occurred during detector integration and could not be repaired (see section 8). A limitation of this scheme is that if the data link redundancy scheme is used for an unmodified barrel SCT module, then the data from one ABCD ASIC out of 12 on the module will be lost. If the failure in the data link occurred after all the services were mounted on a barrel but before the corresponding module was mounted, then the module was modified to allow the readout of all 12 ABCD ASICs through the working link.

#### 2.1.2 The TTC links architecture and components

Optical links are also used to send the TTC data from the RODs to the SCT modules, as indicated in the lower part of figure 2. Within the BOC, the custom BPM-12 ASIC [10] uses biphase mark (BPM) encoding to send a 40 Mbits/s control stream in the same channel as the 40 MHz LHC bunch crossing clock [10]. The outputs of the BPM-12 ASIC drive an array of 12 VCSELs which transmit the optical signal into 12 SIMM fibres. The signals are converted from optical to electrical form by the on-detector Si _p-i-n_ diodes within the Opto-package indicated in figure 2. Finally, these electrical signals are received by the SCT custom DORIC4A ASIC [11] which decodes the BPM data into a 40 MHz bunch crossing clock and a 40 Mbit/s control data stream, for transmission to the front-end ABCD3TA ASIC.

Redundancy is built into the TTC system by having electrical links from one module to its neighbour. If a module loses its TTC signal for any reason, an electrical control line can be set which will result in the neighbouring module sending a copy of its TTC data to the module with the failed signal. For the barrel part of the SCT, the redundancy system is configured as a loop of 12 modules, each connecting two adjacent barrel harnesses (section 4.3.1). For the endcap SCT, the redundancy loops join detectors in a ring on a disk and consist of 40 or 52 modules. The TTC links redundancy scheme was also used successfully to allow for cases of TTC link failures which occurred during detector integration (see section 8).

### 2.2 System specifications and requirements

#### 2.2.1 Radiation hardness

The anticipated radiation levels within the ATLAS inner detector [2] require that the on-detector optical link components are specified to withstand a total ionising dose of up to 100 kGy(Si) and an equivalent fluence for silicon of up to 2 \(\times\) 10\({}^{14}\) (1 MeV n\({}_{\text{eq}}\)) cm\({}^{\text{-2}}\). Care was therefore taken to select plastics and adhesives that were known to be radiation hard, while the radiation hardness of all active components and fibre was verified by the SCT using appropriate radiation sources. The latter were \({}^{60}\)Co gamma sources to provide the required ionising dose and beams of protons and neutrons to study the displacement damage caused by high energy particles. To compare results across beam type and energy, the damage was assumed to scale with the Non-Ionising Energy Loss (NIEL), a hypothesis that is well verified for silicon devices[12]. Therewere less previous data for GaAs devices, but those collected by the SCT collaboration for GaAs with different beam types and energies were also found to be compatible with NIEL scaling [13],[14].

There are extensive manufacturers' data on the lifetime of VCSELs and _p-i-n_ diodes, but little data on the reliability of these devices after irradiation to LHC levels. Therefore reliability testing was performed on irradiated samples of all the on-detector optoelectronics. The full SCT programme of radiation and reliability tests [7],[9],[11],[14] showed that the system components fully satisfy the radiation requirements for operation within ATLAS.

The optical fibre uses a pure silica core and a F spike doped cladding\({}^{3}\) and thus avoids the use of dopants in the core which can lead to a decrease in attenuation length with ionizing radiation. This fibre is thus radiation hard by design and this has been verified by extensive radiation testing[9].

As well as surviving the total radiation requirements, it is essential that the system should operate correctly during high luminosity running, despite the very high flux of charged particles. This flux will cause Single Event Upsets (SEU). This has been studied in high intensity pion and proton beams and it has been determined that the dominant effect is due to localised energy deposition in the _p-i-n_ diode and the SEU cross sections have been measured [15].

#### 2.2.2 Bit Error Rates and Single Event Upsets

The rate of single bit errors in the data and TTC links must be sufficiently low to give a negligible degradation in detector performance.

Single bit errors in the data links will cause the loss of valid hits from the silicon detectors or the creation of spurious hits. The upper limit on the Bit Error Rate (BER) is specified as 10\({}^{\text{-9}}\), as an error rate at this level would still give a negligible contribution to the detector inefficiency or to the rate of spurious hits. In practice, the error rate in the system has been measured to be much lower than this value (section 6). Since the system involves a very large number (8176) of data links in total, it needs to be simple to set-up and operate, with a minimal number of adjustments. It is therefore important that the system should work with a low BER over a wide range of the adjustable parameters.

Single bit errors in the TTC links will corrupt the command data sent to the modules. The most serious impact of rare errors in the TTC data occurs while sending the level 1 trigger signal. As the length of this packet is only 3 bits, in order to minimise the dead time between triggers, a single bit error can cause a loss of level 1 trigger. This can lead to loss of synchronization in the pipelined system, until a suitable reset signal is sent. It has been established that the specified maximum BER of 10\({}^{\text{-9}}\) will cause a negligible loss of data [15]. From test beam data, it is estimated that at high LHC luminosity a BER of \(\sim\) 10\({}^{\text{-10}}\) would be expected due to Single Event Upsets [15]. Therefore it is not anticipated that SEUs will have any significant adverse effect on the quality of the SCT data. Without beam, the BER for the TTC links has been measured to be more than an order of magnitude lower than specification (section 6). As for the data links, it is important that a low BER can be achieved for the TTC links over a wide range of the adjustable parameters.

In the binary system used for the readout of the SCT detectors it is necessary to assign hits to the correct bunch crossing, while allowing for the time walk of the signal in the front-end electronics. Therefore any jitter on the clock signal would lead to decreased SCT efficiency [2] so the specification is that the RMS clock jitter should be less than 0.5 ns.

#### 2.2.3 Specifications for the data links

Standard practice in optoelectronics is to design a system to have a minimum excess power margin in the range 6-8 dB[16]. This excess power margin ensures that the system will operate reliably even if there is some deterioration with ageing or some unexpected losses. No error correction is used in the data links in order to simplify the on-detector electronics. No error correction can be used for the TTC system as this would increase the trigger latency by an unacceptable amount. This power margin requires the on-detector VCSELs to have a coupled power into the 50 \(\upmu\)m core SIMM fibre of greater than 800 \(\upmu\)W for a drive current of 10 mA. The attenuation loss in the fibre is measured to be less than 15 db/km and a negligible deterioration is expected for the full LHC radiation dose. The minimum responsivity of the off-detector Si _p-i-n_ diodes is specified to be greater than 0.4 A/W. After allowing for additional losses in the optical connectors this gives a minimum excess power margin of 9.6 dB (allowing for radiation damage), as required. If necessary this can be further improved by increasing the VCSEL drive current from 10 mA up to a maximum of 20 mA. The provision of a maximum value as high as 20 mA is motivated by the possible need to achieve faster annealing of radiation damage rather than power margin.

The data link reliability requirement is set by demanding that the fraction of link failures after 10 years of LHC operation should be less than 1%. For the VCSELs, ageing only occurs when the current is being drawn. Since NRZ data are used, this only happens 25% of the running time because, to reduce queuing losses, data will only be sent 50% of the time on average and there will be an approximately equal numbers of "0"s and "1"s in the data stream. This leads to a specification that the data link reliability should be better than 1400 FIT, where 1 FIT is defined as one failure in 10\({}^{9}\) operating hours. This specification is a factor of 4 less stringent than it would have been if the VCSELs had been on all the time. This analysis only accounts for long term wear out and not for random failures. It is very difficult to predict the rate of random failures as this is very dependent on the precise details of how the links are installed and operated. The redundancy system (see section 2.1.1) provides a good protection against a low but non zero rate of random failures.

#### 2.2.4 Specifications for the TTC links

Again considering the minimum excess power margin of the system, the off-detector VCSELs are specified to have a coupled power into the 50 \(\upmu\)m core SIMM fibre of greater than 700 \(\upmu\)W at a drive current of 10 mA. The minimum responsivity of the on-detector Si _p-i-n_ diodes [7] is also specified to be greater than 0.4 A/W before radiation damage. Allowing for the attenuation in the fibre and the losses in the optical connectors this gives a minimum excess power margin of 6.4 dB. This can be increased if necessary by raising the drive current from the nominal 10 mA to a maximum of 15 mA.

The reliability requirement for the on-detector _p-i-n_ diodes is set in a similar way to that for the VCSELs, but allowing for the fact that the devices will be powered on all the time. This leads to a reliability specification of better than 350 FIT.

## 3 Mechanical and thermal interfaces

In the design of a hermetic SCT detector with a minimum area of silicon, the space available for the on-detector optical and electrical services is very limited. The power dissipation of the on-detector optoelectronics for the readout of one SCT module is 360 mW, which is much lower than that consumed by the SCT module itself (which is in the range 5.5 - 8.5 W). Nevertheless, it is essential tthat the heat from the optoelectronics should be transported efficiently to the cooling system for two reasons; firstly it is important to avoid excess heating of the silicon detectors, which could lead to thermal runaway following type-inversion due to radiation damage [3], and secondly the lifetimes of the VCSELs will decrease with increasing temperature. These mechanical and thermal interfaces are described below for the barrel and endcap SCT regions.

### Barrel interfaces

The SCT modules are mounted on carbon fibre brackets (figure 1(b)) which are rigidly attached to the carbon fibre barrels. The on-detector optoelectronics components are mounted on copper/kapton flex cables, which are also attached to the carbon fibre brackets and are visible in figure 1(b). The space envelope for the optoelectronics has a height of 1.6 mm, providing a vertical clearance to the neighbouring module of 1.39 mm. This clearance is critical to avoid damage to exposed wire bonds on the modules. Therefore the thicknesses were measured at several stages during the assembly of the opto-package and opto-flex circuit. As a final check, after the assembly of the optical and electrical services to the barrel, mechanical "envelope" modules were mounted on each location to verify the clearances.

The cooling of the on-detector optoelectronics is done through the copper/kapton flex cable. Thermal vias are used to conduct the heat from the opto-package to power and ground layers in the copper/kapton flex cable. An AlN ceramic piece is glued to the flex in order to act as a stiffener and also to improve the thermal path to the end of the flex cable, which is in thermal contact with the module heat sink. The latter is an aluminium cooling block, soldered to the Cu/Ni cooling pipe seen in figure 1(a). The thermal connection is made using thermally conducting grease.4 This provides a sliding grease joint, which is needed because the cooling block moves by a distance of up to 1 mm when the detector is cooled down. A specially designed plastic clip was used to ensure that the opto-flex keeps good thermal contact with the cooling block. Extensive thermal cycling tests showed that this thermal connection was very reliable and no problems with a thermal grease connection have been seen in ATLAS operation.

Footnote 4: DC 340 thermal grease, _Dow Corning_, [http://www.dow.com/](http://www.dow.com/).

### Endcap interfaces

The SCT endcap on-detector optical interfaces are arranged differently from those of the barrel. The endcap opto ASICs are mounted on the hybrids of the endcap modules themselves, as shown in the photograph of figure 3. As also seen in figure 3, there is an electrical power tape connector on the endcap SCT hybrid, and the endcap opto-package (section 4.2) is designed to connect to this. Therefore the cooling of the optoelectronics is ensured by the thermal connections of the endcap module [6] to cooling pipes attached to the endcap disks.

## 4 On-detector optoelectronics

The on-detector opto-packages have to be assembled from non-magnetic materials, to fit in the available space and to contribute a minimum amount to the radiation length of the detector. The overall mechanical assembly, as well as the optoelectronics, must be able to withstand the expected radiation from 10 years of LHC operation. Therefore custom opto-packages were developed. The on-detector opto-packages contain two VCSELs and one epitaxial Si _p-i-n_ diode. The opto-package for the barrel SCT is described in section 4.1, and the variant used for the endcap in section 4.2.

### Barrel opto-package

The key issues for the opto-packages are how to couple the light from the surface emitting VCSELs into the fibre and how to maintain the very low profile, so as to fit in the available radial space. These problems were addressed by having \(45^{0}\) - angle polished fibres above the VCSELs and using the reflection on the cleaved surface to transfer the light to the fibre core. In a similar way, \(45^{0}\) - angle polished fibres were also used to transfer the light from the TTC fibres to the Si _p-i-n_ diodes. The assembly of the barrel opto-package5 is illustrated schematically in figure 4, and a photograph of a package is shown in figure 5.

Figure 4: The barrel opto-package (left), of dimensions \(11.2\times 5.49\times 1.46\) mm\({}^{3}\), with the exploded view (right) showing the positioning of the _p-in-n_ diodes, the VCSELs and the fibres, and the inset indicating the positioning of the fibre above the surface-emitting VCSEL.

Figure 3: Photograph of part of the hybrid of one side of an endcap module, carrying the 6 ABCD3TA readout ASICs, showing the opto-ASICs (the DORIC4A and VDC), and the opto plug-in (section 4.2).

Within the package, the VCSELs and Si _p-i-n_ diodes are mounted on a small PCB and wire bonded to tracks on the PCB. The fibres are located in v-grooves on a plastic build-up component. Active alignment is used to ensure that the optimal fibre positions relative to the VCSELs are achieved, with a UV-uring glue6 then fixing the fibres in place. The cover is designed to protect the active components and the clamp at the back of the package ensures that the fibres are well strain-relieved. The overall height of the package is only 1.46 mm, which is within the allowed space envelope (section 3.1). Extensive tests were performed to ensure that there is no significant optical or electrical cross talk between the VCSELs and the Si _p-i-n_ diodes within the package.

Footnote 6: Epotek OG-124, [http://www.epotek.com](http://www.epotek.com).

Any small light leak can lead to significant excess noise in the silicon sensors because silicon has a high quantum efficiency for radiation at 850 nm. The effect was observed during the first system test of the SCT [17], [18] before suitable precautions had been taken to minimise light leakage. To overcome this problem, the fibres were placed inside 900 \(\upmu\)m diameter black furcation tubing,7 which minimizes any light leakage from fibre to silicon sensor. In order to reduce the light leakage from the opto-package itself, custom plastic parts were manufactured, using plastic injection moulding and carbon fibre loaded PEEK (polyetheretherketone), which is known to be radiation hard. This material is black and strongly absorbs infra-red radiation. Because of the tight vertical clearance, the top of the cover is made using 25 \(\upmu\)m thick aluminium foil (which also prevents the transmission of infra-red radiation).

Footnote 7: Hytrel furcation tubing (OD 900 \(\upmu\)m, ID 500 \(\upmu\)m), supplied by The Light Connection, U.S.A.

### Endcap opto-package

The endcap readout uses a similar opto-package to the barrel, but includes an 8-way connector for electrical connection to the endcap module (figure 3). Custom plastic covers are used to minimise light leaks. These are different in detail from those for the barrel because there is more vertical clearance in the endcap, but considerably less available lateral clearance.

Figure 5: Photograph of a barrel opto-package, with protective cover removed, showing the fibres held in place by glue, the VCSELs and the _p-i-n_ diode.

### Opto-harnesses

#### 4.3.1 Barrel harness

The on-detector optoelectronics, fibres and low mass aluminium power tapes serving six SCT barrel modules are combined into one opto-harness. The photograph of figure 1(b) shows an assembled barrel harness, with four opto-flex circuits visible (out of the six on the harness), and the associated fibres. The lengths of fibres between the opto-package and the MT-12 connector are in the range 0.892m to 1.889 m.

A total of 352 barrel harnesses are used in the SCT, made in 46 different flavours. These flavours are required in order to accommodate readout from the two ends of the barrels, different module orientations on different barrels, the redundancy scheme (section 2.1.1) and the variations in length of the fibres and tapes required to reach the patch panels. The very large number of different flavours made production difficult and also meant that it was impractical to produce sufficient spares for each flavour. Instead, spare sub-assemblies were manufactured and they were made into complete spare harnesses as needed, on request. This of course had the disadvantage of introducing delay into the SCT assembly sequence. The TTC redundancy scheme (section 2.1.2) was implemented by connecting neighbouring flex cables within a harness, or using special short flex circuits to connect the ends of two adjacent harnesses.

#### 4.3.2 Endcap fibre harness

For the endcap a more modular scheme was used, with the fibre harness assembled separately from the electrical harness. An endcap fibre harness consists of between 4 and 6 endcap opto-packages (section 4.2). The data and TTC fibres are ribbonised and are then fusion-spliced to 12-way fibre ribbons. The individual fibres are protected by the same type of forcation tubing as used for the barrel harnesses.7 The fibre ribbons are wrapped in aluminium foil on the endcap

Figure 6: Photographs of endcap fibre harness. Right, the harness consisting of 6 opto-packages and two fibre ribbons, terminated in MT connectors inside Infineon SMC housings.8 Left, close-up views of: top, the end of the harness with two Infineon SMC housings; bottom, the electrical connector inside the opto cover that connects to the endcap module.

disks because they are positioned very close to the SCT modules and light leakage from the ribbons must be prevented. The lengths of fibres from the opto-package to the MT-12 connector are in the range 0.672m to 3.375m.

A total of 354 endcap fibre harnesses were required, distributed over 7 different flavours. This smaller number of flavours, compared with the barrel, simplified production and allowed 20% spares of each type to be produced. A photograph of an endcap fibre harness is shown in figure 6. For the endcaps the TTC redundancy system is implemented using cables to connect neighbouring modules in a ring on a disk.

## 5 Fibre optic connectors and cables

Single SIMM fibres from the opto-packages are ribbonised and fusion-spliced to the ribbon fibre that extends to the first patch panel (figure 2). For the barrel harnesses (section 4.3.1), each servicing 6 modules, 12 data fibres are fusion-spliced to a 12-way ribbon. In a similar way, the fibres from the endcap fibre harnesses (section 4.3.2) are ribbonised and spliced to ribbon fibre. Since some of the endcap fibre harnesses consist of only 4 or 5 opto-packages, this results in ~ 3.6% in total of unused "dark fibres". The TTC fibres are also fusion-spliced into 12-way ribbons.

### Fibre connectors

The fibre ribbons are terminated with MT-12 (Mechanically Transferable splice) connectors.9 The standard MT guide pins are, however, made from magnetic stainless steel, which cannot be used within the ATLAS solenoidal field. They are therefore replaced by custom, non-magnetic, guide pins, machined from Zirconia.9 The standard MT spring clips are also magnetic, and so these are also replaced by custom spring clips, manufactured using beryllium copper.10 These non-magnetic spring clips are used for the fibre connections at the patch panels PPB1 and PPF1 (figure 2). However, the PPF0 patch panels are at the edge of each endcap disk, where the use of these spring clips would not be practical because of lack of access. Here a push-pull connector is required, and Infineon SMC connectors and adaptors8 are used. The MT connector fits inside the SMC, which can then be connected to the SMC adaptor. A non-magnetic version of the spring inside the SMC connector was manufactured in beryllium copper and a non-magnetic version of the adaptor plate was manufactured from non-magnetic stainless steel using photolithography.

Footnote 9: AT-12MT-FER-GI, NTT Advanced Technology Corporation, Tsukuba, Japan.

Footnote 10: Eguide UK Ltd.

### Short fibre ribbons

For the endcaps, short 12-way fibre ribbons are used to connect the optical PPF0 patch panels on the edge of the disks to the PPF1 patch panels where the connection to the fibre cable is made. There are a total of 710 of these short fibre ribbons, with lengths between 1.456 m and 3.191 m. There are no such short fibre ribbons in the barrel SCT; the barrel harnesses extend directly from the mounted modules to the PPB1 patch panel.

### Fibre cable

The fibres from the patch panels PPB1 and PPF1 to the counting room are inside a protective cable, which is illustrated in figure 7. The cable3 has an outer diameter of 10.5 mm and is made of a flame retardant polyethylene. Two glass fibre reinforced plastic (GFRP) rods provide strength to the cable, and the resulting maximum permissible tensile strength of 220 N allows the cable to be pulled during installation in the ATLAS experimental cavern. The cable can be bent out of the plane of the two GFRP rods with a minimum bend radius of 10 times the cable diameter. Two rip cords are provided so that it is easy to remove short lengths of the protective cable from the end to expose a longer length of bare fibre ribbons. This feature was invaluable during cable assembly. The cables contain either 6 or 8 of the 12-way ribbons. There are a total of 144 of these fibre cables installed in ATLAS and their typical length is around 80 m.

Footnote 3: The fibre fibre cables are not used in the ATLAS experiment.

## 6 Tests of on-detector optical link components during production and assembly

### Phases of testing

A very simplified flow diagram illustrating the different phases of testing and assembly is shown in figure 8. This diagram only describes the tests for the data links but equivalent tests were performed for the TTC links. The diagram refers to the barrel harnesses and a very similar scheme was used for the endcap fibre harnesses. The first QA was performed during production (section 6.2) and a full set of tests was made on reception of harnesses at the SCT detector assembly sites (sections 6.3 and 6.4). Quicker and simpler tests were made after mounting the services to the SCT carbon fibre support structure (sections 6.3.2 and 6.4). Finally, the functionality was verified after the SCT modules had been mounted on the structures (section 6.5).

Figure 7: Fibre protective cable: (a) layout (not to scale). The orientation of the ribbons to the GFRP rods is that used during the cable assembly. The ribbons are loose inside the cable and will tend to orientate themselves to minimise the strain when the cable is bent. (b) A photograph of the end of a fibre ribbon, showing the rip cords, the GFRP rods and the fibre ribbons.

### Measurements during production

All optoelectronic components (VCSELs, _Si p-i-n_ diodes and the opto ASICs) underwent burn-in before assembly. For the on-detector VCSELs this involved operation for 72 hours at a temperature of 50\({}^{0}\)C, with a current of 10 mA. The optical power of the VCSELs and the responsivity of the Si _p-i-n_ diodes were checked to be within the SCT specifications (sections 2.2.3 and 2.2.4). A Bit Error Rate test was performed to verify the digital functionality of the data and the TTC links for the barrel harnesses. This involved a "loop-back" test in which the recovered clock and data from the DORIC4A were sent to the two VCSEL channels in the same opto-package. The BER was measured by comparing the returned data with the reference data. The BER tester was clocked using the returned optical clock, so that it verified the full functionality of the data and TTC links. The requirement was that there should be no bit error in 10 minutes of 40 MHz operation.

Figure 8: Simplified flow diagram for the assembly and QA of the barrel harnesses.

### Barrel harness tests

#### 6.3.1 Reception tests

A full reception test was performed by the SCT11 before the harnesses were mounted on the barrel carbon fibre support structures. A VME-based test system was used, and custom VME boards were designed to measure the BER for both the data and TTC links.

Footnote 11: The sites for harness testing during SCT assembly were, for the barrel, the Rutherford Appleton Laboratory and the University of Oxford, and for the endcaps, NIKHEF, the Rutherford Appleton Laboratory and the University of Liverpool.

The analogue performance of the data links was tested by measuring the light output of the VCSELs at the nominal operating current of 10 mA, while sending pseudo-random data. The results are shown in figure 9(a).

There is a very broad distribution, which is due both to the spread in total power from the VCSELs and also the spread in coupling efficiency. The typical value of the coupled optical power, after correcting for the 50% duty cycle (section 2.2.3) is around 1600 \(\upmu\)W, which is a factor of two greater than the minimum specified (section 2.2.3). The yield was therefore very high. The responsivity of the Si \(p\)-\(i\)-\(n\) diodes was measured at -6V bias, while sending pseudo-random bi-phase mark encoded optical signals. The diodes show very little spread in responsivity (figure 9(b)) and the coupling efficiency is uniformly good because of their relatively large active area (a diameter of 350 \(\upmu\)m).

The digital performance of the data links was first tested by performing BER measurements as a function of the DAC (Digital-to-Analogue Conversion) values which set the thresholds for the DRX-12 receiver ASIC (sections 2.1.1 and 7). The scan was done very quickly, with only 32 kbits of data at each scan point. This crude measurement gives an upper (RXmax) and lower (RXmin) limit for the DAC setting for which no bit errors were detected. The width of the working region was defined as the difference between RXmax and RXmin,

Figure 9: Distribution of measured fibre couple light output from the VCSELs on barrel harnesses. The data give the measured optical power and are not corrected for the 50% duty cycle. The entries in the overflow bin are mainly due to a malfunction of the test system. (b) Distribution of the measured \(p\)-\(i\)-\(n\) diode responsivities, not corrected for the insertion loss of the MT-12 connection.

and the optimal setting was selected to be the average of RXmax and RXmin12. The distribution of this width, figure 10(a), shows some spread which is correlated with the brightness of the VCSEL, with the very low values corresponding to channels with low output power VCSELs. A minimum value of 100 counts was required for the working margin, so that it should be straightforward to set an appropriate RX DAC value in the final system.

Footnote 12: It has subsequently been established in SCT running that more stable operation can be obtained by setting the RX threshold to be RX(optimal) \(=~{}0.7\times\mathrm{RXmax}+0.3\times\mathrm{RXmin}\).

The digital performance of the TTC links was measured in a similar way. A quick BER scan was performed for the TTC links as the value of the BPM-12 ASIC (section 2.1.1 and 7) DAC, controlling the drive current to the VCSELs, was changed. This was used to determine the minimum (TXmin) and maximum (TXmax) TX DAC value for which no bit errors were detected. The optimal value of the TX DAC was defined to be the average of the TXmin and TXmax values. The distribution of the width of the working region is shown in figure 10(b). The spread in the distribution on the low side results from the fact that brighter VCSELs can cause saturation in the DORIC4A. Since there will be an additional attenuation in the fibres in ATLAS operation, the width of the final working region should be larger. For the cases in which any of the TX or RX links failed the QA, the entire harnesses were returned to the manufacturer for re-work, which usually implied replacing the opto-package and its associated kapton flex circuit.

With the RX and TX DACs set to their optimal values, the BER for the data and the TTC links were measured for 10 minutes, with the requirement that there should be no bit errors for either link. This ensures that the BER is less than \(9.6\times 10^{\text{-}11}\) at 90% confidence level, which is an order of magnitude lower than that required by the specifications (section 2.2).

#### 6.3.2 Tests after mounting on the barrels

Simpler and more rapid tests were performed after mounting the harnesses on the carbon fibre support barrels, to check for any damage caused in the mounting procedure. The fibre-coupled output power of the VCSELs and the responsivity of the Si _p-i-n_ diodes were again measured, and another BER test was performed, using a custom BER tester, in order to verify the functionality of

Figure 10: (a) Distribution of RX DAC working margin, defined as RXmax-RXmin, for data links; (b) Distribution of TX DAC working margin, defined as TXmax-TXmin, for TTC links. The non-statistical fluctuations are because measurements for different harnesses used the same set of VCSELs in the test system, and a brighter VCSEL results in a lower value of TXmax.

the data and TTC links. The BER was again measured for 10 minutes with the requirement that there be no errors. The TTC redundancy systems (section 2.1.2) were then turned on and the BER measurement repeated with the same requirement that there should be no errors during 10 minutes. There were 11 out of 352 barrel harnesses that failed one or more optical tests after mounting on barrels. The most common cause of failure was due to fibre damage.

#### 6.3.3 Reception tests at barrel macro assembly site

In order to verify the functionality of the optical links on receipt of the barrels at the barrel macro assembly site,13 very simple tests were performed. A series of level 1 trigger signals was sent to the modules on the TTC links and it was checked that the correct data were returned on the data links via a special "loop-back" PCB on the detector. If necessary, the RX or TX DAC value was changed. In a few cases it was also found to be necessary to change the VCSEL drive current from the default value of 10 mA. These tests revealed some problems (section 8.2) which could not have been rectified without a major disassembly which would have impacted the overall SCT schedule. It was therefore decided not to make any repairs at this stage, but rather to use the data redundancy system (section 2.1.1) for the dead data links and the TTC redundancy system for the dead TTC links (section 2.1.2). At this stage 0.3% (0.1%) of the data (TTC) links were dead.

Footnote 13: Modules were mounted on the barrels at the University of Oxford.

### Endcap harness tests

The endcap fibre harnesses were tested11 using systems and criteria similar to those for the barrel. The harnesses were again tested thoroughly on reception, with similar results to those for the barrel, and more rapidly after mounting on the endcap carbon fibre support disks. After these tests on the disk were successfully completed, the remaining module cooling and powering services were added. The tests were then repeated, in order to verify that no damage had occurred. A few cases of fibre damage were detected due to the complexity of the overall layout, as illustrated in figure 11, and the corresponding fibre harnesses were replaced.

Figure 11: Photograph showing part of an endcap disk after endcap fibre harnesses, kapton flex power circuits and cooling pipes have been mounted.

### Tests after modules were mounted

#### 6.5.1 Initial test

After the SCT modules were mounted on the barrel and endcap structures, very simple tests were performed to verify the functionality of the optical links. The modules were placed in a mode in which they returned fixed data patterns in response to triggers. Triggers were sent 10 times and the returned data were checked for self consistency. If there were no bit errors, the same data pattern would always be read back. From this scan a minimum (RXmin) and maximum (RXmax) value of the RX threshold DAC (setting the threshold on the DRX-12 receiver) for which there were no bit errors was determined. The values correlated well with those obtained at earlier stages of testing, confirming both the reliability of this procedure and the stability of the system.

#### 6.5.2 Module operation

The assembly of both the barrel and endcap SCT detectors has been completed, and the SCT is now inserted within the Transition Radiation Tracker [2] and installed in the ATLAS experiment. The barrel and endcap modules, together with the data and TTC links, have been operated successfully during all the test and first commissioning phases of the assembled SCT [5], [17].

### QA for fibre cables

The insertion losses of the MT-terminated fibre ribbons in the fibre cables were measured by the manufacturer and verified to be compatible with an attenuation loss of 15 dB/km, plus a maximum loss of 2 dB per MT connector. After the fibre cables were installed in the ATLAS cavern at CERN, the insertion loss measurements were repeated to check that the fibres had not been damaged during installation.

In order to enable the timing of the SCT to be established for cosmic ray data-taking before the first LHC operation, it is necessary to know the signal delays in all the TTC fibres. These were measured by using a VCSEL to send an optical pulse into one end of a ribbon, with a "reflector ribbon" connected at the other end that sent the signal back down a different fibre. A fast optical probe was used to detect the returned pulse. The time delay between sending and receiving the pulse was measured with an oscilloscope, and after correcting for the propagation time in the reflector ribbon, the propagation delay of the fibre was determined.

Figure 12: Photographs of (a) the two sides (left, top, right bottom) of a TX plug-in and (b) similarly for an RX plug-in. The multi-DACs mounted on the bottom sides are used to set the VCSEL channel currents for the TX and the DRX channel thresholds for the RX.

A similar system was used to measure the insertion loss of the endcap short fibre ribbons (section 5.2). As the attenuation in these short fibres is negligible, it was checked that the insertion loss of each ribbon was less than the 2 dB from each MT connector.

## 7 QA for the off-detector optoelectronics

The 12-way VCSEL arrays and the BPM-12 ASIC were mounted on TX plug-in PCBs, with connectors to connect to the BOC PCB (section 2.1), as illustrated in figure 12. Similarly, the 12-way _p-i-n_ arrays and DRX-12 ASICs were mounted on RX plug-in PCBs. The tests performed during production of the off-detector RX and TX plug-ins are described in section 7.1.1, while the reception tests before mounting the plug-ins into the BOCs are outlined in section 7.1.2.

#### 7.1.1 Production tests for the off-detector RX and TX plug-ins

The component ASICs were tested before assembly to the RX and TX PCBs.14 For the DRX-12, simple testing was performed to verify that all 12 channels were functional. For the BPM-12, a full set of tests was carried out, checking that (a) the VCSEL driver currents could be adjusted over the required range for all 12 channels, (b) the correct waveforms were generated and (c) the rise and fall times were within specifications. Scans of the coarse and fine delays were also performed, the mark-to-space ratio register was scanned, and the output duty cycle was measured. This was to ensure that it will be possible to achieve a 50% duty cycle optical signal from the VCSELs, which is required in order to maintain low jitter on the bunch-crossing clock recovered by the DORIC4A [11] (section 2.1.1).

Footnote 14: Production tests of the RX and TX plug-ins were the responsibility of Academica Sinica, Taiwan. Reception testing was at the University of Cambridge.

The optical power outputs of the VCSEL chips while on the wafer were measured by the manufacturer, so that 12-way arrays could be cut with high yield. In order to eliminate infant mortalities, a burn-in test was again performed by operating the VCSELs for 72 hours at a temperature of 70 \({}^{\circ}\)C. A DC measurement of the fibre-coupled power for the 12 VCSELs on the arrays was made after the arrays were mounted on their daughter PCB (figure 12(a)). For AC-testing, a fan-out fibre ribbon was used to connect the 12 VCSELs to 12 individual Si _p-i-n_ diodes with trans-impedance amplifiers. The 'eye pattern' [19] and the rise and fall times of the BPM-encoded signal were checked on an oscilloscope. To test the RX assemblies, a TX plug-in was used for the optical sources and a fixed RX threshold was set. The 'eye patterns' of the output LVDS signals were verified on an oscilloscope.

#### 7.1.2 Reception tests for the RX and TX plug-ins

Measurements were made12 of the optical power for the VCSELs and the responsivity of the Si _p-i-n_ diodes. For these, test fibres with Infineon SMC connectors mounted over the MT-12 connectors were used, as employed in the experiment (unlike the measurements made by the manufacturer which used the bare MT-12 connectors). The mechanical latching mechanism for the connector is incorporated in the BOC card. A pseudo-random data stream was sent to the BPM-12 ASIC in the TX plug-in (figure 12(a)), such that the duty cycle of the signal was 50%. Each TX was tested by connecting its output to a reference RX plug-in and determining the coupled optical power by measuring the current in the RX Si _p-i-n_ diode. In order to minimise effects due to thermal variations, all 12 VCSELs were powered on and then one was switched off at a time for the measurement. The power for the channel that was switched off was determined from the decrease in the measured current in the Si _p-i-n_ diode. The measurements were performed at a VCSEL drive current of 10 mA, and the results are shown in figure 13. The measurements were repeated with a VCSEL drive current of 15 mA and showed an average increase in coupled optical power of 38% compared to that of 10 mA.

The main reason for some VCSELs having low values of the optical power (figure 13) was the difficulty in fully mating the optical connector, due to the fact that not all plug-ins conformed to mechanical specification. The BOC card mechanics have been adjusted to allow greater variations to be accommodated, but nevertheless some TX plug-ins were rejected or reworked because the coupled power was below specification.

In a similar way, the responsivities of the Si _p-i-n_ diodes on the RX plug-ins were measured by sending them the optical signal from a reference TX plug-in, with VCSELs set to achieve a coupled optical power of 500 \(\upmu\)W. The required VCSEL settings in the reference TX were determined by measuring the mean power with an optical power meter. The spread in the measured responsivity was small and consistent with the measurement errors.

Simple BER tests were also carried out to verify the functionality of the RX and TX plug-ins. Timing scans were also performed to check the speed of the VCSELs and PINs, as were tests of writing to all the registers on the BPM-12. The overall yield from the reception tests of the TX (RX) plug-ins was 89 (93)%. For the TXs, 92% passed the optical power requirements and the remaining losses in yield were mainly due to PCB assembly problems and a few cases of BPM-12 problems which were not covered by the checks during BPM-12 testing.

The accepted arrays were connected to the BOC PCBs, as shown in figure 14(a). Each BOC services 48 SCT modules, and so requires 8 RX and 4 TX plug-ins. The SCT off-detector readout electronics are now installed within ATLAS, and figure 14(b) shows the back of one of the eight 9U VME readout crates, with the data and TTC fibres connected to the plug-ins of the 11 BOCs in the crate.

## 8 Optical link problems encountered during assembly

Several problems were encountered during the course of the assembly of the SCT barrel and endcap optical links and the most significant are summarised below.

Figure 13: Distribution of fibre coupled optical power for the VCSELs on TX plug-in PCBs. The data correspond to the average power and are not corrected for the 50% duty cycle. The drive current was 10 mA.

### Fibre breaks

The black furcation tubing did not provide very much protection for the fragile single fibres. It was not easily visible on the endcap carbon fibre disks and, despite extreme care, some fibres were damaged during the assembly of further services on the disks. There were also 6 (4) dead data (TTC) channels found after the final integration of the four SCT barrels within their thermal enclosure. These are probably due to fibres damaged during the final assembly and for which access is no longer possible. The corresponding redundancy systems will be used for these channels.

### Damaged ASICs and VCSELs

The VCSELs, _p-i-n_ diodes and ASICs are well known to be sensitive to electrostatic discharge (ESD). Therefore, standard precautions against ESD were implemented at all stages. The first ESD problems found were with the DORIC4A ASICs, which were tested on the wafer before being assembled onto the flex circuits. A low yield of the DORIC4As after this assembly was eventually traced to ESD. A classic example of ESD damage on an ASIC is shown in the photograph in figure 15. All the opto-flex circuits already assembled with these ASICs were discarded, and the ESD precautions improved. The problem has not recurred.

Figure 14: (a) A BOC card with RX and TX plug-ins mounted; (b) A rear view of an SCT readout crate installed in ATLAS, showing the readout and TTC fibres connected to the plug-ins of 11 BOC cards.

Figure 15: Microscope photograph of a part of a DORIC4A ASIC, showing clear evidence of ESD.

VCSELs are particularly sensitive to ESD, and manufacturers' studies have shown that most early field failures of VCSELs were due to inadequate ESD precautions. An ESD pulse will start to melt the layers in the Distributed Bragg Reflector mirror, increase its opacity, and hence reduce the light output [20]. Further damage can also increase the leakage current and hence shift the IV curve. Imaging damaged VCSELs requires transmission electron microscopy on a slice, but a simple test for ESD to VCSELs is provided through measuring the reduced forward voltage. A low rate of ESD damage was observed for the VCSELs in the endcap opto-harnesses. These VCSELs passed the initial burn-in and subsequent QA during production and SCT reception tests (section 6), but some damage was observed when the modules were operated after being mounted on the disks. The ESD procedures at all assembly sites were thoroughly reviewed and several minor improvements were implemented, but it has not been possible to localise the origin of the problem. However the fact that similar rates of ESD were found at different assembly sites, despite differences in the details of the ESD precautions used, suggest that the damage must have occurred during production.

When damaged components are found on disks or barrels after all other services and the modules have been mounted, it is not possible to remove the faulty harness without extensive disassembly. It has therefore been decided that the data or TTC redundancy system will be used for opto-packages with one non-functional data or TTC link, since there is no resulting loss of module readout. However, there is still a concern that more widespread, lower level ESD may have reduced the long-term reliability of the VCSELs in ATLAS.

### Slow turn-on VCSELs

Apart from the clearly dead VCSELs, a few were found to have a "slow turn-on", for which the amplitude of the optical signal increases significantly during the start of a burst of data, with a timescale of the order of 1 \(\upmu\)s. This effect was studied by performing scans in which a fixed data pattern was read back from the data links, while the value of the RX threshold DAC was varied. An extreme example of such a slow turn-on is shown in the scan illustrated in figure 16. The upper plot shows a normal channel and the lower plot shows that the light output is increasing significantly at the start of the burst of data for this VCSEL, and that no value can be set for the RX threshold DAC that will ensure that there are no bit errors. This effect was not seen in any of the QA tests because these were either DC, or used pseudo-random bit streams which did not have a long gap between data. For these extreme cases of slow turn-on VCSELs, the data from that side of the module will be read out using the VCSEL channel on the other side. There are also less severe examples of slow turn-on VCSELs for which suitable values of the RX threshold DAC can be set, but the operating window is greatly reduced compared with normal channels.

In order to quantify the magnitude of the slow turn-on VCSEL problem, the distribution of the ratio of the amplitude of the first bit compared to the last bit in a 5 \(\upmu\)s pulse train was measured. The results for the working links from the endcaps are shown in figure 17. Most links have a value for this ratio close to 1. However the distribution has a significant low tail and from different scans the same VCSELs suffer from the slow turn-on problem. The spike at a value of 1.0 is due to the fact that most links have bright enough VCSELs so that the measured light output is always equal to the maximum DAC value of 255. The links for which this ratio had a value lower than 0.4 were found to be unusable and the data redundancy system was used. The links with DAC ratios slightly larger than this value should in general be usable in ATLAS operation, provided that the value of the threshold RX DAC is carefully optimised. Some understanding of the origin of these slow turn on problems has been developed by the ATLASpixel group who have seen very similar effects in their oxide implant VCSELs. From measurements of the amplitude of the first pulse in the train as a function of distance between the VCSEL array and the fibre, they believe that the major contribution to the slow turn-on effect is due to the VCSEL transverse modes changing during the start of the burst [21]. It is not known for sure what causes this change in the transverse modes but it is probably due to a thermal effect at the start of the burst of data.

### Current status of optical links

A summary of the numbers of non-functional links for the barrel and endcap regions is given in table 1, up to the point when the fully-assembled SCT was inserted within the ATLAS detector. Most of the cases of dead VCSEL channels are thought to be due to ESD, although some are due to broken fibres and LMTs. Most of the cases of dead _p-i-n_ channels are due to broken fibres but in the case of the barrel some are due to broken tracks on the low mass tapes. In total, 0.8% (0.20%) of the data (TTC) links are not functional and the readout of the corresponding modules will require the use of either the data or TTC redundancy systems.

Figure 16: BER scans of RX DAC threshold for the two VCSEL data links of a module. The lower plot shows an example of a slow turn-on VCSEL and the upper plot shows a normal channel. The horizontal axis represents time in units of 25 ns clock cycles and the vertical axis is the RX DAC value. The colour code represents the fraction of times that a data “1” was detected in a given time bin for a fixed RX DAC value. The thin horizontal lines show the values of RXmin and RXmax and the thick horizontal line shows the value of RXoptimal. For the lower plot, there is no visible separation between the values of RXmin and RXmax (see section 6.3.1).

## 9 Summary

The optical links for the ATLAS SCT have been described. The components, and their assembly, have been summarized. A summary of the performance of the optical links as measured during extensive QA has been given. All the services for both the barrel and endcap SCT have been mounted on their carbon fibre support structures. A few cases of fibre breakages and non-operational VCSELs were discovered at a late stage in the assembly process, but in these cases the data and TTC redundancy systems still allow the corresponding modules to be read out. The optical links have been demonstrated to be functional and to meet the SCT requirements and specifications. They have already been used for very successful readout tests of all the modules on the completed barrel and endcap structures.

###### Acknowledgements.

We thank the technical staff at Academia Sinica, Birmingham, Cambridge, Glasgow, Lancaster, Liverpool, Oxford, NIKHEF and Rutherford Appleton Laboratory for their excellent work. We

\begin{table}
\begin{tabular}{|l|l|l|l|l|} \hline Failure mode & \multicolumn{2}{l|}{Barrel SCT} & \multicolumn{2}{l|}{Endcap SCT} \\ \hline  & Number & \% of barrel links & Number & \% of endcap links \\ \hline Dead VCSEL channels & 24 & 0.57 & 18 & 0.46 \\ \hline Slow turn-on VCSELs & 1 & 0.02 & 22 & 0.56 \\ \hline Dead _p-i-n_ channel & 6 & 0.28 & 2 & 0.04 \\ \hline \end{tabular}
\end{table}
Table 1: Failure rates for the data and TTC links.

Figure 17: Distribution of ratio of pulse amplitudes for the first and last bit of a burst of data, for working data links from the two End caps.

acknowledge the support of the funding authorities of the collaborating institutes including the Ministry of Education, Culture, Sports, Science and Technology, Japan, The Japan Society for the Promotion of Science, The Netherlands Institute for Fundamental Matter Research (FOM), The Netherlands Organisation for Scientific Research (NWO), The Research Council of Norway, the Polish State Committee for Scientific Research, the Swiss National Science Foundation, the State Secretariat for Education and Research and the Canton of Geneva, The Ministry of Higher Education, Science and Technology of the Republic of Slovenia, The Spanish National Program for Particle Physics, The Swedish Research Council, The Particle Physics and Astronomy Research Council of the United Kingdom, The United States Department of Energy, The United States National Science Foundation, The National Science Council, Taiwan, Republic of China. This research was supported by a Marie Curie Intra-European Fellowship within the 6th European Community Framework Programme.

## References

* [1]LHC Study Group, _The LHC Conceptual Design Report. The yellow book_, CERN-AC-95-05-LHC (1995).
* [2]ATLAS collaboration, _ATLAS inner detector Technical Design Report, vol. 1 and 2_, CERN-LHCC-97-16 and CERN-LHCC-97-17 (1997).
* [3] A. Ahmad et al, _The silicon microstrip sensors of the ATLAS SemiConductor Tracker_, _Nucl. Instrum. Meth._**A 578** (2007) 98.
* [4] F. Campabadal et al, _Design and performance of the ABCD3TA ASIC for readout of silicon microstrip detectors in the ATLAS SemiConductor Tracker_, _Nucl. Instrum. Meth._**A 552** (2005) 292.
* [5] A. Abdesselam et al., _The barrel modules of the ATLAS SemiConductor Tracker_, Nucl. Instrum. Meth. **A 568** (2006) 642.
* [6] A. Abdesselam et al., _The ATLAS SemiConductor Tracker end-cap module_, _Nucl. Instrum. Meth._**A 575** (2007) 353.
* [7] D.G. Charlton et al., _Radiation hardness and lifetime studies of photodiodes for the optical readout of the ATLAS SCT_, _Nucl. Instrum. Meth._**A 456** (2000) 300.
* [8]LVDS: Low Voltage Differential Signals for Scalable Coherent Interface (SCI) Draft 1.3 IEEE P1596.3-1995.
* [9] G. Mahout et. al., _Irradiation studies of multimode optical fibres for use in ATLAS front-end links_, _Nucl. Instrum. Meth._**A 446** (2000) 426.
* [10] M.L. Chu et al., _The off-detector opto-electronics for the optical links of the ATLAS Semiconductor Tracker and Pixel detector_, _Nucl. Instrum. Meth._**A 530** (2004) 293.
* [11] D.J. White et al., _Radiation hardness studies of the front-end ASICs for the optical links of the ATLAS SemiConductor Tracker_, _Nucl. Instrum. Meth._**A 457** (2001) 369.
* [12] G. Lindstrom, _Radiation damage in silicon detectors_, _Nucl. Instrum. Meth._**A 512** (2003) 30.
* [13] J. Beringer et al., _Radiation hardness lifetime studies of LEDs and VCSELs for the optical readout of the ATLAS SCT_, _Nucl. Instrum. Meth._**A 435** (1999) 375.
*