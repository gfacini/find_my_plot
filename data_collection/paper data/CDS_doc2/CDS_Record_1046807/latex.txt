July 13, 2007

**A monitoring method for the Low Voltage Power Supply modules**

**of the ATLAS Tile Calorimeter**

C. Vellidis\({}^{1}\), G. Arabidze\({}^{1}\), N. Giokaris\({}^{1}\), F. Guimaraes Ferreira\({}^{2}\), D. Roy\({}^{3}\), I. Vichou\({}^{4}\)

\({}^{1}\)_University of Athens, Department of Physics, Athens, Greece_

\({}^{2}\)_Federal University of Rio de Janeiro, Rio de Janeiro, Brazil_

\({}^{3}\)_University of Texas at Arlington, Arlington TX, USA_

\({}^{4}\)_University of Illinois at Urbana-Champaign, Urbana IL, USA_

**Abstract**

We present a method for testing the operational stability of Low Voltage Power Supply modules of the ATLAS Tile Calorimeter, based on a self-consistent determination of the stability criteria. The recorded voltage, current, and temperature values of each module are retrieved from the Oracle database for a long and smooth running period and their mean and RMS values over that period are determined, as well as their average recording rates, by taking into account the "smoothing" procedure which is applied during data recording to reduce data storage. The average behavior of the ensemble of all modules is determined from those time-integrated quantities and the modules are then tested one-by-one by comparing with the ensemble averages. The proposed method is tested for all Long Barrel modules operated during April of 2007.

**1. Introduction**

An important issue concerning the commissioning and performance of the ATLAS Hadronic (Tile) Calorimeter is the operational stability of the Low Voltage Power Supply (LVPS) modules under real experiment conditions. A number of LVPS modules have exhibited variable functioning during the installation period, started in summer of 2006, the variations leading in certain cases to the failure of the unstable modules. The interest has been focused in identifying the significant fluctuations in the operation of the modules and in understanding the origin of those fluctuations. We aim at a routinely method of identifying the significant fluctuations of the LVPS modules. We use information from the long-term operation of the system itself, treated in a statistical way, to determine the limits of significance of the typical fluctuations in the modules' input, output, load, and temperature, and we compare the average properties of each module with those limits.

Each module is divided in 8 boxes or "bricks", according to the output unit and the required output voltage: two digitizer bricks at +3.3 V (p3Vdig) and +5 V (p5Vdig), three mother-board bricks at +5 V (p5Vmb), -5 V (m5Vmb), and +15 V (p15Vmb), and three high-voltage bricks at +5 V (p5Vhv), +15 V (p15Vhv), and -15 V (m15Vhv). For each brick we analyze the input current (Iin), input voltage (Vin), output current (Iout), output voltage (Vout), and one temperature (T3) which is read from a sensor placed inside the box of each module. In addition, for the digitizer and mother-board bricks we also analyze the voltage measured by the "sense" lines (Vsense) which is an important variable as it measures the actual output of the module under load. We also use a global time, for time projections when needed, which is determined by converting to seconds the time stamp of the most frequently recorded of the above variables in the Oracle database (DB).

## 2 Analysis method

The values of all variables described above for all Long Barrel modules, from partition A (LBA modules) and partition C (LBC modules) separately, are read by the distributed data control and monitoring program PVSS and stored in the Oracle DB applying a procedure called "smoothing". This is based on testing each value every 10 seconds and recording it either if one hour has elapsed after its last record or if a change relative to the previously recorded value has occurred that exceeds certain limits, called the "smoothing parameters" of the particular variable, which are preset for all variables and they are the same for a given variable of any module. The values are retrieved from the Oracle DB and stored in a ROOT tree. Because of smoothing, the number of values retrieved from the DB within a given time interval depends on the smoothing parameters and on the fluctuations of the particular variable during that interval. In order to take this effect into account in evaluating the mean and RMS values of each variable, either each value must be weighted by the elapsed time over the readout period of 10 seconds or the value from the last record of that variable must be repeated every 10 seconds until the next recording time and then updated with the next record. The first approach saves data storage whereas the second one simplifies subsequent calculations. In the proposed method we chose the second approach of filling in the time intervals between successive records of each variable in steps of 10 seconds.

From the values of each variable retrieved for a given time interval we define two measures of the fluctuations which the particular variable undergoes over the given time interval. The first is the "average recording frequency" or "recording rate" of the variable, which is the ratio of the number n of records of that variable in the DB within the specified time interval over the number N of 10-second steps fitting within that time interval. The second one is the "variability", which is the ratio of the RMS value (the standard deviation) \(\sigma\) over the absolute mean value \(\mu\) of the variable in the given time interval. The average recording time of each variable can also be defined by dividing the readout time step of 10 seconds by the corresponding average recording frequency.

The two statistics which we introduce as above have the following simple meaning: they should both be much less than 1. Ultimately, the variability should be zero and the recording frequency should equal the ratio of 10 seconds / 1 hour = \(2.8\times 10^{-3}\) of the readout time step to the smoothing period. Referring to averages over all modules, large variability and small recording frequency signify that important fluctuations occur but the smoothing parameters are too loose to observe them in full detail. Small variability and large recording frequency are suggestive of excessive data storage in the DB because of too tight smoothing parameters, while the fluctuations of the corresponding variable are unimportant. Finally, when both the variability and the recording frequency are relatively large (the frequency, of course, cannot exceed 1) the variable is unstable in time and the module must be further examined with archived data or tested in hardware. The goal is therefore to determine the acceptable ranges of the two statistics for each variable from the respective distributions over all modules and over a long time interval of real running conditions. Modules with their properties falling well outside those limits are then flagged as "bad".

During the full data recording time a module can be not necessarily always in good operating or data recording state ("ON"). For example, it can be trimmed, stand by, not read out, switched off or uninstalled. For the April 2007 data that we use here as a testing benchmark the actual status of a module at a given time is flagged by two integer indices, called "states for DAQ", one for the digitizer and mother-board bricks of the module and one for the high-voltage bricks. For either index, the status "ON" for a given module is flagged by the value 22. These integers are also stored in the Oracle DB. In order to isolate data recorded only when a particular module is in status "ON" we retrieve those integers from the DB and cut the data on the value 22. Additional cuts removing isolated values (typically zeros) far from the average ones are also applied on each variable separately. The origin of those isolated values is that when the status of a module is changed the corresponding variables are not updated automatically and thus the values of the previous status can pass the cut on "states for DAQ" due to smoothing. All those cuts, including the primary cut on "states for DAQ", concern only the variability; i.e. the mean and RMS values of a variable are evaluated only from values corresponding to a "states for DAQ" integer equal to 22 and passing a non-zero threshold. Consequently, for a particular variable, the number of modules on each calorimeter side having a finite recording rate is in general slightly larger than the number of modules having a finite variability.

## 3 Results from the April 2007 data

The analysis method described in the previous section was tested on the collective data of all LBA and LBC modules in the 30-days period from April 1, 2007, at 00:00 through April 30, 2007, at 24:00. There were 38 modules operating on the LBA side during that period and 20 modules operating on the LBC side. The operation time was not the same for every module due to testing and repairing. The differences are taken into account by the statistical errors propagated to the variability through the errors in the mean and RMS values of the variables, which scale in turn with the amount of data recorded for each variable and therefore with the operation time of the corresponding module. For the recording frequency we take the limit of \(2.8\times 10^{-3}\) as the error, with the understanding that no frequency lower than this limit can be recorded due to the maximum limit of elapsed time between successive data reading by PVSS.

Figure 1: Recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +5 V digitizer brick for side A as functions of the module number.

Figure 2: Recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +3.3 V digitizer brick for side C as functions of the module number.

Figure 3: Recording frequency (in red on the left) and variability (in blue on the right) of the variables of the \(-5\) V mother-board brick for side A as functions of the module number.

Figure 4: Recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +15 V high-voltage brick for side C as functions of the module number.

Figure 5: Distributions of the recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +5 V digitizer brick for the A side modules.

Figure 6: Distributions of the recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +3.3 V digitizer brick for the C side modules.

Figure 7: Distributions of the recording frequency (in red on the left) and variability (in blue on the right) of the variables of the \(-5\) V mother-board brick for the A side modules.

Figure 8: Distributions of the recording frequency (in red on the left) and variability (in blue on the right) of the variables of the +15 V high-voltage brick for the C side modules.

\begin{table}
\begin{tabular}{c|c|c|c|c} Variable & Mean & RMS & Mean & RMS \\ \hline  & variability & variability & recording rate & recording rate \\ \hline p3Vdig\_In & 0.10179 & 0.02731 & 0.00259 & 0.00037 \\ p3Vdig\_Vin & 0.004 & 0.00162 & 0.05183 & 0.01429 \\ p3Vdig\_Iout & 0.03669 & 0.00575 & 0.00829 & 0.01829 \\ p3Vdig\_Vout & 0.00234 & 0.00198 & 0.04917 & 0.00941 \\ p3Vdig\_Vsense & 0.00353 & 0.00242 & 0.00289 & 0.00087 \\ p3Vdig\_T3 & 0.0272 & 0.01069 & 0.00443 & 0.00286 \\ \hline p5Vdig\_In & 0.06665 & 0.01546 & 0.00259 & 0.00036 \\ p5Vdig\_Vin & 0.00396 & 0.00162 & 0.05248 & 0.0139 \\ p5Vdig\_Iout & 0.03707 & 0.00469 & 0.00446 & 0.00404 \\ p5Vdig\_Vout & 0.00082 & 0.00155 & 0.00271 & 0.00026 \\ p5Vdig\_Vsense & 0.0036 & 0.003 & 0.00293 & 0.00129 \\ p5Vdig\_T3 & 0.02413 & 0.00448 & 0.00405 & 0.00179 \\ \hline p5Vmb\_In & 0.03425 & 0.01255 & 0.00258 & 0.00038 \\ p5Vmb\_Vin & 0.00389 & 0.0016 & 0.05186 & 0.01535 \\ p5Vmb\_Iout & 0.01347 & 0.00945 & 0.03104 & 0.04359 \\ p5Vmb\_Vout & 0.00576 & 0.00813 & 0.0028 & 0.00046 \\ p5Vmb\_Vsense & 0.00769 & 0.00794 & 0.00376 & 0.00447 \\ p5Vmb\_T3 & 0.02993 & 0.0305 & 0.00459 & 0.00302 \\ \hline m5Vmb\_In & 0.05925 & 0.01685 & 0.00259 & 0.00038 \\ m5Vmb\_Vin & 0.00384 & 0.00158 & 0.05342 & 0.015 \\ m5Vmb\_Iout & 0.02924 & 0.06002 & 0.01522 & 0.05051 \\ m5Vmb\_Vout & 0.00162 & 0.00285 & 0.00273 & 0.00026 \\ m5Vmb\_Vsense & 0.00562 & 0.00472 & 0.00613 & 0.01679 \\ m5Vmb\_T3 & 0.01741 & 0.00662 & 0.00439 & 0.00313 \\ \hline p15Vmb\_In & 0.12987 & 0.04121 & 0.00259 & 0.00037 \\ p15Vmb\_Vin & 0.00389 & 0.00159 & 0.05171 & 0.0149 \\ p15Vmb\_Iout & 0.03136 & 0.02274 & 0.00269 & 0.00036 \\ p15Vmb\_Vout & 0.00024 & 0.00038 & 0.00273 & 0.00035 \\ p15Vmb\_Vsense & 0.0031 & 0.00149 & 0.03949 & 0.06178 \\ p15Vmb\_T3 & 0.01548 & 0.00806 & 0.0038 & 0.00187 \\ \end{tabular}
\end{table}
Table 1: Mean and RMS values of the recording frequency and variability over all LBA modules for the digitizer and mother-board variables.

In Figures 1 - 4 we show plots of the results from sample bricks of both LB partitions. Figure 1 shows the recording rate (left windows) and variability (right windows) of all variables of the \(+5\) V digitizer brick as functions of the module number for side A. Figure 2 is the same plot for the \(+3.3\) V digitizer brick of side C. Figure 3 is the same for the \(-5\) V mother-board brick. Finally, Figure 4 displays the same information for the \(+15\) V high-voltage brick. Modules not operating in April 2007 have identically zero frequency and variability. In all four Figures the order of the windows showing frequency and variability points corresponds, from top to bottom, to the input current, input voltage, output current, output voltage, sense voltage, and temperature; except of Figure 4 where no frequency and variability of the sense voltage is displayed, as this variable is not defined in high-voltage bricks. Figures 5 - 8 show the distributions of the recording frequency (left windows) and variability (right windows), with the variables ordered from top to bottom as in Figures 1 - 4. Tables 1 - 4 show the mean and RMS values of the recording frequency and of the variability for each variable over all active modules of side A (Tables 1, 2) and side C (Tables 3, 4), derived from the histograms of Figures 5 - 8.

It can be observed in Figures 1 - 4 that the variability and recording rate of all variables are generally small. The variability, in particular, ranges from the sub-percent level to the few percent, depending on the absolute size of the mean value of each variable. Generally, variables with large values, such as the input voltage (\(\sim\)200 V), have relatively smaller variability whereas those with small values,

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline Variable & Mean & RMS & Mean & RMS \\ \hline  & variability & variability & recording rate & recording rate \\ \hline p5Vhv\_lin & 0.38677 & 0.19489 & 0.00256 & 0.00036 \\ p5Vhv\_Vin & 0.00376 & 0.00135 & 0.05144 & 0.01522 \\ p5Vhv\_Iout & 0.0605 & 0.0545 & 0.00269 & 0.00025 \\ p5Vhv\_Vout & 0.0008 & 0.00179 & 0.00265 & 0.00026 \\ p5Vhv\_T3 & 0.01862 & 0.01359 & 0.00354 & 0.00151 \\ \hline p15Vhv\_lin & 0.17318 & 0.05233 & 0.00257 & 0.00037 \\ p15Vhv\_Vin & 0.0039 & 0.00151 & 0.0529 & 0.01545 \\ p15Vhv\_Iout & 0.03184 & 0.02419 & 0.00268 & 0.00025 \\ p15Vhv\_Vout & 0.00018 & 0.00018 & 0.00267 & 0.00027 \\ p15Vhv\_T3 & 0.01509 & 0.00761 & 0.00381 & 0.00233 \\ \hline m15Vhv\_lin & 0.27926 & 0.10603 & 0.00259 & 0.00037 \\ m15Vhv\_Vin & 0.00389 & 0.00146 & 0.05238 & 0.01468 \\ m15Vhv\_Iout & 0.44626 & 0.23698 & 0.00279 & 0.00037 \\ \hline m15Vhv\_Vout & 0.0003 & 0.00032 & 0.00269 & 0.00026 \\ \hline m15Vhv\_T3 & 0.09529 & 0.03259 & 0.00423 & 0.00242 \\ \hline \end{tabular}
\end{table}
Table 2: Mean and RMS values of the recording frequency and variability over all LBA modules for the high-voltage variables.

such as the input current (close to 0 A), have relatively larger variability, as expected. The recording rate seems to be relatively high, in a systematic way for all bricks and both calorimeter sides, only for the input voltage. This is an example suggesting that the smoothing parameters for that particular variable may be too tight and can be re-adjusted. Also, with relatively few exceptions which are the example cases requiring further investigation and possibly hardware testing, the recording frequency and variability of all variables are generally distributed close to the mean values over all modules as can be seen in Figures 5 - 8. These conclusions are numerically confirmed by the mean and RMS values of the variability and of the recording frequency taken over all active modules, which are summarized in Tables 1 - 4.

In order to identify modules showing a possibly problematic behavior over the full month of April of 2007, we set a limit of "tolerated" variability at the mean value plus 2\(\times\)RMS values over all modules of one calorimeter partition, A or C, taken from Tables 1 - 4. This tolerance limit is fairly generous and can be narrowed down to the mean value plus 1 RMS when all modules are installed and operating on each calorimeter side, but is good enough for the purpose of giving here certain specific examples. We summarize the modules failing this limit in Table 5 for the LBA modules of the +5 V digitizer and -5 V mother-board bricks (compare with Figures 1, 5 and 3, 7, respectively) and in Table 6 for the LBC modules of the 3.3 V digitizer and +15 V high-voltage bricks (compare with Figures 2, 6 and 4, 8, respectively). We focus on the most relevant variables, which are the output current and voltage, the sense voltage, and the temperature. The test is performed on the variability of a particular variable, whether or not its mean minus RMS over time for the particular module exceeds the tolerable limit of the mean plus 2\(\times\)RMS over all modules of the respective calorimeter side. Tables 5 and 6 give also the errors in the values of the variables in parentheses. Those errors would be generally larger, of course, if the test of failing the variability limit were performed on the variability evaluated over a one day period. This test would be applicable if each module was continuously operating through April 2007.

## 4 Interpretation of the results

An example of a module failing the variability tolerance test is LBA 58 in the output and sense voltage of the +5 V digitizer brick (see Table 5). In Figure 9 the +5 V digitizer variables of that module are shown as functions of the time for the full month of April 2007. There is a small change in the value of the output voltage on April 8, of about 30 mV, resulting to a variability of 0.7%. However, while the output voltage value looks stable over each period of continuous operation, the sense voltage value generally fluctuates at a level up to few tens of mV and this becomes noticeable in the period from April 17 through April 20, whereas an overall trend of dropping can be observed1. This particular behavior is of the type that needs to be investigated in depth, and raises the variability of the sense voltage of that module to 1.0%, whereas the average variability of the output and the sense voltages of the +5 V digitizer brick ranges at the level of 0.1% and 0.3%, respectively (see Table 1).

\begin{table}
\begin{tabular}{|l|c|c|c|c|} \hline Variable & Mean & RMS & Mean & RMS \\ \hline  & variability & variability & recording rate & recording rate \\ \hline p3Vdig\_In & 0.10858 & 0.05792 & 0.00256 & 0.00039 \\ p3Vdig\_Vin & 0.0041 & 0.00125 & 0.04363 & 0.00971 \\ p3Vdig\_Iout & 0.02784 & 0.00973 & 0.01186 & 0.02402 \\ p3Vdig\_Vout & 0.01149 & 0.00723 & 0.05264 & 0.00213 \\ p3Vdig\_Vsense & 0.01274 & 0.00713 & 0.00297 & 0.00041 \\ p3Vdig\_T3 & 0.01807 & 0.00614 & 0.0043 & 0.00065 \\ \hline p5Vdig\_In & 0.0622 & 0.02076 & 0.00269 & 0.0004 \\ p5Vdig\_Vin & 0.00414 & 0.00127 & 0.04277 & 0.00963 \\ p5Vdig\_Iout & 0.02795 & 0.00908 & 0.00364 & 0.00073 \\ p5Vdig\_Vout & 0.0032 & 0.00452 & 0.00295 & 0.00015 \\ p5Vdig\_Vsense & 0.00418 & 0.00411 & 0.00291 & 0.00014 \\ p5Vdig\_T3 & 0.0201 & 0.00764 & 0.00411 & 0.00057 \\ \hline p5Vmb\_In & 0.03268 & 0.01321 & 0.00271 & 0.0004 \\ p5Vmb\_Vin & 0.00412 & 0.00126 & 0.0433 & 0.00892 \\ p5Vmb\_Iout & 0.01567 & 0.01054 & 0.01747 & 0.01771 \\ p5Vmb\_Vout & 0.00929 & 0.01006 & 0.003 & 0.00017 \\ p5Vmb\_Vsense & 0.01155 & 0.00968 & 0.00365 & 0.00219 \\ p5Vmb\_T3 & 0.03904 & 0.03315 & 0.00449 & 0.00079 \\ \hline m5Vmb\_In & 0.05819 & 0.01941 & 0.00269 & 0.0004 \\ m5Vmb\_Vin & 0.00412 & 0.00125 & 0.0445 & 0.00993 \\ \hline m5Vmb\_Iout & 0.01666 & 0.00468 & 0.00507 & 0.00291 \\ m5Vmb\_Vout & 0.00934 & 0.00855 & 0.00298 & 0.00015 \\ \hline m5Vmb\_Vsense & 0.04795 & 0.15809 & 0.01431 & 0.03328 \\ \hline m5Vmb\_T3 & 0.02416 & 0.01451 & 0.0041 & 0.00056 \\ \hline p15Vmb\_In & 0.1154 & 0.05855 & 0.00251 & 0.00039 \\ p15Vmb\_Vin & 0.00415 & 0.00128 & 0.04306 & 0.0092 \\ p15Vmb\_Iout & 0.01842 & 0.00972 & 0.00289 & 0.00012 \\ p15Vmb\_Vout & 0.00223 & 0.00293 & 0.0029 & 0.00015 \\ p15Vmb\_Vsense & 0.00386 & 0.0027 & 0.04082 & 0.0996 \\ p15Vmb\_T3 & 0.00984 & 0.003 & 0.00372 & 0.00033 \\ \hline \end{tabular}
\end{table}
Table 3: Mean and RMS values of the recording frequency and variability over all LBC modules for the digitizer and mother-board variables.

Another example of a module failing the variability tolerance test is LBA 53 in the sense voltage of the -5 V mother-board brick (see also Table 5). The -5 V mother-board variables of that module are shown in Figure 10 as functions of the time for the full month of April 2007. Besides the overall fluctuations of the sense voltage, there can be observed a drop by about 150 mV between April 9 and April 22, raising the variability of the sense voltage of that module to 1.2% in comparison with the average of 0.3% (see Table 1). This module continued being unstable during May 2007 with the same variation (within 200 mV) measured on the sense line2. The data (CIS scans) from the last two digitizers of that module intermittently showed problems, namely BCID and CRC errors and large RMS value of the response to injected charge. This is a typical example of the case where the deviation from the benchmarked behavior dictates a more thorough examination of a LVPS module in order to tag it for further tests and/or repairs.

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline
**Variable** & Mean & RMS & Mean & RMS \\ \hline  & variability & variability & recording rate & recording rate \\ \hline p5Vhv\_lin & 0.35721 & 0.17055 & 0.00259 & 0.00038 \\ p5Vhv\_Vin & 0.00481 & 0.00322 & 0.04233 & 0.01069 \\ p5Vhv\_Iout & 0.10066 & 0.2188 & 0.00293 & 0.00017 \\ p5Vhv\_Vout & 0.00073 & 0.00099 & 0.00286 & 0.00011 \\ p5Vhv\_T3 & 0.0107 & 0.00655 & 0.00347 & 0.00018 \\ \hline p15Vhv\_lin & 0.17343 & 0.09126 & 0.00251 & 0.00038 \\ p15Vhv\_Vin & 0.00425 & 0.00131 & 0.0435 & 0.01148 \\ p15Vhv\_Iout & 0.03951 & 0.091 & 0.00292 & 0.00017 \\ p15Vhv\_Vout & 0.00061 & 0.00075 & 0.00288 & 0.00012 \\ p15Vhv\_T3 & 0.0109 & 0.00581 & 0.00369 & 0.00032 \\ \hline m15Vhv\_lin & 0.20619 & 0.10397 & 0.00267 & 0.0004 \\ m15Vhv\_Vin & 0.00427 & 0.0013 & 0.04361 & 0.0097 \\ m15Vhv\_Iout & 0.32103 & 0.24935 & 0.00303 & 0.00021 \\ \hline m15Vhv\_Vout & 0.0009 & 0.00102 & 0.0029 & 0.00013 \\ \hline m15Vhv\_T3 & 0.07035 & 0.03646 & 0.0042 & 0.00055 \\ \hline \end{tabular}
\end{table}
Table 4: Mean and RMS values of the recording frequency and variability over all LBC modules for the high-voltage variables.

\begin{table}
\begin{tabular}{c|c|c|c|c|c} \hline p5Vdig & \multicolumn{1}{c|}{Iout} & \multicolumn{1}{c|}{Vout} & \multicolumn{1}{c|}{Vsense} & \multicolumn{1}{c|}{T3} \\ \hline
2 & & & & & 0.03749(0.00007) \\ \hline
17 & & & & 0.03444(0.00006) \\ \hline
19 & & & & 0.03418(0.00006) \\ \hline
48 & 0.05300(0.00024) & & & \\ \hline
52 & & & 0.01950(0.00015) & \\ \hline
58 & & 0.00714(0.00001) & 0.00992(0.00002) & \\ \hline
59 & & 0.00406(0.00001) & & \\ \hline
60 & & 0.00467(0.00001) & & \\ \hline m5Vmb & \multicolumn{1}{c|}{Iout} & \multicolumn{1}{c|}{Vout} & \multicolumn{1}{c|}{Vsense} & \multicolumn{1}{c|}{T3} \\ \hline
2 & & 0.01261(0.00002) & 0.01329(0.00001) & 0.03842(0.00005) \\ \hline
3 & & & 0.00694(0.00001) & 0.03170(0.00005) \\ \hline
4 & & & 0.01003(0.00002) & \\ \hline
5 & & & 0.00745(0.00001) & \\ \hline
8 & & 0.00433(0.00001) & 0.01356(0.00001) & \\ \hline
9 & & 0.00154(0.00001) & 0.02475(0.00004) & \\ \hline
11 & & 0.00161(0.00001) & & \\ \hline
12 & & 0.00255(0.00001) & 0.00724(0.00001) & \\ \hline
15 & & 0.00138(0.00000) & & \\ \hline
19 & & 0.00201(0.00000) & & \\ \hline
27 & & 0.00352(0.00001) & & \\ \hline
28 & & 0.01085(0.00002) & 0.01134(0.00001) & \\ \hline
48 & & & 0.00669(0.00003) & \\ \hline
53 & & & 0.01160(0.00002) & \\ \hline
54 & 0.39293(0.00077) & & & \\ \hline
58 & & 0.00736(0.00001) & 0.00879(0.00001) & 0.03357(0.00005) \\ \hline
59 & & 0.00374(0.00001) & & \\ \hline
60 & & 0.00224(0.00000) & & \\ \hline
61 & & 0.00153(0.00000) & 0.01181(0.00001) & \\ \hline \end{tabular}
\end{table}
Table 5: LBA modules having values of one or more relevant variables above the corresponding mean plus 2\(\times\)RMS variability limit. The brick and module number are given in the first column. The error in the value of each variable is given in parenthesis.

As stated previously, the most important variables for monitoring the behavior of a LVPS module are the output current and the sense voltage, because these are related more with the performance of the module and less with external conditions. The cases demanding more attention are those in which the variability of a module fails the tolerance limit test for the sense voltage or for the output current, passing at the same time the test for the output voltage. This is the case with the example of the module LBA 53 given above. While the output voltage is an externally controlled variable, the sense voltage and the output current depend on the internal function of the module. Therefore, when significant fluctuations are observed at least in one of those two variables but not in the output, then there is a high probability of internal instability of the module which can lead to its failure. The origin of this instability cannot be safely determined from only the current and voltage values stored in the Oracle DB and subject to smoothing as described in the introduction. It is safer in this case to perform, if possible, special measurements of the characteristics of the particular module or at least observe more closely its behavior in time. The analysis method proposed here can only answer the question of significance of the fluctuations of an unstable module at a confidence level which is expected to become higher the more accurate the testing benchmark, i.e. the more modules are included in the estimation of the average variability and the longer time the data are integrated to provide the variability. In both ways the RMS of the variability of each variable over all operating modules is being reduced, allowing thus for the flag in a module failing the variability test to be more safely trusted.

The behavior of the sense voltage in time can be generally classified in three characteristic cases: there can be observed discontinuities, usually related with a change in some external setting after an interruption of the operation as in the example of the module LBA 58; degradation in the value, typically appearing as a kink over a certain time interval as in the example of the module LBA 53; or rippling over a significantly long time, which can also be considered as noise in the line; again as in the case of module LBA 58. From the history of modules it seems that the most dangerous behavior, i.e. more frequently correlated with a final failure of the module, is the degradation in the value of the sense voltage.

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline p3Orig & **Iout** & **Vout** & **Vsense** & **T3** \\ \hline
12 & & 0.02893(0.00005) & 0.02994(0.00004) & \\ \hline p15Vhv & **Iout** & **Vout** & **Vsense** & **T3** \\ \hline
6 & & & & 0.02737(0.00005) \\ \hline
11 & & & & 0.02726(0.00005) \\ \hline
17 & & 0.00326(0.00001) & & \\ \hline
37 & 0.44286(0.03962) & & & \\ \hline \end{tabular}
\end{table}
Table 6: LBC modules having values of one or more relevant variables above the corresponding mean plus 2\(\times\)RMS variability limit. The brick and module number are given in the first column. The error in the value of each variable is given in parenthesis.

Figure 9: Time dependence of the +5 V digitizer variables of the LBA 58 module for the month of April 2007: input current (upper left), input voltage (upper right), output current (middle left), output voltage (middle right), sense voltage (lower left) and temperature (lower right). Currents are in A, voltages in V, temperature in degrees C and time in s.

Figure 10: Time dependence of the \(-5\) V mother-board variables of the LBA 53 module for the month of April 2007: input current (upper left), input voltage (upper right), output current (middle left), output voltage (middle right), sense voltage (lower left) and temperature (lower right). Currents are in A, voltages in V, temperature in degrees C and time in s.

Conclusions

We have applied a new monitoring method of the LVPS modules of the Tile Calorimeter to the data from both LBA and LBC modules taken over the full month of April 2007. The method appears promising in identifying those modules whose time-integrated parameters (currents, voltages and temperature) are falling significantly far from the average behavior limits of all modules taken together - i.e. what could be called the "outliers" of the module ensemble. An advantage of this method is the economy in the amount of information that the user has to check in order to identify potentially problematic modules. The most time consuming part of the work, establishing the average behavior limits of all modules, is done only once. The required elapsed time for querying the Oracle DB over one full month and building the ROOT trees and recording frequency lists of all variables and all modules is of the order of 6 - 7 hours for each calorimeter partition. After that, this part can be repeated in less than an hour on a daily basis and the module ensemble can be immediately tested for "outliers". The total number of plots that the user needs to look at is 8 per partition, each plot corresponding to one brick type of variables as in Figures 1 - 4. The method can be directly used for the Extended Barrel (EB) partitions of the Tile Calorimeter. Its performance then can be advanced by using all 4\(\times\)64=256 modules from all four calorimeter partitions to determine more accurately the baseline operation conditions and the tolerance of deviations from the baseline. The method could also be extended to the High Voltage Power Supply (HVPS) modules of the Tile Calorimeter. In the case of HVPS, however, the logic of integers showing the state for DAQ of the modules is not used. Hence data from good operating and recording state can be isolated only by applying carefully optimized cuts which allow for inherent fluctuations to be observed but remove all values from different states.