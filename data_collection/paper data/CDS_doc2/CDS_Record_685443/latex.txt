The present paper describes the Level-1 Barrel Muon Trigger performance as expected with the current configuration of the RPC detectors designed for the Barrel Muon Spectrometer of ATLAS. Results of a beam test performed at the X5-GIF facility at CERN are presented in order to show the trigger efficiency with different conditions of RPC detection efficiency and several background rates. Small (50\(\times\)50 cm\({}^{2}\)) RPC chambers with final Front-end electronics and splitter boards are used in the test, while the coincidence logic is applied off-line using a detailed simulation of the coincidence matrix.

Introduction

The Atlas Muon System has been designed in order to face the very large production rate of background particles expected at the LHC energy and luminosity, which can contribute to the muon trigger rate by accidental coincidences of hits. The Level-1 muon trigger system in the Barrel region makes use of layers of RPC detectors and of complex coincidence logic implemented by a system of Coincidence Matrix ASICs placed on-detector. In the first part of this note we present the muon trigger rates as expected in the baseline [1] trigger configuration. A test of the trigger algorithm is then described as obtained from a detailed model of the coincidence matrix, while using real RPC data from the X5 test-beam. Also, the trigger performance is studied with different detector operating conditions and with various uncorrelated background sources. In the last section different trigger configurations are discussed, as far as the trigger efficiency and the trigger rate are concerned.

## 2 The Level-1 Barrel Muon Trigger Scheme

The Atlas Level-1 Barrel muon trigger makes use of Resistive Plate Chambers (RPCs) to identify muons with transverse momentum above \(\sim 5\,\)GeV/c and assigning them a \(p_{t}\) range and a unique bunch crossing number. The Level-1 trigger decision must reduce the trigger rate by a factor of \(0(10^{4})\) from the initial bunch-crossing rate of 40 MHz and identify the Regions-of-Interest (RoIs) for the Level-2 trigger. This rejection is achieved through detector-specific coincidence logic.

The barrel muon trigger system, shown schematically in Fig.1, (

Figure 1: The Level-1 muon-trigger scheme

made of three RPC doublets: the so-called _pivot_ (RPC2), the _Low \(p_{t}\) coincidence_ (RPC1) and the _High \(p_{t}\) coincidence_ (RPC3) planes. The trigger logic architecture makes use of two trigger conditions: detector layers RPC1 and RPC2, in the middle station of the spectrometer, are used in the so-called Low \(p_{t}\) trigger, while RPC3 in outer station is used in addition to trigger the higher momentum tracks (High \(p_{t}\)). If a candidate muon is found in the Low \(p_{t}\) system, the High \(p_{t}\) trigger searches for hits in the outer layer. In each station, the coincidence requires hit patterns on both bending and non-bending projections, compatible with a muon coming from the interaction region. All the hits of a layer clustered within a programmed _road_ around the impact point of an infinite momentum track are selected. Three coincidence sizes can be set currently defining three different transverse momentum thresholds for each of the Low and High \(p_{t}\) triggers. Measurements from both layers of each doublet are provided by two planes of read-out strips in two different projections (\(\eta\) and \(\phi\), bending and non-bending respectively). One can require different majority coincidences, 4-out-of-4, 3-out-of-4 or 2-out-of-4, in the two projections of the Low-\(p_{t}\) trigger. Similarly one can require in additions 1-out-of-2 and 2-out-of-2 in the outer station for the High-\(p_{t}\) trigger. In order to identify the bunch crossing and to reduce the trigger rate of fake muons, a tight time coincidence among the trigger planes is required.

The baseline trigger configuration uses:

* a Low \(p_{t}\) trigger with a 3-out-of-4 majority on hits from the pivot and the Low \(p_{t}\) stations, with low \(p_{t}\)-thresholds (e.g. 6 GeV/c roads) and timing coincidence between the hits in the different chamber layers and between the two views;
* a High \(p_{t}\) system, based on the 3-out-of-4 Low \(p_{t}\) majority coupled with 1-out-of-2 majority on the High \(p_{t}\) doublet, high \(p_{t}\)-thresholds (20 GeV/c roads) and timing coincidence between the two views.

This coincidence algorithm should allow a strong rejection of triggers induced by uncorrelated background, such as that caused by radiation in the cavern, randomly distributed over the six detector layers. The background flux and rate in ATLAS have been evaluated using FLUKA [2] and GCALOR [3] Montecarlo programs, which allow simulation of the transport particles at very low energy, like thermal neutrons produced by hadrons interacting with detector and machine elements. Neutrons induce the highest contribution to the muon-trigger chamber background hit rate, since they produce photons with energies up to 1 MeV in the interaction with nuclei. Other sources are muons and hadrons from hadron punch-through.

Therefore three different contributions to the trigger rate can be estimated:

1. Muons, protons and pions with momentum \(\sim\)100 MeV/c. Such particles can with low probability mimic the hit pattern of a true muon. FLUKA predicts \(\sim\)0.2 Hz/cm\({}^{2}\) hit rate in the barrel induced by muons and \(\sim\)1 Hz/cm\({}^{2}\) by protons.
2. Uncorrelated background hits, mainly due to soft Compton electrons and neutron-induced protons with kinetic energy \(<\)2 MeV. The hit rate expected in the barrel is 12.8 Hz/cm\({}^{2}\) for the Low \(p_{t}\) station and 11.3 Hz/cm\({}^{2}\) for the High \(p_{t}\) station.

3. Correlated backgrounds (tracks crossing two layers of the same doublet), generated by hard Compton electrons above 2 MeV and protons, which are mainly absorbed by the detector materials. The foreseen hit rate in the barrel is 4.8 Hz/cm\({}^{2}\) for the Low \(p_{t}\) station and 3.7 Hz/cm\({}^{2}\) for the High \(p_{t}\) station.

The above hit rates are calculated using the background fluxes predicted by FLUKA with shielding layout AV16 and at the nominal LHC luminosity, \(10^{34}\) cm\({}^{-2}\)s\({}^{-1}\)[4]. In this note, trigger rates induced by background source (1) are neglected: a preliminary investigation of these effects is described in Ref. [5]1, while in-depth studies are in progress.

Footnote 1: Even if the studies described in this reference use a wrong value for the neutral kaon cross section, the proton contribution still remains valid.

The expected rates for the baseline trigger configuration are calculated [6] with different contributions in the Low \(p_{t}\) and in the High \(p_{t}\) systems: Low \(p_{t}\) mainly includes

Figure 2: Baseline configuration: the accidental trigger rate, for nominal background and for five (ten) times the flux, compared with the prompt muons as a function of luminosity, for Low \(p_{t}\) 6 GeV/c threshold (top) and High \(p_{t}\) 20 GeV/c threshold (bottom).

coincidences of correlated-correlated and correlated-uncorrelated backgrounds, while in the High \(p_{t}\) system the coincidence of prompt muons (from heavy flavour and in-flight decays) in middle station with accidental hits in the outer station are additionally taken into account (and not the contribution from hard particles). Given that the rate of prompt muons and also the fluxes of background particles in the cavern are proportional to luminosity, an approximately quadratic dependence of background trigger rate to luminosity is expected. In Fig.2 the fake trigger rate is compared with the prompt-muon rate as a function of luminosity for both Low and High \(p_{t}\) triggers. Trigger rates are shown for the hit rates as calculated ("nominal background") and also including a safety factor of 5 on hit rates for Low \(p_{t}\) and 10 for High \(p_{t}\)2, assuming full efficiency of RPC chambers and a detector noise rate of 3 Hz/cm\({}^{2}\).

Footnote 2: The safety factor includes uncertainties from cross section measurements, hadronic shower development models, \(n+\gamma\) capture and detector responses.

The complete trigger logic hardware is implemented in a system of Coincidence Matrix ASICs (CMA). Each Region of Interest, RoI, is identified by four Coincidence Matrices, two for each projection, \(\eta\) and \(\phi\). The schematic architecture and the flow of data for one projection is shown in Fig. 3. The CMA operates on discriminated signals coming from the RPCs, making time shaping and adding dead-times and delays to allow the timing calibration of the whole system. Other tasks are data storage during the LVL1 latency and generation of trigger and read-out data, which are stored in the derandomizer before being sent to the following read-out level.

## 3 Coincidence matrix high level model

The core of the Level-1 barrel muon trigger is the CMA, which fulfills all the relevant functions needed for the trigger algorithm and for the readout of the RPC detectors. A detailed CMA model has been developed to simulate the matrix logic and operations. Also the model parameters can be configured like the corresponding chip registers and both the flow and the processing of data follow those of the CM ASIC (see Fig. 4). The

Figure 3: The barrel muon trigger architecture for one projection. FE is the Front End electronics including amplifier, shaper and discriminator. The matrix readout and the trigger output are sent to the higher trigger levels and to the DAQ throughout the PAD logic and the Sector logic.

configuration file has the same format as those used in the Register Transfer Level and in the full Netlist model simulations.

The CM ASIC receives an external clock (the 40 MHz machine clock) and generates an internal clock (40\(\times\)8 MHz = 320 MHz) to synchronize all the operations. Thus the readout of the CMA tags the incoming RPC hits in 25/8 = 3.125 ns time bins. Discriminated signals from the RPCs are first detected by an edge detector and then passed through a dead timer circuit that avoids the arrival of extra pulses on the same channel. Noisy channels can be masked and a time adjustment is performed on the remaining signals. The signals are then split and sent both to the trigger and to the Read-out subsystems within the ASIC.

In the trigger subsystem, signals are first filtered, masking the unused channels (mask to 0) and digitally shaped, with a programmable pulse width3, and then subject to a preprocessing algorithm. First the declustering of the signal is performed4, then the 1/2 and 2/2 majority logic is done on each station. The results of the preprocessing block are sent to the coincidence matrix logic. The matrix is bi-dimensional, with signals from the pivot in one dimension (2\(\times\)32 bits, I0 and I1 inputs) and from the coincidence plane in the other (2\(\times\)64 bits, J0 and J1 inputs). The High \(p_{t}\) matrix receives as input in the 32 bits side (I0) the trigger output ("k-pattern") generated by the Low \(p_{t}\) matrix, while the I1 input is not used.

Footnote 3: Signal duration must be tuned on detector time resolution and propagation time along the strips.

Footnote 4: Odd-size clusters collapse in one strip, even ones in two strips, with a maximum programmable cluster-size of 7 strips.

Three different trigger coincidences are performed in parallel for three \(p_{t}\) thresholds, thus the matrix has 32\(\times\)64\(\times\)3 pixels. A track is flagged as compatible with a muon of a given momentum if the I and J inputs fall around the line representing an infinite

Figure 4: CMA chip block diagram.

momentum track coming from the interaction point, within a window (road) of a given width extending on both sides of it (for both electric charge signs). The trigger results are sent to the readout part and to the trigger output part; the trigger pattern identifies the strip pattern in the pivot in which the trigger occurred (with the highest threshold) and its coincidence time. Two other bits are used to identify the highest \(p_{t}\) threshold validated and two more bits to indicate if the trigger is in an overlap region. The read out format is detailed in Appendix A.

## 4 Experimental Setup for the Beam Test

Background and trigger efficiency studies have been carried out using three 50\(\times\)50 cm\({}^{2}\) RPC chambers with two 2 mm gas gaps, placed at the X5-GIF irradiation test facility. This test was done to check the integration of ATLAS RPC detectors, Front End electronics and part of the trigger electronics, for the first time on a test-beam. The layout shows three trigger stations of a complete Level-1 RoI (Fig.5) irradiated by a beam of high energy muons (20 to 70 GeV), contained in a area of approximately 30\(\times\)15 cm\({}^{2}\), and an uncorrelated background source (Ce\({}^{137}\), 0.6 MeV photons). The source can be filtered so as to vary the photon rates.

The selected RPC chambers used the baseline gas mixture (\(96.7\%C_{2}H_{2}F_{4}+3\%isoC_{4}H_{10}+0.3\%SF_{6}\)), materials and Front End Electronics [7]. The RPC signals were picked up by a system of 32 strips of 3.1 cm pitch, positioned on both sides of each gas gap, on different projections: \(\eta\) strips measuring the horizontal coordinate and \(\phi\) the vertical one.

The chambers are operated in avalanche mode, with a typical signal size of few mV at the input of the Front-end, while the operating current is measured from the voltage drop on a 100 k\(\Omega\) resistor and continuously monitored during data taking. The RPC discriminated signals are sent to a splitter board, which is part of the final trigger electronics. The readout is performed by six Kloe TDC (1.04 ns bin) modules [8], with a readout window set to 2 \(\mu\)s. The trigger gate is given by the coincidence of three

Figure 5: Layout of the test-beam at X5.

scintillators, 10\(\times\)40 cm\({}^{2}\). Data acquisition is performed by a NI VME-MXI-2 controller interfaced to a PC running LabVIEW 6.0.2 for data storage and on-line monitoring.

Different conditions of temperature and pressure during data taking are taken into account in order to rescale the voltage drop. The counting rate from the trigger coincidence is also monitored, giving a DAQ rate of \(\sim\)3000 events/spill with the source off.

Two blocks of data were taken, with a total statistics of \(\sim\) 10 million collected events, one with random triggers out of the spill, to allow studies of chambers background with and without the photon source, and one with a muon trigger. Using the muon beam, the high voltage on the chambers was varied in 200 V steps, from 8400V to 10kV, and the plateau curves were studied with different Front End thresholds (0.9 to 1.2 mV) and source absorber filters, giving background counting rates on the detector equal to 0, \(\sim\)100 and \(\sim\)200 Hz/cm\({}^{2}\). See Fig. 6 for a graphical reconstruction of an event in typical working conditions.

## 5 RPC performance

The detector performance has been studied in detail by the Roma2 group [10], who developed a tracking algorithm to measure the RPC efficiencies. With this algorithm clusters are built with all the hits on a layer inside a fixed time window. The time windows are set depending on the high-voltage value and on the layer. The first fired strip and its time are recorded per cluster, together with the boundary strips of the cluster. The time resolution, as obtained from the recorded time of the reconstructed clusters at full efficiency for a threshold of 1.0 V, is shown in Fig.7 both with no photon background and with a low absorber filter on the source (\(\sim\)200 Hz/cm\({}^{2}\)). The time resolution, \(\sim\)1.6 ns, is not degraded by a flux greater than 100 Hz/cm\({}^{2}\).

The alignment of the layers was performed, considering a subset of events with only

Figure 6: One typical clean event as displayed by PERSINT [9]. Chambers are at full efficiency (9800 V), with 1.2 mV threshold and no source on.

one cluster per layer, of cluster size equal to one, equalizing the mean values of the beam profiles on each layer to that of the first one.

As far as the detector efficiency is concerned, a fit procedure is performed. For each layer, if a total of at least three clusters are found on the remaining five layers a track is build, using the recorded positions of the clusters, with asymmetric errors corresponding to their boundaries. The layer is considered efficient if it shows a cluster positioned within a window of \(\pm 1\) cm around the intersection point of the fit track. The plateau curves of efficiency versus high voltage are presented in Figs. 8 for different FE thresholds and source fluxes, showing a modest variation of the efficiency between the different conditions.

Figure 8: RPC efficiency plots versus high voltage at different FE thresholds and source off, on the left, and different source exposures and 1.0 V threshold, on the right.

Figure 7: RPC time resolution: the plots show the time distribution of the reconstructed clusters in layer 0, at full efficiency and with a threshold equal to 1.0V, with no source (left plot) and a low absorber filter on the source, \(\sim\) 200 Hz/cm2 (right plot).

## 6 Coincidence Matrix Configuration

Before applying the detailed simulation of the trigger logic to the RPC data, the simulation program for whole trigger system must be configured. The initialization procedure, required to synchronize and configure the system, is accomplished by loading the matrices with the appropriate parameters:

* to initialize the matrix mode registers, used to define the functionalities: the low or high \(p_{t}\) data-processing algorithm, the majority logic and the road width for each \(p_{t}\) threshold;
* to program the digital shaping of the matrix inputs and outputs, used to optimize bunch-crossing identification efficiency and background rejection;
* to align the three stations in order to correctly impose the spatial coincidence of hits within the threshold roads (spatial calibration);
* to initialize the pipelined inputs and outputs in order to synchronize the four matrices of the system and associate the trigger decision with the appropriate BCID (timing calibration);

All the programmable CMA parameters are summarized in Table 1 with their definitions and the values used in this analysis.

Data at taken with high RPC efficiency (\(\epsilon\sim 1\)) and no background source are used to determine the appropriate values of these parameters, anal

\begin{table}
\begin{tabular}{|l l l|} \hline \multicolumn{1}{|c}{Parameter} & \multicolumn{1}{c}{Definition} & \multicolumn{1}{c|}{Value} \\ \hline \hline Threshold & Width of the window around the matrix & 5 strips \\  & diagonal. Ranges in (0-32) & \\ \hline Delay & Shift of the time measurements, used & see text \\  & to calibrate the 4 matrices of the system. & \\ \hline Pulse width & A pulse is formed from each single RPC & 4 clocks \\  & hit to improve the coincidence algorithm & (= 12.5 ns) \\ \hline Dead time & Time masking after the pulse & 16 clocks \\ \hline Channel Masking & Masking of noisy channels & no \\ \hline Majority & Coincidence requirement between two & Low \(p_{t}\) : 3/4, 2/4 \\  & stations, varies with thresholds & High \(p_{t}\) : 1/2 \\ \hline Local direction & Direction of the coincidence axis & orthogonal \\  & between two layers of the same doublet & \\ \hline Acquisition range & CMA Data Acquisition time window. & 5 BC \\  & Can be 1 to 8 bunch crossing units. & \\ \hline BC zero & Zero of the time measurements in bunch & BCID=0 \\  & crossing units. & \\ \hline Trigger Latency & Trigger outputs inside this window are & 8 clocks \\  & sent to the read-out part. & \\ \hline \hline \end{tabular}
\end{table}
Table 1: The programmable matrix parameters, their definitions and the values used in this analysis.

the simulated matrices. Time measurements are in 3.125 ns time bins, corresponding to the CMA clock frequency. Only hits within a time window equal to 25 clocks (\(\sim 78\) ns) are considered in the analysis.

## Spatial Calibration

The correct settings of the road windows and of the alignment offsets within the three stations are obtained studying the spatial distribution of hits selected within a given time window. For this calibration only a subset of events has been considered, such that only a single hit is found per layer.

The spatial correlation of hits within layers of the same doublet is shown in Fig. 9 (left). For each of the two subsystems, the Low-\(p_{t}\) and the High-\(p_{t}\), a spatial calibration is done measuring the spatial displacement between hits in the inner and in the outer layer of the subsystem. The resulting pattern difference distributions, like the one shown in Fig. 9 (right) allow a double calibration: the mean value is considered for the alignment with respect to the muon beam, while its width is used to choose the road (total width equal to 5 strips) needed to keep high efficiency without introducing a significant accidental background.

### Timing Calibration

Facilities are provided in the CMA to adjust the timing signals at several levels, necessary to compensate differential delays in the detector-specific signal distribution scheme.

Figure 9: Left: layers correlation within a doublet. Right: hit pattern correlation between the inner and the outer layer of the Low-\(p_{t}\) subsystem, on a single projection, after the spatial calibration. Only single-hit events are used in this case.

Delays of the FE signals (\(t_{0}\)) can be adjusted inside the CM by programmable delay pipelines. The delays on the signals due to the electronic chain and to the signal propagation are quite different when comparing hits recorded by layers of strips in two different projections, because of different FE boards, and strips and cable lengths. On the contrary, when comparing hits from different layers in the same projection, any difference in the electronic delay (both Front End and cable lenghts source) can be neglected, while the main contribution comes from the time-of-flight5. Hence two major time calibrations are needed: one to adjust the timing among the six layers for the two views independently and the other to synchronize the timing of the two views. One more overall timing adjustment is necessary between the trigger system and the muon beam, so as to associate all the trigger hits to the same bunch crossing (Fig. 10 left).

Footnote 5: The maximum expected time-of-flight value is 1.5 ns

We measured the time difference between hits on a layer with respect to hits in the same road (a window of five strips) on a reference layer, chosen as the layer 0 of the central station. For this study, only a subset of events is used, such that no more than one hit per layer is found. Time difference distributions also allow one to estimate the time resolution of the system, which is as expected for the RPC time resolution, \(\sim\)1.5 ns, as shown in Fig. 10(right), using 3.125 ns time bins.

## 7 Study of the Trigger Efficiency

Once the (simulated) system had been calibrated, the trigger response (its hit pattern and timing) have been studied for all the four matrices; an example of time distribution of

Figure 10: Time distribution on a single layer with the corresponding BCID association (left); RPC hits time difference between two layers as measured after the calibration with the CMA time resolution (3.125 ns) and a cut on one hit per plane (right).

the trigger output is shown in Fig.11=left for the two Low \(p_{t}\) views, using data without a background source and with the RPCs at full efficiency. The hit pattern from the

Figure 11: Left:The trigger time distribution for the Low \(p_{t}\)\(\phi\) and \(\eta\) matrix coincidence algorithms. Data are taken with RPC \(\epsilon\sim 1\) and no background source. Right: Typical hit pattern (upper plot) and trigger pattern (lower plot) distributions for the Low \(p_{t}\) system, with different background source settings (s=0, 100 and 200 Hz/cm\({}^{2}\)) and FE thresholds (0.9, 1.0 and 1.1 V).

Figure 12: Time distribution of trigger hits generated in two different projections, for Low (left) and High (right) \(p_{t}\) threshold stations.

readout and the trigger hit pattern are shown in Fig. 11-right for different uncorrelated background intensities and various operating thresholds. The trigger algorithm clearly recreates the muon beam profile (the beam is centered around the strips number 7 and 8), which does not degrade when more background is added. Studies about the effects of accidental triggers are still in progress.

An RoI is a region given by the overlap of an \(\eta\) coincidence matrix and a \(\phi\) coincidence matrix. Thus to estimate the efficiency of each of the two trigger subsystems, no further selection is applied on the trigger output pattern, while a timing coincidence is required for trigger hits in the two projections. The coincidence window is chosen 8 clocks large, equivalent to one bunch crossing unit, the setting of the ATLAS LVL1 muon trigger system. The effect of this selection is shown in Fig.12. To test the robustness of the trigger algorithm, this is studied with different conditions of the detector chambers. Different high voltage operating values were used to vary the chamber efficiency, while the photon source was off and the voltage threshold was set at 1.0 V. However the trigger efficiency is proved not to be influenced (0.1%) either by additional background rates or by imposing different voltage thresholds on the discriminated signal.

In order to be independent on any chamber-by-chamber variations of the efficiency and on any bias induced by direct detector efficiency calculations, an effective RPC efficiency has been extrapolated from the ideal binomial curve and the measurements from the baseline 3-over-4 Low \(p_{t}\) trigger configuration. This is shown in Fig. 13-left. In order to check the internal consistency of the trigger algorithm, the dependence of the trigger efficiency on this effective detector efficiency is compared with the expected binomial curves for other trigger configurations. In Fig. 13-right and 15 one can see this comparison for the baseline High-\(p_{t}\) trigger and for the Low \(p_{t}\) and the High \(p_{t}\) trigger in a Looser configuration (using the 2-over-4 majority for low \(p_{t}\) and 1-over-2 for the high \(p_{t}\) trigger) respectively. An independent trigger efficiency has been calculated starting from the individual chamber efficiencies, as measured by the tracking algorithm. A set of three values has been used per gas gap per HV value: two probabilities of having hits on each single view only and one probability of having hits on both views. The simple Montecarlo estimation of the trigger probability is superimposed on the same plots, showing a good agreement with the full simulation using real data.

## 8 Test of Other Trigger Configurations

The trigger logic can be optimized, simply changing the values of the programmable parameters of the CMA, so that it offers several handles to face possible high background conditions and low detection efficiency. For example besides the robust baseline 3-over-4 logic, a more efficient 2-over-4 majority can be considered, which can be used in those cases when a RPC chamber has low efficiency. The robustness of this loose configuration has been tested (majority 2-over-4 for the low \(p_{t}\) and 1-over-2 for the high \(p_{t}\) trigger) and its dependence on the effective RPC efficiency is presented in Fig. 14 with the corresponding expected values. The expected fake rate in this configuration is presented in Fig. 15 for Low and High \(p_{t}\) thresholds.

This looser configuration can be made more robust with an additional requirement which contributes to reduce background from softer charged particles. In this robust configuration the high \(p_{t}\) principle of operation is adopted for Low \(p_{t}\) thresholds, by requiring the confirmation from the outer layer, but using a looser spatial coincidence. The expected accidental trigger rates in this configuration are shown in Fig. 16 for the Low \(p_{t}\) threshold.

Multiple scenarios can show up during ATLAS data taking for which different trigger logic configurations can be usefully applied:

* when one RPC chamber is completely inefficient, the majority logic can be released locally, passing for example from 3-out-of-4 to 2-out-of-4;
* when a Front End module does not respond, its channels can be masked to 1 and processed with the preceding logic;
* when a high background level is seen from the cavern, trigger stations away from the transition zone (\(\eta\sim 1\)) can be configured with more stringent requirements (for example can use the information from the outer layer) in order to increase the

Figure 14: The looser configuration trigger efficiency versus the “effective” detector efficiency for Low \(p_{t}\) (left plot) and High \(p_{t}\) (right plot) threshold trigger stations. Background source is off. The expected curve is superimposed.

Figure 13: The baseline trigger efficiency versus the effective detector efficiency for Low \(p_{t}\) (left plot) and High \(p_{t}\) (right plot) threshold trigger stations. Background source is off. The expected curve, based on binomial statistics, is superimposed and used to extrapolate the “effective” RPC efficiency in Low \(p_{t}\) trigger as shown on the left plot.

rejection. In case of more severe background level, the TileCal confirmation can be further used to reduce trigger rates, as desribed in Ref.[5].

## 9 Summary and Conclusions

The results from the current work are summarized in Tab. 2, where all the trigger configurations studied so far are presented, with their expected "accidental-coincidence" trigger rates (in both conservative and nominal schemes) and the corresponding efficiencies, evaluated with two different detector operating scenarios.

The muon trigger system appears robust against the accidental coincidences even for a background level 10 times higher than that predicted by detailed simulation programs. As far as trigger efficiency is concerned, this system looks robust against unexpected aging of the RPCs chambers and handles are available to optimize the efficiency dependence on fake rates.

Figure 15: Looser configuration. Top: the accidental trigger rate, for nominal background and for five times the flux, compared with the prompt muons as a function of ATLAS luminosity, for Low \(p_{t}\) 6 GeV/c threshold. Bottom: the accidental trigger rate, for nominal background and for ten times the flux, compared with the prompt muons as a function of ATLAS luminosity, for High \(p_{t}\) 20 GeV/c threshold. Rates are evaluated using the appropriate road window sizes.

In general the current study proved to be very helpful to test the trigger response with real detectors, even without full size chambers, and their integration, in preparation for the next H8 2003 run. Additional in-depth studies are needed indeed to reveal the impact of RPC performances on trigger rates.

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|} \hline \hline Trigger & L & Nominal & Conservative & Trigger \(\epsilon\) & Trigger \(\epsilon\) \\ configurations & ( cm\({}^{-2}\)s\({}^{-1}\)) & Rates & Rates & (RPC 95\%) & (RPC 80\%) \\  & & (kHz) & (kHz) & & \\ \hline Baseline Low \(p_{t}\) & \(10^{33}\) & 0.7 & 7.6 & 0.99 & 0.82 \\ Baseline High \(p_{t}\) & \(10^{34}\) & 0.01 & 3.3 & 0.98 & 0.79 \\ Loose Low \(p_{t}\) & \(10^{33}\) & 6.5 & 36.2 & 1.0 & 0.92 \\ Loose High \(p_{t}\) & \(10^{34}\) & 0.02 & 13.4 & 1.0 & 0.88 \\ Robust Loose Low \(p_{t}\) & \(10^{33}\) & 0.8 & 9.4 & \(\sim\)0.95 & \(\sim\) 0.85 \\ \hline \hline \end{tabular}
\end{table}
Table 2: Expected “accidental-confidence” trigger rates and trigger efficiencies for the different configurations studied in this work. Trigger efficiencies in the Robust configuration is not accurate since the contributions from the muons in the transition zone, that escape from both the Barrel and the Endcap, must be verified.

Figure 16: Robust configuration: the accidental trigger rate, for nominal background and for five times the flux, compared with the prompt muons as a function of luminosity, for Low \(p_{t}\) 6 GeV/c threshold.

Appendix: Matrix Read-out Data Format

In the Read-out part, the CM ASIC stores blocks of data in a pipeline memory, during the LVL1 latency (2.5 \(\mu\)s) and generates blocks of 32 bits words. Also the trigger output results are added and included in one block. Each matrix Read-out frame contains a header, a sub-header, a body and a footer (see Fig. 17).

Header and sub-header contain the matrix identification number and information coming from the Front End electronics, as the Front End L1 number (the event number formed by counting the L1 Accept, FEL1ID) and the Front End Bunch Crossing number (FEBCID). The footer contains some error flags concerning data transmission (STATUS, the FE and synchronization errors, and CRC, the error flag from the matrix board). In the body the read-out and the trigger information are described: 3 bits for the Bunch Crossing Identification number within an LHC turn (BCID) and 3 from the time interpolator within the bunch crossing, 1/8 of BC time (TIME); other 3 bits identify the matrix layer and side (IJK 6), while

Figure 17: Matrix ReadOut Format.

\begin{table}
\begin{tabular}{|c|c|c|c|} \hline \hline ijk value & station & layer & channel \\ \hline
0 & hit on pivot & 0 & all \\
1 & hit on pivot & 1 & all \\
2 & hit on coincidence & 0 & 0-31 \\
3 & hit on coincidence & 0 & 32-63 \\
4 & hit on coincidence & 1 & 0-31 \\
5 & hit on coincidence & 1 & 32-63 \\
6 & trigger pattern on pivot & 0 & all \\
7 & higher triggered thr. + overlap & & \\ \hline \hline \end{tabular}
\end{table}
Table 3: Values of the IJK parameter in the Read-out frame with the corresponding meanings. IJK\(\leq\) 5 is for the read-out part, IJK\(\geq\)6 for the trigger pattern.

5 bits are used to identify the channel (STRIP). The IJK parameter identifies both the position of the hit strip and the trigger output: its values are summarized in Tab. 3.

## References

* [1] ATLAS First-Level Trigger Technical Design Report, CERN/LHCC/98-24 (1998).
* [2] A. Fasso _et al._, "FLUKA: preset status and future developments", Procs. 4th International Conference in High Energy Physics LA Biodola, Elba, 1993.
* [3] C.Zeitnitz and T.A.Gabriel, The GEANT-CALOR Interface User's Guide, GCALOR version 1.04/07.
* [4] I.Dawson, private communication.
* [5] Level-1 Muon Trigger Group, "Improvements to the Level-1 muon trigger giving increased robustness against backgrounds.", ATLAS Internal Note ATL-DAQ-99-008.
* [6] A. Nisati "Fake Level-1 Muon Trigger Rates in the ATLAS experiment", ATLAS Internal Note ATL-DAQ-1998-123.
* [7] G. Aielli _et al._, "Rpc Front-End Electronics For The Atlas Lvl1 Trigger Detector", Nucl. Instrum. Meth. A **409** (1998) 291.
* User Manual", [http://sunset.roma1.infn.it/tdc/tdcboard.ps](http://sunset.roma1.infn.it/tdc/tdcboard.ps).
* [9] "Graphics of Level-1 Objects in the ATLAS Barrel Muon Spectrometer Trigger System", ATLAS Internal Note ATL-DAQ-2002-001.
* [10] B. Liberti and A. Di Simone, private communications. See [http://doc.cern.ch/archive/electronic/other/agenda/a021542/a021542s1t3/](http://doc.cern.ch/archive/electronic/other/agenda/a021542/a021542s1t3/) transparencies/x5.pdf. ATLAS Internal Note to be submitted.