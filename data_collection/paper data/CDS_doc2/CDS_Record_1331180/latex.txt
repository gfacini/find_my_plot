**ATLAS NOTE**

ATL-DAQ-PUB-2011-001,

ATL-COM-DAQ-2011-010

**The implementation of the ATLAS missing \(E_{\rm T}\) triggers for the initial LHC operation**

D. Casadei\({}^{a}\), I. Aracena\({}^{b}\), S. Banerjee\({}^{c}\), P.-H. Beauchemin\({}^{d}\), S. Calvet\({}^{e}\), K. Cranmer\({}^{a}\),

D. Damazio\({}^{f}\), R. Djilkibaev\({}^{a}\), T. Eifert\({}^{g}\), S. Hillier\({}^{h}\), J. Idarraga\({}^{i}\), K. Johns\({}^{j}\),

V. Kaushik\({}^{j}\), R. Konoplich\({}^{a}\), R.V. Kowalewski\({}^{c}\), X. Lei\({}^{j}\), A. Mann\({}^{k}\), P. Mermod\({}^{d}\),

A. Mincer\({}^{a}\), J. Morel\({}^{k}\), P. Nemethy\({}^{a}\), A. Pinder\({}^{d}\), R.P. Taylor\({}^{c}\), A. Watson\({}^{h}\), L. Zhao\({}^{a}\)

\({}^{a}\)_Department of Physics, New York University, New York_

\({}^{b}\)_Stanford Linear Accelerator Center (SLAC), Stanford_

\({}^{c}\)_Department of Physics and Astronomy, University of Victoria, Victoria_

\({}^{d}\)_Department of Physics, Oxford University, Oxford_

\({}^{e}\)_Institut fur Physik, Johannes-Gutenberg-Universitat Mainz_

\({}^{f}\)_Brookhaven National Laboratory (BNL), Upton, New York_

\({}^{g}\)_Section de Physique, Universite de Geneve, Geneva_

\({}^{h}\)_School of Physics and Astronomy, University of Birmingham, Birmingham_

\({}^{i}\)_University of Montreal, Montreal_

\({}^{j}\)_University of Arizona, Tucson, Arizona_

\({}^{k}\)_II Physikalisches Institut, Georg-August-Universitat, Gottingen_

**Abstract**

The trigger system of the ATLAS detector has a three-level architecture in which the trigger decision is taken by custom electronics at the first level whereas the following levels operate in a software environment that is similar to the offline reconstruction. This paper describes the missing transverse energy (\(E_{\rm T}^{\rm miss}\)) triggers in ATLAS for the first data taking in the 2009 and 2010 LHC runs, in particular providing the first complete documentation of their implementation at all trigger levels.

Introduction

This note describes the ATLAS [1, 2] "missing transverse-energy" (\(E_{\rm T}^{\rm miss}\)) triggers, which are used to select events with significant transverse momentum inbalance during the 2009 and 2010 LHC runs. They are based on calorimetric measurements as described below, with a second-order correction found with the help of the muon spectrometer.1 Here we focus on the implementation, whereas the trigger performance at injection energy (900 GeV, 2009) and at 7 TeV (2010) is summarized in [3, 4, 5].

Footnote 1: The muon correction has been computed but was not enabled in the triggers used for physics analyses in 2010.

Among the large spectrum of new particles predicted by the different extensions of the Standard Model (SM), many are expected to be heavy, stable and weakly interacting with ordinary matter (WIMPs -- weakly interacting massive particles). The lightest neutralinos in supersymmetric models [6, 7], the Kaluza-Klein photons in a universal extra dimension scenario [8, 9] and the heavy states of \(T\)-parity conserved littlest Higgs models [10] are a few examples of WIMPs. They might constitute the cosmic dark matter (DM), which represents the greatest fraction of the total matter content in the universe [11, 12, 13] and would be invisible to detectors like ATLAS [14]. The production of these particles can nevertheless be inferred by the observation of a significant amount of unbalanced momentum in particle collisions. In addition, although not viable DM candidates, gravitons escaping our four-dimensional world into extra dimensions [15, 16] and new unstable particles having neutrinos in their decay products (e.g. "leptoquarks" [17]), are other examples of new physics processes expected to yield large missing momentum.

The sensitivity of the ATLAS detector to new physics relies crucially on the capacity of the trigger system to select interesting events while discarding most of the background. Although the event topology of interesting events is highly model dependent, a large \(E_{\rm T}^{\rm miss}\) is the common feature in all new physics processes listed above. Hence, being able to trigger on large values of \(E_{\rm T}^{\rm miss}\) with high efficiency provides a model-independent and clean way to select events involving the undetectable particles such as those predicted by the mentioned models.

However, discovery perspectives are not the only advantage of having a trigger based on \(E_{\rm T}^{\rm miss}\), because this can also be used to study standard model (SM) processes and as orthogonal selection for estimating the rate of other triggers. For example, triggering on loosely defined hadronic taus of less than \(\sim 50\) GeV is practically impossible at the LHC, because of the huge background due to the high rate of multi-jets QCD events that mimic this signature at trigger level. On the other hand, combining loose hadronic tau identification criteria with a \(E_{\rm T}^{\rm miss}\) threshold at \(\sim 30\) GeV makes it possible to select low-\(p_{\rm T}\) taus, that are necessary in the study of W decays [18] or in Higgs boson searches [14]. Combining trigger signatures will also become critical for SM studies and background estimates for new physics with increasing luminosity. The \(E_{\rm T}^{\rm miss}\) trigger, which is fairly independent of the lepton triggers, can also be used to estimate the performance of leptons triggers (and vice-versa). \(E_{\rm T}^{\rm miss}\) signatures with a wide range of thresholds are therefore an important asset to the ATLAS trigger system, allowing for discovery of new particles, control of trigger rates at high luminosity and studies of the performance of other triggers.

At each trigger level, the scalar sum \(\Sigma E_{\rm T}\) of the transverse energy deposited in the full calorimeter is computed together with \(E_{\rm T}^{\rm miss}\). \(\Sigma E_{\rm T}\) is a global quantity providing an excellent estimate of the amount of total activity in the event, including soft objects which might be reconstructed with low efficiency as isolated trigger features. For this reason, \(\Sigma E_{\rm T}\) can be used to trigger on high multiplicity W/Z + jets or tt events, as well as on more exotic processes like supersymmetry (SUSY) and black holes [24].

Estimating the missing transverse momentum

The ATLAS detector is built around the LHC interaction point P1 which is to rough approximation (see below) in the centre of momentum system of the particle collisions in P1. The detector does not cover the very high pseudorapidity regions (occupied by beam pipes) so that one cannot make use of the conservation of the longitudinal component of the total momentum. However, since the lost particles do not carry off a significant fraction of the _transverse momentum_\(\mathbf{p}_{\rm T}\), defined as the projection of the momentum on the transverse plane \((x,y)\), it is useful to focus on the measurement of the visible \(\mathbf{p}_{\rm T}\), which is conserved to a good approximation.

At the LHC, the energy of particles produced in collisions is usually much higher than their mass, so that one can approximate the magnitude of their momentum with their energy, as it is done by the calorimeter trigger. For each detector element \(i\), we define the corresponding _transverse energy vector_\(\mathbf{E}_{\rm T}^{(i)}=E_{i}\,\hat{\mathbf{n}}_{\rm T}\) as the measured energy multiplied by the unit transverse position vector of the element (with respect to the nominal interaction point P1). The total transverse energy for the event is the vector sum \(\mathbf{E}_{\rm T}=\sum_{i}\mathbf{E}_{\rm T}^{(i)}\) over all elements and the _missing transverse-energy vector_\(\mathbf{E}_{\rm T}\) is defined by the relation \(\mathbf{E}_{\rm T}+\mathbf{E}_{\rm T}\simeq\mathbf{ 0}\) (approximate conservation of the transverse-momentum), so that \(\mathbf{E}_{\rm T}\) is the opposite vector to \(\mathbf{E}_{\rm T}\) (defined by the measured energies). Its magnitude \(E_{\rm T}^{\rm miss}=\mathbf{E}_{\rm T}=|\mathbf{E}_{\rm T}|\) provides a good approximation to the invisible transverse momentum in the event. We also define the _total transverse energy_\(\Sigma E_{\rm T}\) as the scalar sum over all \(E_{\rm T}^{(i)}\) values. When considering also the longitudinal component, we can build the _missing energy vector_\(\mathbf{E}=(\mathbf{E}_{x},\mathbf{E}_{y},\mathbf{E}_{z})\) and the _total energy_\(\Sigma E\) as the vector and scalar sums over all measured energies, respectively.2

Footnote 2: Note that \(\Sigma E\) and \(\Sigma E_{\rm T}\) are _measured_, not missing, energies. In addition, \((\mathbf{E}_{x},\mathbf{E}_{y},\mathbf{E}_{z})=(- E_{x},-E_{y},-E_{z})\).

One needs to keep in mind that conservation of transverse momentum is only an approximation, because of the following effects:

* _parton_\(\mathbf{p}_{\rm T}\)_distribution:_ the partons are expected to carry an average intrinsic \(\mathbf{p}_{\rm T}\) of several hundreds of MeV [19, 20] and the incomplete coverage of the detector makes it impossible to fully measure the \(\mathbf{p}_{\rm T}\) of the underlying event. However, the corresponding smearing can be safely neglected at LHC;
* _beam divergence:_ the beam divergence is \(\approx 30\)\(\upmu\)rad [1], which translates into a spread in the measured transverse momentum whose magnitude is about 0.5 GeV, which can also be safely neglected;
* _angle between colliding beams:_ at P1, the two beams will have a vertical crossing angle of 320 \(\upmu\)rad [21], which translates into a systematic transverse momentum bias of about 5 GeV, and makes the detector reference system different from the centre of momentum system of the particle collision. In 2010 the angle was actually smaller, 100 \(\upmu\)rad, inducing a systematic modulation which is small but measurable;
* _displacement of the interaction point:_ any sizeable displacement of the interaction point is expected to induce a bias, because the calorimeter position coordinates (whose origin is at the nominal interaction point P1) do not give the exact momentum direction. Work is in progress to quantify the effects of the actual 2010 displacements (at the millimetre scale in the transverse plane) on \(E_{\rm T}^{\rm miss}\) triggers.

## 3 The ATLAS trigger and data acquisition system

The ATLAS trigger and data acquisition system is a three-level architecture in which custom electronics is used to implement the first level (L1) trigger [22, 25], whereas the other two levels,collectively called "High-Level Trigger" (HLT) [23], process the events in farms of computers. The full detector needs to be read-out, in order to compute the global quantities \(E_{\rm T}^{\rm miss}\) and \(\Sigma E_{\rm T}\). In the current implementation, this is only possible at L1 and at the "event filter" (EF), which is the highest trigger level: the second trigger level (L2) is designed to process only the subset of all channels, which belong to a region-of-interest (RoI) defined at L1 (accessing the full detector is only possible in very limited cases, with very low rate). For this reason, at the L2 only a muon correction is performed, in order to refine the L1 result. The same correction is later used also at the EF, which only recomputes the calorimetric term, dominating the \(E_{\rm T}^{\rm miss}\) resolution.

In order to be selected, an event needs to pass at least a single "chain" of L1, L2 and EF requirements. At L1, a total of 256 different bits is available to store the selection criteria. At the HLT, a chain must be initiated by one of the L1 bits. In addition, signatures can be defined by requiring a single type of trigger or a combination of different triggers (for example, requiring both an electron with some minimum transverse momentum and \(E_{\rm T}^{\rm miss}\) above some threshold).

Being global quantities, \(E_{\rm T}^{\rm miss}\) and \(\Sigma E_{\rm T}\) can be defined for each event at each trigger level, independently from the decision taken by the previous level. A special trigger configuration has been adopted, in addition to normal triggers based on \(E_{\rm T}^{\rm miss}\) and \(\Sigma E_{\rm T}\), in order to get their values (plus the full auxiliary information) saved on disk for all events. This proved to be a powerful feature, allowing for efficiency and correlation studies of different triggers, and significantly improving the debugging during the trigger commissioning phases.

The implementation of the \(E_{\rm T}^{\rm miss}\) (and \(\Sigma E_{\rm T}\)) triggers, described below, followed several important guidelines. First, the algorithms should be simple and robust, in order to make commissioning, debugging and monitoring as easy as possible and to suffer as least as possible from hardware problems. At the same time, they must provide a good resolution, because the trigger rates are dominated by QCD multijets events in which the finite detector resolution is responsible for the observed (fake) \(E_{\rm T}^{\rm miss}\) spectrum, despite the negible missing transverse momentum in such events.3 Finally, the algorithms must be fast enough to be able to run within the severe timing constraints imposed by the ATLAS trigger system.

Footnote 3: Because of the steeply falling rate as function of the \(E_{\rm T}^{\rm miss}\) threshold, a small variation in the calculated value can result in large changes in the rate of triggered events.

## 4 The \(E_{\rm T}^{\rm miss}\) trigger data

The detector data contain the L1, L2 and EF measurements of \(E_{\rm T}^{\rm miss}\) and \(\Sigma E_{\rm T}\), plus auxiliary quantities. For each event taken in 2009 and 2010, there is one measurement of these quantities for each trigger level. The L1 result is stored into one object of a dedicated C++ class whereas a different class is used at the HLT, to store either the L2 or the EF result.

The L1 result consists of the measured values of \(E_{x},E_{y}\) and \(\Sigma E_{\rm T}\), with granularity of one GeV\({}^{4}\)), several overflow and parity error bits, the lists of passed \(E_{\rm T}^{\rm miss}\) and \(\Sigma E_{\rm T}\) thresholds, plus some auxiliary information. In case of overflow, the event is passed by L1 disregarding the value of \(E_{\rm T}^{\rm miss}\) or \(\Sigma E_{\rm T}\).

The L2 result contains the L1 output plus the correction computed using the overall momentum from the muons, reconstructed at the L2 by matching the tracks reconstructed by the muon spectrometer and by the Inner Detector. The same correction was applied also at the EF, for which only the (dominant) calorimeter part has been recomputed. In 2009 and 2010, the muon correction was not used in active triggers, although it was saved on disk for offline performance studies.

At the EF, the full 3D vector (\(\not\!\!E_{x},\not\!\!E_{y},\not\!\!E_{z}\)) is computed together with the scalar sums \(\Sigma E_{\rm T}\) and \(\Sigma E\) of the transverse and total energy, saving in the output the separate contributions from the different subdivisions of the electromagnetic and hadronic calorimeters and from muons5), plus auxiliary quantities which are necessary for the energy calibration.

Footnote 5: In total, 24 independent calorimetric contributions and 1 muon term.

In addition, the HLT output contain several status bits which encode the results of a number of checks performed for each event on different quantities. In particular, there is a bit which is set whenever an error is encountered. This bit is taken into consideration when assessing the data quality offline. The trigger is able to reject events based on any of the status bits, although this feature was not actively used in 2009 and 2010.

## 5 The L1 implementation

The L1 trigger system takes decisions based on the calorimeters and the muon spectrometer [25]. Here we focus only on the relevant details for the \(E_{\rm T}^{\rm miss}\) trigger, that uses the L1 calorimeter measurements of the vector and scalar \(E_{\rm T}\) sums, including all calorimeters and covering the region \(|\eta|\leq 4.9\) in pseudorapidity. The L1 calorimeter trigger system ("L1Calo", figure 1) consists of three main sub-systems and is described in details in ref. [22]: the pre-processor (PPr), the jet/energy processor (JEP) and the cluster processor (CP). Only the first two are relevant for the \(E_{\rm T}^{\rm miss}\) trigger.

A "trigger-tower" (TT) is defined as the projective sequence of calorimeter cells which are aligned in the \((\eta,\phi)\) pseudorapidity-azimuth space. The analog signals from all cells inside the same TT are summed before the L1 digitization takes place. Their gains are adjusted in such a way that the L1 always works with transverse energies. In 2009-2010 ATLAS runs, the TT noise threshold was different in different regions of the detector: the energy was required to be positive and above 1.0-1.3 GeV.

The data path.The PPr digitizes the analogue input signals and produces 8-bit TT transverse energies associated with a specific bunch crossing.6) It sends "jet elements" to the JEP, that are \(\Delta\phi\times\Delta\eta=0.2\times 0.2\) (9-bits) sums of four trigger towers including both electromagnetic and hadronic calorimetry.7) The output of the JEP consists of a stream of data encoding (among other things) the thresholds passed by \(\not\!\!E_{\rm T}\) and \(\Sigma E_{\rm T}\), and the \(E_{\rm T}\) region-of-interest (RoI, decribed below) corresponding to each event. The thresholds passed are sent to the central trigger processor (CTP), which make the L1 accept (L1A) decision, whereas the RoIs are passed (if L1A has been issued) to the L2. If a transmission error occurs within the hardware of the L1 calorimeter trigger, the parity checks will fail and the RoI is flagged by parity-error bits, although this never happened in physics data taking.

Footnote 6: The L1 system is synchronized with the LHC bunch crossing pace, a clock with 25 ns ticks.

Footnote 7: For \(2.4<|\eta|<3.2\) the granularity is either \(\Delta\eta=0.2\) or \(\Delta\eta=0.3\), while FCAL jet elements extend from \(|\eta|=3.2\) to \(|\eta|=4.9\). The \(\phi\) granularity of the FCAL jet elements is \(\Delta\phi=0.4\).

Saturation and overflow.The amplified L1 analogue signals may saturate: trigger-tower saturation is flagged by assigned the maximum 8-bit value of 255 counts8). In addition, jet trigger elements saturate whenever any input TT saturates or when there is an overflow in the 9-bit digital sum of the four trigger-towers, flagged in both cases by assigning the maximum value of 511 counts.

Footnote 8: The scale was roughly 1 GeV/count at uncalibrated energy in 2009–2010, but other choices are also possible.

The RoI passed to the L2 contains overflow bits for \(E_{x},E_{y}\) and \(\Sigma E_{\mathrm{T}}\). Saturation of a tower or jet element will always affect all three. In addition, the module or crate \(E_{x},E_{y}\) or \(\Sigma E_{\mathrm{T}}\) may in principle overflow separately without individual saturated elements being present, in which case the corresponding bit is enabled. Any overflow bit being set will override the threshold tests and cause all thresholds for the affected trigger (\(E_{\mathrm{T}}^{\mathrm{miss}}\) or \(\Sigma E_{\mathrm{T}}\)) to be passed.

L1 thresholds.The CTP receives 8 bits corresponding to the value of \(E_{\mathrm{T}}^{\mathrm{miss}}\) thresholds and 4 bit for thresholds on \(\Sigma E_{\mathrm{T}}\), with 1 count (\(\simeq\) 1 GeV) resolution. \(E_{\mathrm{T}}^{\mathrm{miss}}=\sqrt{E_{x}^{2}+\not\!\!E_{y}^{2}}\) is not computed by the JEP. Rather, a look-up table (LUT) is used, mapped by \(E_{x},E_{y}\) with 6 bits precision (full precision up to 63 GeV, worsening for higher energies). If either value exceeds the maximum LUT input range (i.e. its value is larger than 511 counts) then the LUT is bypassed and all thresholds are passed. A separate logic is used for the \(\Sigma E_{\mathrm{T}}\) thresholds, achieving 1 GeV resolution up to 16 TeV.

The RoI content.The \(E_{\mathrm{T}}\) RoI (three 32-bit words) is produced for each event (even if no \(E_{\mathrm{T}}^{\mathrm{miss}}\) or \(\Sigma E_{\mathrm{T}}\) threshold is passed) and made available for the HLT. The energy encoded into the L1 RoI's seeding the L2 includes the \(E_{x},E_{y}\) values encoded as signed 15-bit integers (plus one additional bit each, to encode overflows), whereas \(\Sigma E_{\mathrm{T}}\) is encoded as unsigned 15-bit integer (plus one overflow bit). In addition, the RoIs also contain information about which of the energy

Figure 1: Architecture of the L1 calorimeter trigger system [25].

thresholds were passed, plus auxiliary information (e.g. error bits).

## 6 The HLT implementation

The algorithms running at the L2 and EF can be of two types [23]: a "feature extraction" (FEX) algorithm computes the relevant quantities, whereas a "hypothesis testing" (Hypo) algorithm takes the accept/reject decision based on the output of some FEX.9) Each HLT trigger chain is defined as sequence of Hypo instances, each of them independently configured. The sequence fails to accept the event as soon as the first Hypo fails. There is a single HLT Hypo algorithm for the L2 and EF \(E_{\mathrm{T}}^{\mathrm{miss}}\) and \(\Sigma E_{\mathrm{T}}\) triggers, described in section SS6.3 below.

Footnote 9): Any FEX or Hypo is a C++ class inheriting from the corresponding base class.

### L2

The L2 FEX runs at most once per event (the result is cached) and is "seedless": it does not need the event to be triggered by a L1 \(E_{\mathrm{T}}^{\mathrm{miss}}\) or \(\Sigma E_{\mathrm{T}}\) signature in order to be executed. In 2009-2010, it has been run exactly once per event by enabling a special trigger chain.

At the begin of the run, it checks the list of missing detectors and keeps track of them in the bits of the event status flag. Then, for each event, it:

1. fetches the L1 result \(E_{x}\), \(E_{y}\) and \(\Sigma E_{\mathrm{T}}\), based on calorimeters only, and reverses the signs of \(E_{x}\) and \(E_{y}\) to get \(\not\!\!E_{x}^{\mathrm{(L1)}}\) and \(\not\!\!E_{y}^{\mathrm{(L1)}}\).
2. checks the L1 result for parity errors and overflows, setting the corresponding bits of the global status flag.
3. fetches the momenta \(\boldsymbol{p}^{\mathrm{(L1)}}\) of all muons reconstructed by the L2 algorithm which requires a matching between tracks reconstructed in the muon spectrometer and in the inner detector.
4. corrects the calorimeter measurement taking into account the reconstructed muons, neglecting to first approximation their energy deposition in the calorimeters10): Footnote 10): This explains the minus sign in equation (1) and the plus sign in (3). \[\not\!\!E_{i} = \not\!\!E_{i}^{\mathrm{(L1)}}-\sum_{\mathrm{muons}}p_{i}^{\mathrm{ (L2)}}\qquad(i=x,y,z)\] (1) \[E_{\mathrm{T}}^{\mathrm{miss}} = \sqrt{\not\!\!E_{x}^{2}+\not\!\!E_{y}^{2}}\] (2) \[\Sigma E_{\mathrm{T}}^{\mathrm{(L2)}} = \sum_{\mathrm{calo}}^{\mathrm{(L1)}}E_{\mathrm{T}}+\sum_{ \mathrm{muons}}^{\mathrm{(L2)}}p_{\mathrm{T}}\] (3)
5. saves the result with the muon contribution stored separately, such that it can be used or neglected by the Hypo.

Note that, even for events without reconstructed muons at the L2, the trigger decision taken comparing \(E_{\mathrm{T}}^{\mathrm{miss}}\) computed at the L2 is not identical to L1 with the same threshold, because the L2 \(E_{\mathrm{T}}^{\mathrm{miss}}\) is computed as the sum in quadrature of \(E_{x}\) and \(E_{y}\) whereas a LUT is used to take the L1 decision (SS5). However the relative smearing was almost negligible in 2009-2010, so that the rate is almost the same at the L1 and L2 if no other condition is required.

### Ef

Similarly to the L2, the EF FEX runs at most once per event (the result is cached) and is seedless. Actually, in 2009-2010 it has been run exactly once per event together with the L2 FEX by means of a special trigger chain. The actual set of operations performed is split among a small number of specialized tools.

For each event, the FEX recomputes the calorimetric contribution by looping (exactly once) over all cells, obtaining a better resolution compared to the L1, which operates with trigger-towers. Only the cells whose energy is larger than a minimum value11) are considered in the loop, which takes \(\approx 100\) ms to complete. This one-sided cut does not allow for negative energy values, a choice which is driven by the fundamental requirement of robustness against hardware problem: often it happens that a (possibly transient) problem in the front-end electronics ends up into a digital value which is large but negative, a big problem for the \(E_{\rm T}^{\rm miss}\) trigger. The price for robustness is some bias on the measurement of \(\Sigma E_{\rm T}\) (but not on \(E_{\rm T}^{\rm miss}\)), which was very small in 2010 (about 10 GeV) compared to the typical threshold (250 GeV at the end of the year).

Footnote 11): The threshold was set at 3 noise RMS after pedestal subtraction.

The result is finally saved into one object of the HLT class with 25 distinct components (24 calo samplings + muons), in which the muon correction is directly taken from the L2 (being a second-order correction, there is no need for requesting a more precise but slower EF muon reconstruction). Ther result of a number of data quality checks is also encoded in the status bits.

The hadronic calibrationThe EF FEX implements a component-based calibration that has the advantage of being "unfoldable" before taking the trigger decision, allowing for different tuning of different trigger chains, or for offline efficiency and performance studies with different calibrations. In particular, it allows for neglecting the calibration at all, as it was done by default in 2009-2010.

A linear transformation \(E_{ji}\gets a_{j}E_{ji}+b_{j}\) is allowed for the energy \(E_{ji}\) of cell \(i\) in each calorimeter sampling \(j\) using two constants \(a_{j},b_{j}\) per sampling, when computing all interesting quantities (\(\not\!\!E_{x}\), \(\not\!\!E_{y}\), \(\not\!\!E_{z}\), \(\Sigma E_{\rm T}\), and \(\Sigma E\)). Let \(X\) be one of these quantities and define the _component-level_ quantity \(X_{j}=\sum_{i}X_{ji}\) and the count \(s_{j}\) of the cells passing the noise cut in sampling \(j\). Then, the corresponding _global_ quantity can be written in a form which does not contain any cell-level quantity:

\[X=\sum_{j}\left(a_{j}X_{j}+b_{j}s_{j}\right) \tag{4}\]

which is how the linear transformation has been implemented, operating on the individual components _after_ the single loop over cells (whose energy remains uncalibrated) is complete.

Because the auxiliary information saved on disk includes \(a_{j},b_{j},s_{j}\) and all \(X_{j}\)'s, it is possible for example to rerun the calibration offline using different constants \(a_{j},b_{j}\), without the need of another loop over all cells. This way, one can check different calibrations or tune the calibration parameters without running the FEX: the information available after the loop over cells is sufficient. This approach has huge benefits in terms of CPU time and disk usage, making it possible to change the calibration in different triggers with practically no overhead on the system, or to study how to optimize the EF calibration with files which do not contain any cell-level information.

### The HLT trigger decision

The same hypothesis testing algorithm is used for both the L2 and EF, performing the following steps.

1. Retrieve the result computed by the L2 or EF FEX.
2. According to a configurable bit pattern used to enable or disable (default) the testing of individual status bits, reject the event based on the event status flag. This has not been used in active triggers in 2009-2010.
3. Apply or neglect (default in 2009-2010) the muon correction.
4. If the veto on central activity is set, discard the event if the \(E_{\mathrm{T}}^{\mathrm{miss}}\) computed without the forward calorimeter (FCAL), with or without muons, exceed the corresponding threshold. This is made only at the EF and was not used in active triggers.
5. If the fiducial volume has been restricted to the central region, either discard the event if the FCAL \(E_{\mathrm{T}}^{\mathrm{miss}}\) exceeds the given threshold, or subtract the FCAL contribution, depending on the value of a configurable parameter. This is done only at the EF and was not used in active triggers.
6. The Hypo can be configured to accept the event when \(E_{\mathrm{T}}^{\mathrm{miss}}\), \(\Sigma E_{\mathrm{T}}\) or both are above the corresponding threshold.

## 7 Monitoring and data quality

The \(E_{\mathrm{T}}^{\mathrm{miss}}\) trigger monitoring is based on the analysis of histograms filled at different stages. First, the HLT algorithms fill a number of online histograms which can be monitored from the control room during ATLAS operation and are available for processing immediately after a run has ended. They are used to automatically assign a data quality status to all runs, which is later refined with the help of the histograms produced after the full (offline) event reconstruction of the events saved in the express stream (about 10% of the events).

In contrast to the online histograms, the analysis performed after the offline reconstruction allows cross-level comparisons (e.g. L1 versus EF or versus the offline reference) to be made. After this step, the final data quality status is assigned to each luminosity block of each run, with a typical delay of several hours after the end of the run.

Further offline analysis is performed with longer delays (days or weeks) to make detailed studies of the performance (resolution, correlation with the offline reference, etc.) and trigger efficiency of inclusive and combined (e.g. tau + \(E_{\mathrm{T}}^{\mathrm{miss}}\)) chains. The results shown in [5] can be summarized by saying that the trigger stability, evaluated in terms of efficiency curves for the main physics \(E_{\mathrm{T}}^{\mathrm{miss}}\) triggers, was excellent in 2010, with minor problems affecting only the highest thresholds in 3-4 runs.

## 8 Summary

The implementation of the ATLAS \(E_{\mathrm{T}}^{\mathrm{miss}}\) and \(\Sigma E_{\mathrm{T}}\) triggers at the L1, L2 and EF has been presented in this note. At L1, the \(E_{x},E_{y}\) components of the measured transverse energy are used to compute \(E_{\mathrm{T}}^{\mathrm{miss}}\) with full precision up to 63 GeV and decreasing precision at higher values.

At the L2 a muon correction term is computed in order to improve the L1 result, although it was not used in 2009-2010 runs. The same muon correction is also used at the EF, whenthe dominant calorimetric contribution is recomputed by looping once over all cells, considering only the cell energies which are larger than 3 noise RMS (one-sided cut).

In 2009-2010, the muon correction has been ignored by all active triggers and the energy scale was left uncalibrated at all trigger levels, although both the muon correction and the result of the EF hadronic calibration have been saved for offline performance studies. In conclusion, the ATLAS \(E_{\rm T}^{\rm miss}\) triggers have been used in physics analyses focusing on 2010 data, and proved to be very stable.

## References

* [1] The ATLAS Collaboration, ATLAS detector and physics performance: Technical Design Report, 1, Technical Design Report ATLAS ATLAS-TDR-014, CERN-LHCC-99-014, CERN, May 25 1999.
* [2] The ATLAS Collaboration, ATLAS detector and physics performance: Technical Design Report, 2, Technical Design Report ATLAS ATLAS-TDR-015, CERN-LHCC-99-015, CERN, May 25 1999.
* [3] The ATLAS Collaboration, The ATLAS missing Et trigger performance with initial LHC runs at \(\sqrt{s}=900\) GeV, ATLAS-CONF-2010-026, 2010.
* [4] The ATLAS Collaboration, Performance of the ATLAS Trigger in 2010 running at the LHC, ATL-COM-DAQ-2011-009, 2011.
* [5] The ATLAS Collaboration, "The ATLAS missing \(\rm E_{T}\) trigger performance with initial LHC runs at \(\sqrt{s}=7\) TeV", ATL-COM-DAQ-2010-191, 2010.
* [6] H. Goldberg, Phys. Rev. Lett. (1983) 1419.
* [7] J.R. Ellis, J.S. Hagelin, D.V. Nanopoulos, K.A. Olive and M. Srednicki, Nucl. Phys. **B** (1984) 453.
* [8] G. Servant and T.M.P. Tait, Nucl. Phys. **B** (2003) 391.
* [9] H.C. Cheng, J.L. Feng and K.T. Matchev, Phys. Rev. Lett. (2002) 211301.
* [10] H.C. Cheng and I. Low, JHEP (2003) 051.
* [11] L.M. Krauss, The Standard Model, Dark Matter and Dark Energy: From the Sublime to the Ridiculous, From the proceeding of the XIV Canary Islands Winter School in Astrophysics, 2002.
* [12] K.A. Olive, Dark matter, TASI lectures, 2002.
* [13] J.L. Feng, J. Phys. **G** (2006) R1.
* [14] ATLAS Collaboration, Expected Performance of the ATLAS Experiment. Detector, Trigger and Physics, Internal Report CERN-OPEN-2008-020, ISBN 978-92-9083-321-5, CERN, 2008.
* [15] N. Arkani-Hamed, S. Dimopoulos and G.R. Dvali, Phys. Lett. **B** (1998) 263-272.
* [16] G.F. Giudice, R. Rattazzi and J.D. Wells, Nucl. Phys. **B** (1999) 3-38.