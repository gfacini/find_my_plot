**ATLAS Internal Note**

**CAL-NO-048**

**4 August 1994**

**Detailed MC simulation Program**

**for the Combined**

**Preshower-Calorimeter prototypes**

Ll. Garrido, C. Padilla

Institut de Fisica d'Altes Energies (IFAE), Barcelona

J. Collot, S. Crepe, P. Gabor, A. Hoummada, G. Mahout

Institut des Sciences Nucleaires (ISN), Grenoble

G. Parrour, P. Petroff

LAL, Orsay

## 1 General program description

The program simulates the complete RD3 preshower and Electromagnetic calorimeters prototypes as will be tested in the test-beam of August 94. It runs over UNIX machines and IBM 3090. It requires a minimum of 32 Mb of memory and takes around 30 seconds per GeV in a 32 Mflops machine.

The latest version can be found in PADILLA.191 at CERNVM in files RD3V7.CAR and RD3V7.DAT. CMZ allows to extract the code only for the preshower or for the Electromagnetic calorimeter or both simultaneously. In the same disk there are examples of KUMAC CMZ file (RD3V7.KUMAC) to do these extractions.

The output of the program consist of two ntuples decribing the major features of the two subdetectors (energy deposition in each cell,...).

[MISSING_PAGE_FAIL:2]

C /LARPAR/ 1=THPB, 2=THGL, 3=THFE, 4=THLA, 5=THCU, 6=THFG,

LARU 1=0.180 2=0.03 3=0.04 4=0.1900 5=0.006 6=0.024

C /LARPAR/ 7=RINT, 8=RCF, 9=NSSL,10=DIZST,11=ALFA, 12=PSI,

LARU 7=0.3 8=0.3 9=1 10=110. 11=0.375 12=27.

C /LARPAR/13=TAL1,14=TF01,15=TFER,16=TF02, 17=TLA1, 18=TPLE,19=TLA2

LARU 13=0.05 14=30. 15=0.8 16=9. 17=4. 18=3. 19=1.3

C /DUMPVAR/ DUMP(6)

DUMP 0. 185. 190. 60. -20. 20.

C /GENGEO/ OFFPSH,OFFEMC,THICKFOAM,RMAXCRYO

GENE -119.5 -245. 5.5 161.

Description of the datacards (all dimensions in cm or degrees):

KINE : a b c d e f g  a --> particle type to run (GEANT code)  b --> Energy of the particle  c,d --> Beam direction (phi and theta)  e,f,g --> Beam position.

MATER : Matter for absorber (Geant Code)

YGLOB : Length along Z axis of the preshower

ZGLOB,CRYOFF,CRYORLO (: (ZGLOB-(CRYOFF+CRYORLO))= width of the preshower

(CRYOFF+CRYORLO)*TAN(4.5deg)= Bottom width of psh

ZGLOB*TAN(4.5deg) = Top width of preshower

TDET1,BDET1 : for the positionning of the first layer in the psh volume

TDET2,BDET2 : for the positionning of the second layer in the psh volume

CRYORHI,CRYOHI : obsolete values

BPHICELL,TPHCELL : for positionning of the 1st active layer in the psh volume

PHILENTGH : Lentgh of a phi cell along Z axis

DPHI : gap of each phi cell in 8 cells

TPHI : slope of each phi cell in 8 cells

 BETACELL,TETACELL : for positionning of the 2nd active layer in the psh volume

ETALENTGH : Lentgh of an eta cell along phi axis

DETA : gap of each eta cell in 8 cells

TETA : slope of each eta cell in 8 cells

TRESPHI,BRESPHI : for the positionning of the Phi resine layer in the psh

TRESETA,BRESETA : for the positionning of the Eta resine layer in the psh

PHADLNG,PHADWDT : Lentgh,width of an anode in the Phi layer

PHADINCT,PHADINCB : Top and bottom length of the anode not in the active

layer

PHADANG : slope of the anode 

[MISSING_PAGE_FAIL:4]

* 0.722492E-02 *

* 0.168687E-01 *

* 0.109215E-01 *

* 0.204356E-01 *

[MISSING_PAGE_POST]

nergy * 0.100000E+01 * 0.100000E+01 *

Description of the preshower ntuple:

Energy deposited in:

1 the cryostat

2 1srt lead layer

3 1srt resine layer

4 phi layer

5 2nd lead layer

6 ETA layer

7 2nd resine layer

8 Electronic part of the preshower

9-11 Energy of the 41 cells around of maximum energy cell

( 9, 10 and 11 correspond to different PHI modules around the

module containing the maximum energy cell)

12-14 Energy of the 25 cells around of maximum energy cell

(12, 13 and 14 correspond to different PHI modules around the

module containing the maximum energy cell)

15-16 Energy of the 41 cells around of maximum energy cell

(15 and 16 correspond to different ETA modules around the

module containing the maximum energy cell)

module containing the maximum energy cell)

17-18 Energy of the 25 cells around of maximum energy cell

(17 and 18 correspond to different ETA modules around the

module containing the maximum energy cell)

module containing the maximum energy cell)

19-28 Energy of the 10 cells around the maximum energy cell (ETA layer)

(cell of maximum energy is located at position 21)

ETA layer counting:

| 1 2 3... | 65 |... | 320

| 321... | | | 640

by example, if maximim cell is 71 we will have:

19 = energy at cell 69

20 = energy at cell 70

21 = energy at cell 71

22 = energy at cell 72

23 = energy at cell 73

24 = energy at cell 74

25 = energy at cell 389

...

29 number of the eta cell with maximum energy

29-44 Energy of the 15 cells around the maximum energy cell (PHY layer)

[MISSING_PAGE_EMPTY:7]

Description of the accordeon ntuple:

IEVT = EVT NUMBER

EINC = E BEAM

PHIB = PHI BEAM

 TETAB = TETA BEAM

ESUM = TOTAL ENERGY LOST IN CALO

ELEAD = ENERGY LOST IN ABSORBER

ELAR = " " LAR (ROUGH CUT)

COUT = TOTAL ENERGY IF CURRENT GENERATED

ELOS = ENERGY LOSS (DOUNSTREAM)

ETOT = ENERGY LOST IN LAR (MORE PRECISE)

ETOTF = ENERGY LOST irst SAMPLING

ETOTN = " " 2nd "

ETUB = " " 3nd "

E5 = ENERGY IN 5*5 CLUSTER

E51 = " " " irst SAMPLINGE52 = " " " 2nd "

E53 = " " " " 3nd "

E3 = " 3*3 "

E3D = " 3*3 exept 3nd SAMPLING 3*2

E31 = " 3*3 CLUSTER 1rst SAMPLING

E32 = " " " 2nd "

E33 = " " " 3nd "

E33D = " 3*2 " 3nd " (3 IN PHI 2 IN ETA)

PHIF = PHI RECONSTRUCLED FROM 5 CELLS IN PHI SUMMED IN ETA 1rst SAMPL.

ETAF = ETA " " " " " ETA " PHI 1rst " PHIM = PHI RECONSTRUCTED FROM 5 CELLS IN PHI SUMMED IN ETA 2nd SAMPL.

ETAM = ETA " " " " ETA " PHI 2nd " E4HOF = ENERGY IN THE 4 HOTEST CELLS IN ENERGY irst SAMPLING

E4HOM = " " " " 2nd " E4HOb = " " " " 3nd "

IFAX = CELL NUMBER IN PHI MAX ENERGY 1rst SAMPLING

JFAX = " " ETA " " " " "

IMAX = " " PHI " " 2nd " JMAX = " " ETA " " " "

IBAX = " " PHI " " 3rd " JBAX = " " ETA " " " " "

## 4 Tests done

Electrons from 20 to 150 GeV have been simulated. No problems have been reported up to now and energy and position resolution are consistent with the expected values.

We want to mention that the energy resolution is highly dependent on the total material in fron of the preshower. The dependence follows the expected behaviour from analytical calculations.

## References

* [1] A.Beteille, J.Collot et al., (ISN Grenoble): Mechanical Design of a Cold Preshower Prototype (July 1992).