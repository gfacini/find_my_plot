**Beamtests of Prototype ATLAS SCT Modules**

**at CERN H8 in June and August 2000**

A.Barr \({}^{c}\), A.A.Carter \({}^{o}\), J.R.Carter \({}^{c}\), Z.Dolezal \({}^{r}\), J.C.Hill \({}^{c}\),

T.Horazdovsky \({}^{U}\), P.Kodys \({}^{r}\), L.Eklund \({}^{N}\), G.Llosa \({}^{V}\), G.F.Moorhead \({}^{M}\),

P.W.Phillips \({}^{R}\), A.Robson \({}^{R}\), I.Stekl \({}^{U}\), Y.Unno \({}^{K}\), V.Vorobel \({}^{r}\), M.Vos \({}^{T\omega V}\)

\({}^{c}\) _Cavendish Laboratory, Cambridge University, UK_

\({}^{r}\) _University of Freiburg, Germany_

\({}^{k}\)_KEK, Tsukuba, Japan_

\({}^{M}\) _School of Physics, University of Melbourne, Australia_

\({}^{N}\) _CERN, Geneva, Switzerland_

\({}^{p}\) _Charles University, Prague, Czech Republic_

\({}^{Q}\) _Queen Mary, University of London, UK_

\({}^{R}\) _Rutherford Appleton Laboratory, Didcot, UK_

\({}^{T}\)_Universiteit Twente, The Netherlands_

\({}^{U}\) _Czech Technical University, Prague, Czech Republic_

\({}^{v}\) _IFIC \(-\) Universitat de Valencia/CSIC, Valencia, Spain_

January 2001

## Abstract

We report on the beamtest measurements of prototype ATLAS Semiconductor Tracker (SCT) modules performed during June and August 2000 at the H8 beamline at the CERN SPS. In all, 13 fully populated modules constructed from pre-series silicon detectors and the ABCD2T readout chip were tested, including examples of both barrel and forward modules in several variations of hybrid technology. Furthermore, several of the modules were constructed with irradiated silicon detectors and one had been irradiated as a complete module, to a fluence of 3\(\times\)10\({}^{14}\) p/cm\({}^{2}\) using 24 GeV/c protons at the CERN PS. Beamtests took the form of threshold scans measuring the response to a 180 GeV pion beam at a variety of incidence angles, magnetic field levels and detector bias voltages. Results of several independent analyses are included, with a description of the common DST and summary ntuple formats now adopted within the SCT beamtest community.

## Introduction

The ATLAS Semiconductor Tracker (SCT) _[sct]_ beamtest program at the CERN SPS H8 _[h8]_ beamline during the northern Summer of 2000 consisted of an extensive series of measurements to characterise the response to beam particles of prototypes of both barrel and forward silicon strip detector modules with a significant number of similarly constructed, near-final-design modules which at the same time also represented differing irradiation histories and some minor technology variations. All modules were fully populated with the ABCD2T (Trim DAC) version of our readout chip _[abcd]_. The barrel and forward modules, although using the same readout chips and very similar sensor technologies, are nevertheless very distinct designs requiring independent test and evaluation.

Within the two groups of modules different attributes for comparison included:

* **Irradiation history** to the ATLAS SCT reference dose of 3\(\times\)10\({}^{14}\) p/cm\({}^{2}\) using 24 GeV/c protons at the CERN PS T7 facility. Some modules were constructed from detectors irradiated at the CERN PS with subsequent annealing for 7 days at 25C and unirradiated readout electronics _[irr1]_. One module, RLT4, was irradiated under the same conditions as the individual detectors but as a fully assembled module including detectors and readout electronics _[irr2]_. Some modules were not irradiated;
* **Barrel hybrid technology**, either Thin-film on Carbon _[hybrid1]_ or copper/polyimide ("Kapton") printed circuits glued to carbon-carbon substrates _[hybrid2]_. The forward modules used only the one baseline hybrid type, a Kapton flex wrapped around a carbon fibre substrate to form a single double-sided hybrid, version K3 _[hybrid3]_;
* **Silicon crystal orientation**, some modules with the more usual \(<\)111\(>\) wafers and some (fabricated by Hamamatsu) with \(<\)100\(>\) wafers;
* **Silicon wafer thickness**, either the design thickness of 285\(\mu\)m, or 300 or 325\(\mu\)m.

The ABCD utilises a "binary" readout architecture, with on-chip discrimination of the signal pulses from each of 128 silicon detector strips, producing a bit-pattern containing hit information latched at the 40 MHz clock frequency and corresponding in time to the beam trigger. The comparator threshold is set uniformly for each chip using a separately determined calibration between the threshold (in mV) programmed into the appropriate register and the corresponding test input charge amplitude (in fC) that results in 50% occupancy. For this reason, our typical measurements consist of _Threshold Scans_, series of runs, each run with all chips of all modules under test set to a specific threshold. In beamtests, we record the response of the modules to an incident beam particle, triggering the readout with an external scintillator system while simultaneously measuring the particle track with a separate high-spatial-resolution silicon telescope. Our mechanics and DAQ allow up to 10 modules to be simultaneously tested, one behind the other in the beamline, fully enclosed by the large superconducting 1.56 T Morpurgo magnet, and inside the telescope acceptance. Our measurement program consisted of threshold scans at certain combinations of settings of variables of interest including:

* **Detector bias voltage**, generally covering the range up to expected full charge collection, about +250 V for unirradiated detectors and +500 V for irradiated detectors;
* **Magnetic field**, i.e. the state on or off of the 1.56 T magnetic field; and,
* **Beam incidence angle**, the modules being rotated about an axis parallel to the detector strips reflecting the ATLAS SCT barrel geometry with respect to the magnetic field direction.

A 0.2 ns resolution TDC is used to record the timing of the (randomly arriving) beam trigger relative to the 40 MHz system sampling clock so that pulse shape and timing characteristics can be recovered. Our analysis consists for each run or set of runs of finding the relative alignments ofthe tracking modules and modules under test, and fitting tracks which are then projected into the modules under test. The hit predictions are compared to the recorded hits to find both efficient track matches and off-track noise hits. The raw data files are combined with the alignment and reconstructed track information into DST files for each run, and the main results from a series of related runs are combined for convenient manipulation into a summary ntuple. We also include several modules, or anchor planes, with ABCD electronics which are kept at a fixed threshold to be used as efficiency references.

Although two series of beamtests with similar aims were conducted, 14-28 June and 23-30 August, the August series was more complete with a greater range of modules tested. In June we encountered practical difficulties with the telescope and with the read out and cooling of irradiated modules which were solved by August. We therefore concentrate in this report on the August run, there being no inconsistencies with June. However, summary ntuples, DSTs, and calibration data are all available for both series_[sct]_. The August experimental period consisted of installation and calibration up to 23/8, beam runs 24-27/8, calibration runs during the scheduled machine stop of 27/8, beam runs 27-29/8, and more calibration and noise studies 29-31/8.

## Beamtest Setup

A sketch of the beamline setup in August 2000 is shown in figure 1. Ten SCT modules are mounted one after the other in a cooled, light-tight environment chamber on a non-magnetic mechanical system which allows each to be rotated about a vertical axis while maintaining mechanical stability. The chamber is mounted on a massive granite block which is in turn mounted on a trolley sitting on rails. The rails allow the whole assembly to be moved along the beamline into the large volume of the 1.56 T Morpurgo superconducting dipole magnet. The field of this magnet is highly uniform over the volume of the SCT modules, and is directed vertically downward, parallel to the detector strips, in a configuration which mimics the design arrangement of the SCT barrel modules with respect to particle trajectory, field direction and detector orientation (figure 2.)

Outside the environment chamber but also mounted on the same granite table are a set of fixed stable mounting points for external tracking modules. In August 2000 these were four telescope modules and two anchor planes, positioned as shown in figure 1. The telescope modules are the same as have been used by the SCT for a number of years, each with both X and Y sensors of 50 \(\mu\)m pitch, 640 strips per plane, coupled to Viking analogue multiplexed readout chips with 1 \(\mu\)s peaking time. The telescopes are mounted two upstream and two downstream of the environment chamber, and are used to find tracks in a stable coordinate system independent of the rotation or translation of the modules under test. They are, however, necessarily inside the same magnetic field. In addition to the tracking telescopes we had two anchor planes constructed from SCT barrel detectors and hybrids with four ABCD2NT chips. These provide some additional external track information with timing characteristics similar to the modules under test and could be used as efficiency references. Two scintillation counters _[trigger]_ were mounted several metres upstream, well outside the magnet. The beam used throughout was a 180 GeV \(\pi+\) secondary beam, nearly parallel, about 2cm across, and collimated to an intensity of about 100,000 per spill. In August, the SPS extraction spill was 3.2 seconds so the intensity was around 30,000 per second.

Figure 1: Sketch of the SCT experimental setup at H8 during August 2000. *Barrel modules with irradiated detectors. **Fully irradiated module, RLT4. Module RLK6 was used for reference, with fixed threshold and bias.

Figure 2: Schematic plan of detectors in beamline; strips, magnetic field and rotation axis are all vertical.

Each of the ten SCT modules was in its own aluminium test box sitting on one of the rotating mounts in the environment chamber, and in good thermal and electrical contact with a massive, cooled Aluminium base plate. The barrel test boxes were of the QMW design used for most recent SCT barrel module testing _[box1],_ whereas the forward modules were in various aluminium test boxes or jury-rigged frames. In all cases the front and back faces of the test boxes were closed with perspex covers to give protection during handling and interventions. The module boxes were separately flushed with a trickle of cooled dry N\({}_{2}\) gas which provided some convective cooling. All modules except two of the forward modules were mounted with their cooling surfaces in thermal contact with their aluminium test boxes providing also some conductive cooling from the cold base plate. A recirculating-fluid chiller _[chiller]_ was used to cool both the base plate and gas heat exchanger. In addition, the cooling of the four modules with irradiated detectors (with high, temperature-dependent leakage currents) was augmented by individual flows of chilled dilute ethanol in channels running inside their aluminium test box frames directly under their cooling surfaces. In order to achieve acceptably low leakage currents and operating temperatures for these four modules, it was found necessary to use a second, dedicated chiller for this purpose. In this way, cold fluid at a temperature near the limit of the chiller, -25\({}^{\circ}\)C, could be provided to the irradiation modules whereas the fluid from the other chiller was significantly warmer, the base plate reaching around -12\({}^{\circ}\)C. In SCT modules much of the heat is generated by the readout chips on the hybrids. The modules, therefore, had significant thermal gradients with the hybrid temperatures being higher than those of the silicon detectors.

The DAQ used for the beamtests was an extension of that generally in use for SCT module testing, a system of VME units for control, readout and low-voltage power. These were augmented by VME units for timing measurement (a CAEN V488 TDC), event coordination (a CAEN V262 I/O register) and readout of the analogue telescope (prototype versions of the CAEN V670 IRAMS). The SCT DAQ VME units are the CLOAC _[cloac]_ clock and trigger module which provides the system 40MHz clock as well as clock-synchronised beam triggers, the SLOG _[slog]_ 12-channel control module which sends module-specific coded commands as well as fanning-out the clock and trigger signals to multiple modules, and the MuSTARD _[mustard]_ 12-channel data-driven receiver module which receives and buffers the digital output from 6 modules (each module having two readout links). The testbeam is equipped with one CLOAC, two SLOGs, and two MuSTARDS supporting a total of 12 modules. Low-voltage power and slow-control signals came from SCTLV2 _[sctlv]_ prototype SCT low-voltage supplies, also VME. High-voltage for detector bias came from an assortment of linear supplies and from a prototype CANbus-controlled SCT high-voltage power supply. Detector bias currents were measured either by bench-top micro-ammeters or the CANbus supply. The DAQ software _[tbdaq]_ is an extension of our module testing system _[sctdaq],_ a collection of C\(++\) class libraries used in conjunction with the ROOT _[root]_ package running on a conventional PC under Windows NT 4.0. As well as histogram and other analysis tools for online monitoring displays, ROOT provides a C\(++\) macro scripting facility which we use for run control and automated threshold scans. The testbeam DAQ software takes advantage of the SPS spill cycle by buffering readout data in memory during the spill, then out of the spill doing event building, data recording and monitoring analysis and display. Data was written to local files during the run, then copied to a SAMBA--mounted HP workstation for automated copying to the CERN HPSS system for permanent storage. Since a full threshold scan of 12 runs along with the data file manipulations is performed by a macro script, comparatively little time was lost at change of runs.

## Modules

The modules studied in August are listed in table 1. RLK6 was used as an efficiency reference kept at a fixed threshold of 1.2 fC and detector bias of 120V, conditions giving good absolute efficiency with very low noise occupancy. As RLK6 was mounted in the environment chamber, it had the same incidence angle and magnetic field as the modules under test. VAL1 was under test but was present only for the first part of the experiment, being replaced on 27/8 by SCAND1 which was therefore only present for the later part. Where practical, modules that were most directly comparable were placed together in pairs subject to constraints imposed by detector HV and temperature sensor cabling.

Each module was connected electrically to an LVDS repeater card for electrical signal transmission, type SC99QMW _[sc1]_ for the barrels, and FWDLVDS _[sc2]_ for the forwards, with a solid contact between Analogue Ground on the repeater card and the aluminium frame, all the frames being themselves electrically in contact through the cold base plate. Each module repeater card was connected by its own pair of 25m cables to the DAQ and power supplies, those for the DAQ being over-all-shielded twisted-pairs _[cable1]_ and those for the power supplies prototype SCT power supply cables _[cable2]_. IV curves of the modules with irradiated detectors, taken in-situ at representative operating temperatures, are shown in figure 3. Bias voltages and currents and various sensor temperatures were recorded during the beamtest by a standalone HP temperature multiplexer_[temp1]_. The SCT architecture provides for hybrid temperature sensors, two in the barrel case and one in the forward. The modules tested in August 2000 were fitted with several types of sensors, some on the hybrid and some on the baseboards nearer the detectors, as listed in table 2 along with representative temperatures.

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline _ID_ & _Name_ & _Type_ & _Constructed by_ & _Silicon_ & _Hybrid_ & _Irradiated?_ \\ \hline
0 & K3112 & Barrel & KEK & \(<\)100\(>\); 285\(\mu\)m & B K3 & No \\ \hline
1 & K3113* & Barrel & KEK & \(<\)100\(>\); 285\(\mu\)m & B K3 & Detectors \\ \hline
2 & RLT4* & Barrel & UK–B & \(<\)111\(>\); 325\(\mu\)m & B TF & Complete \\ \hline
3 & RLT5 & Barrel & UK–B & \(<\)111\(>\); 325\(\mu\)m & B TF & No \\ \hline
4 & RLT9* & Barrel & UK–B & \(<\)111\(>\); 285\(\mu\)m \(\clubsuit\) & B TF & Detectors \\ \hline
5 & RLT10* & Barrel & UK–B & \(<\)100\(>\); 285\(\mu\)m & B TF & Detectors \\ \hline
6 & RLK6 & Barrel & UK–B & \(<\)111\(>\); 285\(\mu\)m & B K3 & No \\ \hline
7 & SCAND1 & Barrel & Scandinavia & \(<\)111\(>\); 300\(\mu\)m & B K3 & No \\ \hline
7 & VAL1 & Forward & Valencia & \(<\)111\(>\); 285\(\mu\)m & F KIII & No \\ \hline
8 & FRK152 & Forward & Freiburg & \(<\)111\(>\); 285\(\mu\)m & F KIII & No \\ \hline
9 & FRK153 & Forward & Freiburg & \(<\)111\(>\); 285\(\mu\)m & F KIII & No \\ \hline \end{tabular}
\end{table}
Table 1: SCT Modules tested in August 2000. *These modules were irradiated or had irradiated sensors. \(\clubsuit\) Note, there were no bonds between the two back–side detectors of RLT9 so that only the first 6cm were connected on that plane.

\begin{table}
\begin{tabular}{|c c|c|c|c|c|c|} \hline _ID_ & _Name_ & _Type_ & _Sensors_ & _Typical T_ & _Vdet (V)_ & _Idet_ \\  & & & & (\({}^{\bullet}\)C) & & \\ \hline
0 & K3112 & Barrel & 2 NTC thermistors & \(+1-+5\) & \(80-250\) & 0 \(\mu\)A \\ \hline
1 & K3113* & Barrel & 2 NTC thermistors & \(-5-3\) & \(150-450\) & \(1.4-1.9\) mA \\ \hline
2 & RLT4* & Barrel & Pt1000 on baseboard & \(-9--8\) & \(150-450\) & \(1.5-2.2\) mA \\ \hline
3 & RLT5 & Barrel & 1 NTC thermistor & \(-5-+2\) & \(80-250\) & 0 \(\mu\)A \\ \hline
4 & RLT9* & Barrel & 1 NTC thermistor & \(-7-6\) & \(150-450\) & \(0.8-1.1\) mA \\ \hline
5 & RLT10* & Barrel & 1 NTC thermistor & \(-7-6\) & \(150-450\) & \(1.3-1.6\) mA \\ \hline
6 & RLT6 & Barrel & 2 NTC thermistors & \(+1-+4\) & \(120\) fixed & \(1-2\)\(\mu\)A \\ \hline
7 & SCAND1 & Barrel & Pt1000 on baseboard & \(+1-+2\) & \(80-250\) & \(0.8-0.9\)\(\mu\)A \\ \hline
7 & VAL1 & Forward & Pt1000 & 55 & \(80-250\) & \(30-60\)\(\mu\)A \\ \hline
8 & FRK152 & Forward & Pt1000 & \(+40-+45\) & \(80-250\) & \(1-3\)\(\mu\)A \\ \hline
9 & FRK153 & Forward & Pt1000 & \(+35-+45\) & \(80-250\) & \(15-25\)\(\mu\)A \\ \hline \end{tabular}
\end{table}
Table 2: Temperature sensors (mounted on the hybrids unless otherwise noted), typical operating temperatures, and the detector voltage ranges and approximate currents as noted during the beamtests. The temperature variations were mainly due to ambient conditions and cooling adjustments, and were not particularly dependent on bias voltage. *These modules were irradiated or had irradiated sensors.

Figure 3: IV curves of the modules with irradiated detectors, taken in–situ prior to the first beam measurements.

## Calibration

To measure the calibration response of the trimmed modules in the beamline, we performed threshold scans of 1000 events per point for 64 threshold points covering the full occupancy range from 0 to 100% for each of several test charges in the range 2.0 to 4.0 fC. Data from one of many such threshold scans is shown in figure 4. In this two dimensional histogram, the horizontal axis is strip number, the vertical axis is threshold, with the occupancy represented by the colour of each cell. The bands representing the transition between 0 and 100% occupancy are clear, as is the threshold uniformity and the occurrence of masked channels. From such data we extract for each strip the mean response to the test input charge and the sigma of the spread due to noise by fitting an error function to the s-curve obtained from the projection of the occupancy on the threshold axis. An example of the fit results for one plane is shown in figure 5. The six s-curves to the right are the projections of all 128 strips of each of the six chips; the histograms to the left are respectively the raw data, the fitted means and the fitted sigmas all plotted with strip number on the horizontal axis. The fitted means are then averaged over the non-masked strips of each chip to obtain the calibrated threshold (in mV according to the ABCD DAC specification) corresponding to the test input charge. For the ABCD2T this exercise is further complicated by the requirement to adjust individual 4-bit threshold trim DACs. In the example shown, the chips all respond to 2.0 fC with a median threshold around 200mV, the trim target.

For the barrel modules in the August 2000 testbeam we performed a linear fit to the median responses from 2.0 to 4.0 fC which was then used to set the threshold charges from during the beam runs in the range 0.9 to 4.5 fC. An example fit for the six chips of one plane of one module is shown in figure 6. We did not use calibration data below 2.0fC, or a more complex fit, due to the non-linearity of the ABCD2 at low threshold. The forward modules were operated with quadratic response curves obtained under somewhat different conditions which tended to overestimate the threshold below 1 fC; these thresholds were later corrected using in-situ calibrations taken under beam conditions. The corrected equivalent thresholds are listed for all modules in table 3 where the nominal values have been recalculated from the response curves actually used and averaged over the two chips in the beam in each plane. It can be seen that in any case the consistency of calibration is no better than about 0.1 fC, considerably worse at low thresholds for the forward modules (FR_K152, FR_K153). We also subsequently determined that a calibration timing error had resulted in a significantly low gain estimate for module K3113, a later correction for which has also been applied.

We performed a number of in-situ calibration measurements and other studies of all modules prior to, between (in a scheduled machine stop) and after the beamtests to verify or correct the module characterisations. The trim settings obtained from the original optimisation (or the re-optimisation following irradiation) were kept throughout. A particular problem with this version of the chip, ABCD2T, was the high number of channels which could not be properly trimmed and which were therefore classed as unusable. All unusable channels were masked from readout using the chip mask register during the beamtests. The settings used for all chip parameters were recorded in configuration files containing trim, mask and calibration response (gain and offset) information which were not changed during the beamtest.

Figure 4: Example threshold scan at 3.5fC of all 12 modules installed on 27/8. For each module, the top plane is on the left and the bottom plane on the right. The last two modules are the single\(-\)sided anchor planes..

Figure 5: Example fit to threshold scan data for one side of one module, in this case the top side of module K3112 at a test charge of 2.0 fC.

\begin{table}
\begin{tabular}{|c|r|r|r|r|r|r|r|r|r|r|r|r|} \hline _Module_ & _Link_ & _0.9_ & \(1\) & _1.1_ & _1.2_ & _1.3_ & _1.5_ & \(2\) & \(2\) & _2.5_ & \(3\) & \(3\) & \(3\) & \(5\) & \(4\) \\ \hline k3112 & 0 & 0.93 & 1.05 & 1.13 & 1.22 & 1.3 & 1.5 & 1.95 & 2.41 & 2.86 & 3.33 & 3.79 \\ \hline k3112 & 1 & 0.95 & 1.03 & 1.11 & 1.23 & 1.31 & 1.49 & 1.95 & 2.41 & 2.88 & 3.32 & 3.8 \\ \hline k3113 & 0 & 0.94 & 1 & 1.09 & 1.17 & 1.25 & 1.41 & 1.82 & 2.22 & 2.63 & 3.02 & 3.42 \\ \hline k3113 & 1 & 1 & 1.08 & 1.14 & 1.2 & 1.27 & 1.43 & 1.8 & 2.19 & 2.56 & 2.93 & 3.3 \\ \hline rlt4 & 0 & 1.03 & 1.11 & 1.22 & 1.29 & 1.4 & 1.58 & 2.09 & 2.53 & 3.05 & 3.49 & 4 \\ \hline rlt4 & 1 & 1 & 1.09 & 1.21 & 1.29 & 1.37 & 1.58 & 2.11 & 2.57 & 3.06 & 3.51 & 4.05 \\ \hline rlt5 & 0 & 1.04 & 1.13 & 1.23 & 1.33 & 1.43 & 1.63 & 2.09 & 2.59 & 3.08 & 3.55 & 4.04 \\ \hline rlt5 & 1 & 0.87 & 0.94 & 1.06 & 1.16 & 1.26 & 1.45 & 1.94 & 2.4 & 2.88 & 3.36 & 3.85 \\ \hline rlt9 & 0 & 1.01 & 1.11 & 1.21 & 1.28 & 1.38 & 1.58 & 2.05 & 2.53 & 3 & 3.47 & 3.95 \\ \hline rlt9 & 1 & 1 & 1.08 & 1.18 & 1.28 & 1.36 & 1.56 & 2.04 & 2.51 & 2.97 & 3.45 & 3.91 \\ \hline rlt10 & 0 & 0.93 & 1.01 & 1.09 & 1.17 & 1.29 & 1.45 & 1.91 & 2.34 & 2.82 & 3.26 & 3.72 \\ \hline rlt10 & 1 & 0.88 & 0.96 & 1.04 & 1.12 & 1.25 & 1.41 & 1.86 & 2.31 & 2.76 & 3.22 & 3.67 \\ \hline rlk6 & 0 & 0.89 & 0.97 & 1.1 & 1.18 & 1.28 & 1.47 & 1.94 & 2.43 & 2.9 & 3.37 & 3.86 \\ \hline rlk6 & 1 & 0.87 & 0.97 & 1.05 & 1.13 & 1.25 & 1.43 & 1.88 & 2.36 & 2.82 & 3.29 & 3.75 \\ \hline scand1 & 0 & 1.04 & 1.12 & 1.22 & 1.33 & 1.41 & 1.59 & 2.06 & 2.53 & 2.99 & 3.46 & 3.93 \\ \hline scand1 & 1 & 0.94 & 1.02 & 1.11 & 1.22 & 1.33 & 1.52 & 2 & 2.51 & 2.99 & 3.46 & 3.96 \\ \hline fr\_k153 & 0 & 0.57 & 0.66 & 0.8 & 0.9 & 1.03 & 1.27 & 1.82 & 2.35 & 2.88 & 3.39 & 3.88 \\ \hline fr\_k153 & 1 & 0.59 & 0.71 & 0.83 & 0.94 & 1.06 & 1.29 & 1.85 & 2.38 & 2.89 & 3.4 & 3.89 \\ \hline fr\_k152 & 0 & 0.36 & 0.48 & 0.62 & 0.76 & 0.9 & 1.13 & 1.76 & 2.34 & 2.88 & 3.41 & 3.93 \\ \hline fr\_k152 & 1 & 0.37 & 0.48 & 0.62 & 0.73 & 0.87 & 1.09 & 1.68 & 2.23 & 2.77 & 3.27 & 3.75 \\ \hline \end{tabular}
\end{table}
Table 3: Threshold corrections applied offline to the nominal thresholds used in the beamtests, averaged in each case over the two chips predominantly in the beam. These data are derived from in\(-\)situ calibration run 1429 of 30/8.

Figure 6: Example linear response for one plane of one module, K3113, between 2 and 4 fC obtained from in\(-\)situ testbeam calibration data. Calibration data for all modules can be downloaded from [sct].

## Beam Measurements

A total of over 1000 beam runs, most of 5000 events, were taken, covering almost all combinations of:

* \(\mathbf{B}=0\) and \(\mathbf{B}=1.56\)T, i.e., magnet off and magnet at 5000A;
* Incidence angles -14, -9, 0, 9, 15\({}^{\circ}\), as per figure 2, covering the full range mechanically possible; and,
* Bias voltages 80, 120, 160, 200, 250V for the unirradiated detectors and at the same time 150, 250, 300, 350, 450V for the irradiated detectors, values chosen to map out the expected charge collection response.

At each combination of these settings, a ROOT macro was used to perform an automated threshold scan with twelve nominal charge settings:

* 0.9, 1.0, 1.1, 1.2, 1.3, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5 fC,

chosen to cover in some detail the design operating region near 1.0 fC as well as allowing a study of the fall off at higher thresholds allowing an accurate determination of the median charge collected.

## Alignment Procedures

To facilitate the analysis, the raw data are pre-processed into DSTs. These present all relevant input information in an accessible format together with the alignment and the tracks reconstructed from the hits in the four telescope modules, each telescope module having separate X-Y planes providing one space point. Here we will briefly describe the alignment procedures and the common DST format of two analyses carried out on this data, the conventional SCT testbeam analysis _[analysis1]_, and an alternative approach developed this year _[analysis2]_.

The conventional SCT test beam analysis is based on the comparison of the response of the modules under investigation with a "known" track position, extrapolated from the telescope hits. To this end, a precise alignment of the modules under test with respect to the telescope is necessary, with track extrapolation precision better than 10 \(\mu\)m generally obtainable.

During the internal alignment of the telescope, two X-Y points are used to reconstruct tracks. Ambiguities are avoided by selecting events with exactly one hit in each of the eight telescope planes, known bad channels having been excluded. Initially one pair of telescope planes is fixed, defining the X and Y axis. The global reference system is then fully defined by choosing the Z-axis to coincide with the beam direction. In practice this is achieved by varying the position of a second pair of planes on the farther side of the system until dX/dZ and dY/dZ of the tracks are minimised. The remaining telescope planes can now be aligned relative to this frame using tracks extrapolated from hits in the first two sets of planes.

Once the internal alignment of the telescope is known, tracks reconstructed using the 4 X-Y points can be used to align the modules under test. The two planes of double-sided modules are each aligned independently. Although each plane of an SCT module is constructed from two separate silicon wafers joined end-to-end, the beam was always confined to one detector in these beamtests.

For these reasons, therefore, the alignment is insensitive both to the wafer--to--wafer alignment in any plane and to the "front-to--back" alignment of the two planes in the module. In the runs where a magnetic field is applied, the alignment still supposes straight tracks. Thus, the effect of the magnet field - curvature of the tracks - is absorbed in the positions of the telescope and alignment of the planes of the modules under test.

The alignment process was repeated after any change to the incidence angle or the magnetic field, leading to a total of 14 alignments. Alignment files are available from _[offline]_. Figure 7 demonstrates the possibility to resolve effects - charge sharing between strips - well below the detector pitch. Due to the unfortunately low efficiency of some of the telescope planes, a requirement of a minimum of four space points (of the four possible) leads to an unsuitably small fraction of events with reconstructed tracks. Therefore, tracks with three aligned space points were also accepted, resulting in a larger analysis sample of events with a single reconstructed track (about 80 % of events recorded). On the other hand this looser condition leads to an increased risk of reconstructing fake tracks pointing to noise hits in the telescope. A number of track quality indicators are available to minimise the effect of fake tracks on the efficiency measurement to well below 1%, including:

* the Chi--squared of the fit to the track;
* the track gradients with respect to the beam axis, dX/dZ and dY/dZ; and,
* the efficiency of the reference modules and anchor planes.

The cuts on the track parameters also reject particles that scattered significantly during their passage through the system. In addition, the requirement that at least one SCT reference plane be efficient is not limited in its effects to track reconstruction, but also in the later analysis it effectively excludes events for which all the SCT modules are inefficient due to readout glitches or other system--wide errors.

Figure 8 shows the residuals of one of the telescope planes for a number of combinations of the track conditions. Note that the plane for which the residuals were determined may also have entered in the track reconstruction.

Figure 8: Residual distribution for 5188 events on telescope plane 0X, accepting all events with exactly one track (left), with chi–squared less than 0.03 (middle), and with track gradients in X and Y less than 0.002 (right).

Applying the track quality cuts leads to an improvement of the resolution by rejecting scattered tracks and a reduction of the fake track background. Both the track parameters and a flag indicating whether one of the reference planes was efficient are available in the DST, allowing the optimisation of the cuts to the needs of each specific analysis.

The alternative approach to the alignment _[analysis2]_ does not internally align the telescope, but instead uses an over-determination (four points for a straight track) to calculate the average residuals in each of many sub-divisions, or cells, of the telescope coordinate system. Deviations of the residuals from 0 are found in all planes. Based on these data a correction matrix is created, capable of correcting misalignments of the individual telescope planes and also of inhomogeneities within each plane. Figure 9 shows the residual offsets of plane 1 with respect to planes 0 and 3 before and after applying the correction matrix. The effect on the track extrapolation precision is an improvement to below 10 \(\mu\)m, as shown in figure 10.

Figure 10: Effect on the telescope residual of the correction matrix.

Figure 9: Residual offsets for telescope plane 1 when compared to tracks determined using plane 0 and 3 before (left) and after (right) applying the correction matrix. The arrows are enlarged 20 times.

## DST Production and Availability

Each run is processed into a machine-independent binary ROOT _[root]_ file containing for each event a _TTree1_ object consisting of four major parts:

Footnote 1: A “TTree” in the object–oriented ROOT analysis framework can be considered a type of generalised ntuple consisting of elements of many arbitrary types or objects, not just simple floats. A “TTtuple” is a simplified TTree equivalent to a PAW row–wise ntuple.

* **Simple event variables**: the event number, some flags, the TDC measurement. The run number and discrimination threshold are also stored here. Finally, the number of elements in the three arrays described below are available at this level.
* **Tracks**: this is an array of _Track_ objects, each of which contains the track X, Y, dX/dZ, dY/dZ and the fit \(\chi^{2}\).
* **Binary clusters**: an array of _BinHit_ objects for the SCT modules, each of which contains the module identifier, the time bin, the first channel of each cluster, its width and the X-value in the local frame (centre of the cluster in centimetres).
* **Telescope clusters**: an array of _TelHit_ objects, each of which contains the module identifier, the cluster width, total cluster signal and the X-value in the local frame (weighted centre of the cluster in centimetres).

DSTs have been produced for all runs of the August beam test. They can be copied or staged from the High Performance Storage System at CERN _[hpss]_. Alignment files, example analysis macros and hints on how to get started can be found in _[offline]_. A detailed listing of the DST format is reproduced as Appendix A.

## Summary Ntuple

The combination of large numbers of runs and of modules in the beam test created the need for a simple standard summary data format to contain all principal results and to facilitate the comparison of results from different analyses. The format, chosen for its simplicity and natural affinity with the online and offline software environments, is a ROOT TNtuple1. Each row of the ntuple represents one run and one module plane. It contains the module and plane ('link') identifiers, the run settings of the variables of interest, and the most important results. The standard format includes:

Footnote 1: A “TTree” in the object–oriented ROOT analysis framework can be considered a type of generalised ntuple consisting of elements of many arbitrary types or objects, not just simple floats. A “TTtuple” is a simplified TTree equivalent to a PAW row–wise ntuple.

* **identifiers:** module number, link number and a flag indicating irradiation status;
* **run parameters:** run number, incidence angle, bias voltage, magnetic field, threshold;
* **results:** efficiency, noise occupancy, spatial resolution, cluster width and their errors.

The summary ntuple thus contains in one reasonably compact file a great deal of useful and easily accessible information extracted from many days of beamtests. For example, having downloaded a ntuple file "summary_ntuple.root" from one of the analysis web sites, it can be loaded into a ROOT interactive session and used to produce an s-curve with only two C++ commands:

_TFile *f = new TFile("sum_ntuple.root")_

_ntuple ->Draw("eff:thr","mod ==0&plane ==0&bias ==250&bfield =1.56&ang ==0)_

This produces the S-curve of plane 0 of K3113 at a bias voltage of 250 V, perpendicular incidence, in a 1.56 T magnetic field of, as shown in figure 11.

The TNtuple can easily be extended to contain, for example, timing information, without affecting the readability by older macros.

Summary ntuples of two analyses of the August beam test are publicly available [_analysis1, analysis2]_

## Analysis

Analysis has been performed in several institutes working either from the DSTs or directly from the raw data. This section will try to describe the common ground of three of these analyses.

Comparative details of each particular analysis are listed in table 4.

The basis of all the analyses is the extrapolation of a track from the telescope hits to the plane of the module under test, relying on the relative alignment of the telescope and module planes. Comparing the response of the modules to the extrapolated track position, three important performance benchmarks can be measured:

* **Efficiency** from hits found close to the track;
* **Noise occupancy** from hits found far away from a track; and,
* **Spatial resolution** from the residual distribution.

The measurement of the noise using off-track hits is only valid down to occupancies of 10\({}^{\text{-}5}\). At

\begin{table}
\begin{tabular}{|c|c|c|c|} \hline _Condition_ & _Value in analysis 1_ & _Value in analysis_ & _Value in analysis 3_ \\ \hline Number of tracks allowed in event & 1 & 1 & 1 \\ \hline Reference module required to be efficient & at least 1 plane & at least 1 plane & at least 1 plane \\ \hline Max. track \(\chi^{2}\) & 0.08 & – & – \\ \hline Max. deviation XY point – track \(\mu\)m) & 50 & 15 & – \\ \hline Max. track gradient in X and Y & 3 10\({}^{\text{-}4}\) & 2 10\({}^{\text{-}4}\) & 2 10\({}^{\text{-}5}\) \\ \hline Max. distance track–efficient hit (\(\mu\)m) & 100 & 100 & 160 \\ \hline Min. distance track–noise hit (\(\mu\)m) & 1000 & 1000 & – \\ \hline Time bins considered in efficiency & central & all & central \\ \hline Width of trigger phase window & 12 ns & – & – \\ \hline Min. distance to bad channel & 1 strip & 100 um & 1 strip \\ \hline Alignment & Conventional & Alternative & Conventional \\ \hline Reference & _[toffline],[analysis1]_ & _[analysis2]_ & _[analysis3]_ \\ \hline \end{tabular}
\end{table}
Table 4: Details of the three analyses.

Figure 11: Example \(S\)–curve from summary ntuple.

this level, hits from "ghost" tracks, real tracks that were not found by the telescope and therefore misinterpreted as telescope noise hits rather than as violating the single track cut, start to dominate the occupancy. Immediately after the beam test before the modules were disturbed a number of noise runs were taken to provide a cross check on the noise occupancy measurements.

All of the analyses accept or reject events as follows.

* Only single-track events are accepted in the analysis.
* Events in which none of the reference planes was efficient are rejected.
* If the track does not satisfy the cuts on \(\chi^{2}\), dX/dZ and dY/dZ, the event is rejected.
* If inconsistencies are found in the ABCD protocol from one of the data links the entire event is rejected; it is rejected for all modules since there is no guarantee the MuSTARD readout system recovered from the error.
* If the track is pointing to a "bad channel" or one of its immediate neighbours, the event is not taken into account for that particular module.

### Bad channels

Bad channels determined from the module characterisation and calibration procedure previously described are masked at run-time, thereby not contributing to occupancy. They are also therefore rejected from the offline analysis including for efficiency. In addition, an offline algorithm augments the run-time bad-channel list with those channels where the response deviates more than a factor 4 from the module average. Such definitions of bad channels are one source of the relative uncertainty of the main results. Total bad channel numbers are listed in table 8 below.

### Timing

The beam in H8 is random, whereas in ATLAS bunch crossings will occur synchronously with the system clock. In order to monitor the efficiency dependence on the timing of each event, the trigger phase with respect to the 40 MHz system clock is measured using a TDC. Figure 12 shows the efficiency dependence on the charge deposition moment, as measured by the TDC. As the modules were read out in ANYHIT compression where three timebin samples around the central time are recorded, the original 25 ns interval (the shaded area in the figure) can be extended on both sides using the full hit pattern information. As expected, the efficiency is seen to be a strongly varying function of the charge deposition moment. As the discriminators in the ABCD were operated with Edge Sensing OFF ("level" mode) the length of the interval in which the modules are efficient depends strongly on the discrimination threshold.

If the ATLAS situation were to be mimicked more closely, a trigger phase interval only of the order of the clock jitter (expected to be a few ns) would be considered. The drawback of this method is the enormous loss of statistics. Analysis 1 reported here selects a rather broad 12 ns trigger phase window, attempting to minimise the effect on the efficiency while retaining as much statistics as possible. In an alternative method, the joint efficiency of the three time bins is calculated ignoring the trigger phase. This method, applied by analyses 2 and 3, has the advantage of retaining all statistics, but, in the case as here where Edge Sensing is OFF, will slightly underestimate the efficiency when the pulse rises above threshold only for a short time, i.e. at high threshold.

Figure 13 shows the efficiency result of two analyses. As expected, analysis 2 finds a slightly lower efficiency at intermediate thresholds. Given the agreement between the three analyses at low threshold, results will be presented from analysis 1 only unless otherwise stated.

Two important module performance benchmarks that can be measured in a beamtest are the efficiency and the noise occupancy at the operation threshold. Specifications require 99 % efficiency and less than 5\(\times\)10\({}^{-4}\) noise occupancy. The envisaged operation threshold is 1 fC. In the beamtest, runs were taken at and around 1 fC nominal threshold, with the thresholds corrected off-line according to the in-situ calibration. Therefore, the efficiency at 1 fC is determined from a fit of the corrected S-curve with the modified complementary error function:

\(\epsilon=\epsilon_{\mathrm{max}}\)   erfc( x (1 + 0.6 (e\({}^{-}\)x\({}_{-}\) e\({}^{\mathrm{xs}}\))/(e\({}^{-}\)x\({}_{+}\) e\({}^{\mathrm{xs}}\)))),

where x = (thr - \(\mu\))/\(\sigma^{2}\). The skew \(s\), median charge \(\mu\), width \(\sigma\) and maximum efficiency \(\epsilon_{\mathrm{max}}\) are left to vary freely.

The same fit also returns the median collected charge. The noise occupancy at 1 fC is determined by a linear interpolation of the points in the region between 0.9 and 1.1 fC. Finally, the spatial resolution is determined by a Gaussian fit of the residual distribution.

Figure 14: S–curves and noise occupancy in a 1.56 T field, normal incidence for three representative modules at all detector bias values studied. The threshold scale has been re–calibrated using the in–situ calibration. The listed voltages are nominal (i.e. the voltage drop across the bias resistor has not been subtracted).

## Results

We show first examples of S-curves and noise occupancies for the case of a normal incidence beam in a magnetic field. This is followed by four subsections discussing the effects of incidence angle, magnetic field and bias voltage on the efficiency and noise occupancy at 1 fC, the spatial resolution and the median charge. In all cases, we will first indicate some common tendencies in all modules and then provide a detailed breakdown of the result by module and operation condition.

### S-curves

Figure 14 shows for several representative modules S-curves and noise occupancies at normal incidence in the 1.56 T magnetic field at all detector bias voltages studied. The threshold scale has been corrected off-line according to the in-situ calibration. K3112 is a non-irradiated module. RLT10 was built with detectors that had previously been irradiated in the PS to a fluence of 3\(\times\)10\({}^{14}\) p/cm\({}^{2}\). RLT4 was irradiated to the same fluence, but after its assembly into a complete module including detectors, ASICS and other module components.

In the non-irradiated modules, represented by K3112, the efficiency is seen to be nearly independent of bias voltage down to around 160 Volts. Only at very low voltages (80 V) does the efficiency decay significantly. The modules with irradiated detectors, on the other hand, show a very strong dependence of efficiency on the bias voltage. At 150 Volts virtually no signal is collected. The signal increases slowly with bias voltages all the way up to 500 Volts.

The noise occupancies displayed in the same figure were determined using off-track hits. The intrinsic noise occupancy is dominated below about 10\({}^{-5}\) by hits from non-reconstructed tracks as can be shown by their absence from beam-off noise runs. This level is nevertheless already an order of magnitude below the ATLAS noise occupancy specification.

The following sections will present a detailed breakdown of the effects of incidence angle, magnetic field and bias voltage on the efficiency, noise occupancy and spatial resolution at operation threshold and the median collected charge.

### Efficiency at 1 fC

The efficiency is most strongly affected by the detector bias, especially so when the detectors have been irradiated. The loss of efficiency occurs mostly at higher thresholds. Figure 15 shows the dependence of efficiency on bias voltage averaged over all modules and all incidence angles.

Modules with non-irradiated detectors show only a marginal decay of the efficiency at the lowest bias voltages, although the charge loss is already considerable at 120 V (see the subsection on median charge). This reflects the fact that before irradiation the modules have quite a large charge margin, so that a significant charge loss will only lead to a marginal loss in efficiency at 1 fC. These modules all exceed 98% efficiency above 120V at all incidence angles and for both magnetic field on and off. As the uncertainty in efficiency, due to limited statistics, bad channel determination, track finding etc., is around 1%, this result is compatible with the 99% benchmark.

The modules with irradiated detectors, as expected, show a very pronounced dependence on bias voltage. On average, 98% efficiency is reached at 350 V supplied voltage. Note that depending on the leakage current and the module construction, the actual voltage across the detector is 10 to 40 Volts lower than that supplied because of the voltage drop across the bias resistor.

At non-perpendicular incidence the signal changes in two counteracting ways: on the one hand the path length of the track in the silicon and thus the deposited charge increases by a factor 1/sin\(\varphi\). On the other hand charge sharing between strips increases, leading to a loss of signal. Figure 16 shows the efficiency as a function of incidence angle at relatively high bias voltages, for all unirradiated modules at 250 Volts, and all irradiated modules at 350 Volts. Although a net reduction of the collected charge is observed, the efficiency at 1 fC at relatively high bias voltage is nearly unaffected for deviations from perpendicular incidence in the range from 16\({}^{\circ}\) to \(-\)14\({}^{\circ}\).

Tables 5&6 list the effect on the efficiency of bias voltage, incidence angle and magnetic field separately for all modules. The fully irradiated module, RLT4, seems to be performing better than the modules built with irradiated detectors. This is at least partly due to the thicker detectors (325\(\mu\)m, compared to 285\(\mu\)m) which is not corrected for here. Also, the changed timing characteristics after irradiation of the ABCD front-end electronics could play a role.

In silicon detectors with binary readout the signal-to-threshold ratio is maximised when all charge is deposited in one strip. When tracks are incident perpendicularly, the spatial distribution of the carriers is narrow and only in a small region between two strips will charge sharing play a role. This is observed as a dip in efficiency at intermediate thresholds. At the maximum angle in the test beam, 16\({}^{\circ}\), the projection of the charge on the strip plane is of a similar dimension to the strip pitch. In that case, charge sharing will be significant in a wide region. Figures 17 show the efficiency as a function of inter-strip position for two different incidence angles and field conditions. It should be noted that at this level the track extrapolation error becomes non-negligible.

The track reconstruction resolution is insufficient to distinguish the effect of magnetic field or bias voltages. The effect of the incidence angle, however, is quite clear at thresholds down to 1.5 fC. Only where there is little charge margin (irradiation, bias voltage, etc.) is the efficiency at 1 fC affected.

The noise occupancy results show that the irradiated module RLT4 requires a threshold of 1.2 fC to satisfy the noise specification. As an increase in the threshold will further reduce the efficiency, we show in table 7 the efficiencies at 1.2 fC threshold for the various runs. Note these numbers do not include any correction for the detector thickness of 325 \(\mu\)m.

Figure 15: Efficiency at 1 fC (corrected threshold) without field (left) and in a 1.56 T field (right) for non\(-\)irradiated (filled circles) and irradiated detectors (open circles)

Figure 17a: K3112: Efficiency versus inter–strip position for three threshold scans.

Figure 17b: K3113: Efficiency versus inter–strip position for three threshold scans.

Figure 17c: RLT4: Efficiency versus inter–strip position for three threshold scans

[MISSING_PAGE_EMPTY:22]

### Noise occupancy

Noise occupancy was determined both from off-track hits during beam runs, and from special noise runs taken with the beam off and a random trigger but otherwise similar conditions to beam runs. The beam-off noise occupancy measurements are expected to show the intrinsic noise properties of the modules as tested, uncontaminated by extra "ghost" tracks not identified from telescope hits. Beam-off results are shown in figure 18 for two modules including RLT4, the fully irradiated module. Several modules gave zero occupancy to the level of 10-6 and are not shown.

Noise occupancies at the 1 fC nominal operating point measured with beam do not change significantly with any of the scanned variables. The table below gives a global noise number, valid for all incidence angles, bias voltages and magnetic fields, at a corrected 1 fC threshold, and also the threshold at the specification noise level of 5\(\times\)10\({}^{-4}\).

The noise numbers are generally as expected. Unirradiated barrel modules have virtually no measured noise occupancy at 1 fC. The barrel modules with irradiated detectors are still within or

\begin{table}
\begin{tabular}{|r|r|r|r|r|r|r|r|r|r|r|} \hline \multicolumn{10}{|c|}{_RLT4*, no field_} & \multicolumn{10}{|c|}{_RLT4*, 1.56 T_} \\ \hline \(\varphi\)V & 150 & 250 & 300 & 350 & 450 & \(\varphi\)V & 150 & 250 & 300 & 350 & 450 \\ \hline
16 & 39.2 & 94.4 & 96.9 & 98.4 & 98.9 & 16 & 33 & 95 & 98 & 98.3 & 98.9 \\ \hline
9 & 40.5 & 95.1 & 97.7 & 98.6 & 98.6 & 9 & 34 & 95.2 & 97.6 & 98.6 & 99 \\ \hline
0 & 41.5 & 96.5 & 98 & 98.4 & 98.7 & 0 & 35.5 & 96.1 & 98.5 & 98.5 & 99 \\ \hline \(-\)9 & 34.3 & 95.1 & 98.1 & 98.4 & 98.6 & \(-\)9 & 35.4 & 96.4 & 98.1 & 98.5 & 99.2 \\ \hline \(-\)14 & 34.2 & \(-\) & \(-\) & 97.5 & 98 & \(-\)14 & 34.5 & 96 & 98.1 & 98.6 & 99 \\ \hline \end{tabular}
\end{table}
Table 7: Efficiency of RLT4 at 1.2 fC. Note that the thicker detectors have not been corrected for.

Figure 18: Noise occupancy without beam as a function of threshold for RLT10 (left) and RLT4 (right). The figures for the unirradiated module has been suppressed as no noise was found down to the 10-6 level.

very close to specifications. The noise occupancy appears unaffected by the detector bias voltage, even though in the modules with irradiated detectors the leakage current varies between 0.5 and 3 mA. This implies that at least to 3 mA leakage current does not contribute significantly to the noise. The forward modules were very noisy in the test beam. The figure below shows a histogram of the average number of hits per event, comparing a barrel and a forward module. For random noise, this figure should show a binomial distribution (here approximated by a Gaussian). The forward module shows a very large tail to higher multiplicities, a clear indication of common mode effects. These have been investigated and addressed in later d

### Median charge

The noise was found to be essentially a property of the front end electronics, that is independent of all parameters under study here. In that case the signal to noise ratio - and thus the safety margin built into the efficiency at 1 fC - is entirely determined by the collected charge.

The charge deposited in silicon by Minimum Ionising Particles theoretically follows the Landau distribution of figure 20. The median deposited charge according to this distribution is 3.9 fC or 24400 electron/hole pairs. Charge sharing between strips distorts the distribution. The S-curve in the same figure is the result of a simulation taking into account the effect of 1500 ENC Gaussian noise and of charge sharing between strips due to diffusion. The median charge is now expected to be around 3.5 fC.

At low bias voltages, the charge collection may be slow with respect to the front-end electronics shaper peaking time, resulting in ballistic deficit of the shaper. In irradiated detectors, the distribution is further affected by incomplete depletion, charge trapping etc. Here we will study the effect of bias voltage on the median charge of the resulting distribution by determining the 50% efficiency point of all S-curves.

### Non-irradiated detectors

Figure 21 shows the median charge evolution with bias voltage at normal incidence in the 1.56 T magnetic field for two unirradiated modules, correcting for differences in the silicon thickness.

The charge loss at the lowest voltages is due to ballistic deficit of the shaper. A simple model describes the relative ballistic deficit in a third order CRRC shaper by:

\[\mathrm{RBD}=0.125\ (\mathrm{T}^{2}/\mathrm{\tau}^{2})\]

where \(\mathrm{\tau}\) is the shaper peaking time. The simulated curve is obtained when the peaking time is set to 25 ns and the charge collection time is calculated from a model _[41]_, taking as input parameters the measurements from the same source and the depletion voltage set to 75.

### Irradiated detectors.

In irradiated detectors more effects come into play. After a fluence of 3\(\times\)10\({}^{14}\) protons/cm\({}^{2}\) the bulk silicon is expected to have undergone type inversion. This means the depletion region now grows from the back plane. Full depletion is not reached until 250-300 V. A further effect of the radiation is the dislocation of Silicon atoms and thus the creation of Silicon interstitials and vacancies. These lattice defects act as trapping sites for the charge carriers and may affect the carrier mobility. A region of low field can form close to the depletion voltage, resulting in slower charge collection.

Figure 22 shows the median charges - as obtained from a fit of the 50 % points of each S-curve - versus bias voltage. The bias voltages have been corrected for the voltage drop in the bias resistor. No significant difference is found between the modules built with \(<\)100\(>\) and \(<\)111\(>\) material. Two regions can be distinguished:

* In the region from 0-250 V the collected charge increases rapidly with bias voltage. This reflects the growth of the depleted region with bias voltage.
* with a velocity dependent probability
- or ballistic deficit. The precision of the current data does not

Figure 21: Median charge vs bias voltage (normal incidence, 1.56 T field) for two unirradiated modules. The charges of RLT5 have been scaled by 285/325 to correct for detector thickness. The curve shows the results calculated from a model of ballistic deficit as discussed in the text.

allow to distinguish between both effects.

All modules with irradiated detectors collect a large fraction of the charge collected by unirradiated modules, provided a high enough bias voltage is supplied to the detector. For example, CCE is around 80% at 300V and around 90% at 400V.

Figure 22: Median charge at perpendicular incidence in a 1.56 T magnetic field. The charges for RLT4 have been scaled by 285/325 to correct for its thicker detectors. The voltages have been corrected for the voltage drop in the bias resistor.

Figure 23: Median charge with no magnetic field as a function of incidence angle and bias.

[MISSING_PAGE_EMPTY:27]

Increasing the incidence angle improves the resolution slightly by giving rise to a larger proportion of two strip clusters. In a magnetic field the angle where minimum charge sharing occurs gets shifted from the centre by the Lorentz effect. A parabolic fit of figures 24 gives a central value of the of 2.2\(\pm\)0.4 in the field and 0.7\(\pm\)0.3 without field. The non-zero value for the central angle without field indicates the angle scale is not very well calibrated. Still, the measured value for the Lorentz angle is in rough agreement with the expected value of 2.8 degrees (from \(\theta_{\mathrm{L}}\)= arctan(\(\mu_{\mathrm{H}}\)B), with the Hall mobility of holes in silicon taken to be 310 cm\({}^{2}\)/(Vs)).

Figure 26 below illustrates the spatial resolution in u,v and X and Y as calculated from the intersection of u and v strips.

_Figure 26 spatial resolution in u,v and X,Y of K3112, for perpendicular incidence (left) and maximum (16.1\({}^{\circ}\)) angle (right). Both runs were taken with 250 Volt detector bias and in a 1.56 Tesla magnetic field._

Figure 25: Resolution (left) and cluster width (right) versus incidence angle. The cluster widths have been calculated only from clusters close to tracks in order to isolate the signal. The open circles are from runs taken in the 1.56 T magnetic field, the crosses from runs without field.

## Conclusions

Beamtests of an important sample of SCT modules of both barrel and forward types representing near-final designs with the ABCD2T readout chip were successfully performed covering a wide range of irradiation states, incidence angles, magnetic field states, and detector bias voltages including those representative of expected operating conditions.

The modules met, or nearly met, most of the relevant specifications of the Inner Detector TDR.

An exception was the number of bad channels which was mostly due to the now-understood and addressed ABCD2T trim DAC problem. The unirradiated barrel module prototypes tested in the June and August beams satisfy the noise occupancy specification (\(<\)5\(\times\)10\({}^{-4}\)) down to 0.9 fC

threshold. The efficiency at 1 fC is around 99 \(\pm\) 1 % irrespective of magnetic field and incidence angle. Only at the lowest bias voltages does ballistic deficit of the shaper lead to efficiency loss.

The forward modules were noisier than expected compared to many laboratory measurements. At least part of the noise is due to common mode in the testbeam environment as well as to high chip temperatures. The efficiency at 1fC is similar to the barrel modules.

Three modules built with detectors irradiated to 3\(\times\)10\({}^{14}\) p/cm\({}^{2}\) and one complete module irradiated to the same fluence were tested. The modules with irradiated detectors had higher noise, but still satisfied the ATLAS noise occupancy specification at 1 fC. The fully irradiated module required a threshold of 1.2 fC to meet the noise specification.

Two out of three modules built with irradiated detectors reach 98 % efficiency at a bias voltage of around 350 V. The slightly lower efficiency of the other, K3113, is not fully understood but is probably due to an overestimation of the calibration response, as indicated by the consistently low median charge, and noise and efficiency at 1fC. Batch to batch uncertainties in the ABCD2T calibration capacitors of 10 to 20%, as well as temperature dependence of the gain and calibration charge amplitude all contribute to a systematic uncertainty in the response sufficient to account or this discrepancy. Remarkable is the high efficiency of the fully irradiated module, RLT4. This may be due to the thicker detectors or the altered timing characteristics of the front-end ABCD electronics after irradiation. No charge collection plateau is reached in a bias voltage scan to 500V. The negative effect on the efficiency of incidence angle and - to a lesser extent - the magnetic field are more severe than in the non-irradiated modules due to the decreased charge collection margin.

In conclusion, we show the efficiency and noise occupancy around the operating regions for two sample conditions, normal-incidence without magnetic field, and maximum angle with magnetic field in the following figures 27 for the barrel modules.

## Acknowledgements

We thank Konrad Elsener and the SPS beamline team for their assistance in the setup and stable operation of the beam, and Yves Gaillard and Klaus Barth and teams for the operation of the Morpurgo magnet and its associated cryogenics. We also thank the many members of our collaboration who have worked on the modules and other items used in these experiments, and in particular the technical assistance with trigger systems, cooling, cabling and readout equipment from CERN, Melbourne, Prague and Sheffield. We thank Pavel Reznicek (Prague Charles University) and Lutz Feld (Freiburg) for useful discussions, and Brendan Dick, Grant Gorfine, Yanwen Liu, Daniela Macina, Alick Macpherson, and Alexander Tcheplakov for sitting shifts.

[MISSING_PAGE_EMPTY:30]

## Appendix A DST Format

For the 2000 beam tests the offline code was rewritten. As a result of the step from FORTRAN to C++, the DSTs were reimplemented in a ROOT Ttree. Each event now is described by a class containing the following elements:

 int EventNo; // event counter  int RunNo; // run number  int MustardCnt; // mustard event number  int tdc; // tdc counts (monitoring trigger phase)  float ScanValue; // scan value (threshold)*  int OKFlag; // flag is set to 1 when at least one of the // reference planes was efficient and no //protocol errors were found  int NTracks; // Number of tracks reconstructed (upto 4)  int NTelHits; // Number of clusters in analog devices (up to 100)  int NBinHits; // Number of clusters in binary devices (up to 1500)

*these are run parameters rather than event variables, but may come in handy if one decides to merge RUN Ntuples into larger SCAN or SUPERSCAN Ntuples.

The tracks, telescope clusters and module (binary) clusters form arrays (TCloneArrays) of objects corresponding to the Tracks, TelHit and BinHit classes:

For each of the (up to 4 permitted) reconstructed tracks, the following information is available:

 float x; // track X value at Z=0  float y; // track Y value at Z=0  float gx; // track dX/dZ  float gy; // track dY/dZ  float chi_squared; // X^ of the track fit

The information of each of the (up to 100) telescope hit clusters (the TelHit class):

 int plane_id; // Identifier of plane, following the old naming // scheme, i.e. 16021 is telescope 2, plane l  int width; // number of channels above clustering threshold  int signal; // total signal in cluster  float xlocal; // position (in cm) of the center of gravity of the // cluster, from strip number 0

Finally, each of the (up to 1500) module hit clusters (the BinHit class):

 int plane_id; // identifier of plane (ie 13110=mod l1, link 0)  int time_bin; // time bin of the cluster  int chan; // lowest channel in cluster  int width; // number of channels involved  float xlocal; // position of cluster in local frame

The class definitions and skeletons for analysis macros are available at _[offline]_

## References

* [_abcd]_ _"Project Specification: ABCD2T/ABCD2NT ASIC",_ [http://chipinfo.home.cern.ch/chipinfo__](http://chipinfo.home.cern.ch/chipinfo__)
* [_analysis1]_ _M.Vos et al.,_ [http://ific.uv.es/](http://ific.uv.es/)\(\sim\)vos/tb2000/aug2000/aug2000.html__
* [_analysis2]_ _P.Kodys et al.,_ [http://www.runge.physik.uni-freiburg.de/kodys/TBAugust/TBAugust.html__](http://www.runge.physik.uni-freiburg.de/kodys/TBAugust/TBAugust.html__)
* [_analysis3]_ _Y.Unno et al.,_ http:/atlas.kek.jp/managers/silicon/beamtests.html__
* [_box1]_ _J.Morris, SCT Barrel test box,_ [http://hepwww.ph.qmw.ac.uk/](http://hepwww.ph.qmw.ac.uk/)\(\sim\)morris/qmweng.html__
* [_cable1]_ _CERN Stores SCEM 04.21.51.405.2 over-all shielded, 8 twisted pairs_
* [_cable2]_ _M.Turala, SCT 1999 prototype mixed-core power cables produced for SCT system and beamtests_
* [_chiller]_ _Recirculating fluid chillers from the Huber Company._
* [_cloac]_ _M.Postranecky et al., "CLOAC Clock and Control Module",_ [http://www.hep.ucl.ac.uk/atlas/sct/#CLOAC__](http://www.hep.ucl.ac.uk/atlas/sct/#CLOAC__)
* [_h8]_ _[http://atlasinfo.cern.ch/Atlas/GROUPS/GENERAL/TESTBEAAM__](http://atlasinfo.cern.ch/Atlas/GROUPS/GENERAL/TESTBEAAM__)
* [_hpss]_ _SCT DSTs on HPSS: /hpss/cern.ch/atlas/testbeam/sct/2000/dst_v1__
* [_hybrid1]_ _A.A.Carter,_ [http://www.fys.uio.no/elab/oled/abcd2t.htm__](http://www.fys.uio.no/elab/oled/abcd2t.htm__)
* [_hybrid2]_ _Y.Unno, "High-density, low-mass hybrid and associated technology",_ _LEB2000__
* [_hybrid3]_ _Forward Kapton Hybrid version KIII,_ [http://runtl.physik.uni-freiburg.de/feld/sct/hybrid/index.htm__](http://runtl.physik.uni-freiburg.de/feld/sct/hybrid/index.htm__)
* [_irr1]_ _C.Buttar et al., "SCT Irradiations",_ [http://www.shef.ac.uk/](http://www.shef.ac.uk/)\(\sim\)phys/research/hep/atlas/irrad/__
* [_irr2]_ _L.Eklund, "SCT Hybrid and module irradiations",_ [http://eklund.home.cern.ch/eklund/IrradHome.htm__](http://eklund.home.cern.ch/eklund/IrradHome.htm__)
* [_mustard]_ _M.Morrissey & M.Goodrick, "MuSTARD",_ [http://hepwww.rl.ac.uk/atlas-sct/mm/Mustard/__](http://hepwww.rl.ac.uk/atlas-sct/mm/Mustard/__)
* [_radiation]_ _I.Dawson, "Calculation of the radiation environment in ATLAS",_ ATLAS-INDET-20000-006__
* [_offline]_ _M.Vos et al, Offline pages at Valencia:_ [http://ific.uv.es/sct/tb00/tb00.html__](http://ific.uv.es/sct/tb00/tb00.html__)
* [_sc1]_ _S.Gregory & G.Moorhead, SC99QMW Support Card:_ [http://www.ph.unimelb.edu.au/epp/projects/sc99qmw__](http://www.ph.unimelb.edu.au/epp/projects/sc99qmw__)
* [_sc2]_ _S.Gregory & G.Moorhead, FWDLVDS Support Card:_ [http://www.ph.unimelb.edu.au/epp/projects/fwdlvds__](http://www.ph.unimelb.edu.au/epp/projects/fwdlvds__)
* [_sct]_ _SCT Testbeam web site, follow links for June and August 2000,_ [http://atlasinfo.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testbeam__](http://atlasinfo.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testbeam__)
* [_sctdaq]_ _J.C.Hill, G.F.Moorhead, P.W.Phillips, "SCTDAQ Module test DAQ",_ [http://home.cern.ch/s/sct/public/sctdaq/sctdaq.html__](http://home.cern.ch/s/sct/public/sctdaq/sctdaq.html__)
* [_sctlv]_ _J.Stastny et al, "ATLAS SCT LV Power Supplies", Prague AS,_ [http://www-hep.fzu.cz/Atlas/WorkingGroups/Projects/MSGC.html__](http://www-hep.fzu.cz/Atlas/WorkingGroups/Projects/MSGC.html__)
* [_slog]_ _M.Morrissey, "SLOG Slow command generator",_ [http://hepwww.rl.ac.uk/atlas-sct/mm/Slog/__](http://hepwww.rl.ac.uk/atlas-sct/mm/Slog/__)
* [_tbdaq]_ _G.Moorhead, "TBDAQ Testbeam DAQ",_ [http://home.cern.ch/s/sct/public/sctdaq/www/tb.html__](http://home.cern.ch/s/sct/public/sctdaq/www/tb.html__)
* [_trigger]_ _Z.Dolezal et al.,_ [http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testbeam/__](http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testbeam/__)
* [_trigger/sct trigger.txt__
* [_q1]_ _T.J. Brodbeck et al, "Carrier mobilities in irradiated silicon",_ _ROSE/TN/2000-09.__
* [_q2]_ _F.S. Goulding, B.W. Loo, and D. Gao, "Ballistic deficit in pulse shaping amplifiers",_ _IEEE Transactions on Nuclear Science, 1988._