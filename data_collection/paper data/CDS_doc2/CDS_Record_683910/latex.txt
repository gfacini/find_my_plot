**ATLAS Note**

_August 99_

**PERFORMANCE AND CHARACTERISTICS**

OF THE BARREL PRESAMPLER

J.Y. Hostachy, B. Belhorma,

J. Collot

_IN - IN2P3 - CNRS_

_Universite Joseph Fourier, Grenoble, France_

The performance of the barrel presampler has been checked both at the ISN-Grenoble (specific liquid nitrogen test bench) and at CERN in liquid argon. Response to test pulses, total, coherent, incoherent noises and cross talk have been measured and compared to predictions.

Introduction

The liquid argon barrel pres ampler is a detector which is placed in front of the electromagnetic calorimeter in the same cryostat. By means of a small sampling (11 mm of active liquid argon), it allows to measure the energy lost by incident particles (preshower formation) before they reach the calorimeter. The main purpose of this detector is to improve the energy resolution of the barrel electromagnetic calorimeter. The presampler has a polygonal shape (close to a cylinder) with a diameter of about 2.9 m ; it is 6.2 m long and its thickness is equal to 23 mm. It is composed of 64 sectors, each made of 8 different modules arranged in a row. One can find more information about its structure in the reference [1]. Each module is composed of multi-layered electrodes glued on FR4 supports. (Angles between electrodes and FR4 supports are discussed in reference [2]). Signals coming from the electrodes are collected by mother boards (MBs). The MBs are multi-layered circuits equipped with an accurate calibration system. Specifications and characteristics of the MBs are presented in references [3] and [4], respectively. In addition the quality tests required to validate each module before its assembling and then for a whole sector are described in reference [5].

In this note the hardware performance and the characteristics of the presampler sectors will be analyzed. The tests were performed at CERN on November 1998 (with liquid argon), and then at Grenoble by means of a sophisticated test bench [5], both at room and at liquid nitrogen temperatures.

## 2 Calibration system

Calibration system uses passive resistors soldered on the mother boards. Properties of these resistors, in particular at low temperature (77 K), are presented in reference [4]. (All these resistor are very accurate (0.1 %) and feature a low temperature coefficient of 25 ppm/\({}^{\circ}\)C. Actually there are two sets of calibration resistor values. The first one is used to equip the modules of types 1 to 7 : the calibrated pulses are simultaneously distributed into the 16 detection cells of each module. The second one concerns only the mother boards (or modules) of type 8. In that case, because of the limitation due to the barrel cryostat length, they are only 10 detection cells. The schematic diagrams of the calibration systems are given on figure 2. Conversions between amplitude of the test pulses (as measured at the input of the MB's) and the current really injected in each detection cell at 77 K for the first and second set of calibration resistors are 33.4 and 21.1 k\(\Omega\), respectively.

Another important point is due to the fact that the injection resistors (2 k\(\Omega\)) are placed very close to each detection cell so that the cell capacitances remain as small as possible, [3]. As a consequence, large return currents go through the MB and may induce crosstalk effects. To avoid such effects the injection and signal layers are separated and protected from each other by 3 ground layers [4]. Moreover these ground layers are connected to each others by a mesh of several hundreds of metallized holes in order to minimize as much as possible their inductive couplings. Crosstalk effects will be studied in this note, (see also reference [4]).

## 3 Response to test pulses

Signals from the detection cells are read out by a current amplifier followed by a CR-RC\({}^{2}\)shaper. The transfert function can be measured by sending Dirac test pulses into the calibration system of each MB, see figure 3. Actually the physical signals have a triangular shape before being amplified [2], and therefore the response of the electronics corresponds to a convolution of this triangular shape and the transfert function. Reference [6] gives the response to a triangular pulse using Laplace transforms. This response is a function of the detection cell capacitance C\({}_{d}\), the shaping time t\({}_{sh}\), the drift time t\({}_{dr}\), etc... It is given by the expression :

\[\begin{array}{l}V_{\Delta}(t)=V_{0}\left(V_{1}(x)-\frac{V_{2}(x)}{x_{dr}} \right)\ \mbox{if $x\leq x_{dr}$}\\ \\ V_{\Delta}(t)=V_{0}\left(V_{1}(x)-\frac{V_{2}(x)-V_{2}(x-x_{dr})}{x_{dr}} \right)\ \mbox{if $x\geq x_{dr}$}\end{array} \tag{1}\]

where \(t_{d}=(50\Omega).\,C_{d},\,x=t/t_{sh},\,x_{dr}=t_{dr}/t_{sh},\,\,\lambda=t_{d} /t_{sh}\) and

\[\begin{array}{l}V_{1}(x)=\frac{\lambda^{2}e^{-x/\lambda}}{( \lambda-1)^{3}}-\left(\frac{x^{2}}{2}+\frac{\lambda x}{\lambda-1}+\frac{ \lambda^{2}}{(\lambda-1)^{2}}\right)\times\,\frac{e^{-x}}{\lambda-1}\\ \\ V_{2}(x)=1-\frac{\lambda^{3}e^{-x/\lambda}}{(\lambda-1)^{3}}+ \left(\frac{x^{2}}{2}+\frac{2\lambda-1}{\lambda-1}x+\frac{3\lambda^{2}-3 \lambda+1}{(\lambda-1)^{2}}\right)\times\,\frac{e^{-x}}{\lambda-1}\end{array} \tag{2}\]

By means of an arbitrary waveform generator, such triangular signals are effectively injected into the calibration system of each MB in the test bench at Grenoble. But at CERN these signals are replaced by exponential ones easier to obtain. The response to an exponential pulse is calculated in annex 1 using a Mathematica application.

### Response to triangular pulses : Grenoble tests

An entire presampler sector was immersed in a liquid nitrogen cryostat at Grenoble [5]. Triangular test pulses with an amplitude of about 120 mV and a duration of 400 ns were injected into the calibration system of each module. Figure 4 shows the response of the electronic chain for the module of type 5. The fit, (obtained with the parameterization given in the previous section), is superimposed. In that case the CR-RC\({}^{2}\) shaping time was equal to 15 ns, but an increase of this value is practically equivalent to a decrease of the parameter t\({}_{d}\)=(50 \(\Omega\)).C\({}_{d}\) where C\({}_{d}\) is the detection cell capacitance and 50 \(\Omega\) represents the impedance of the signal cables. Table 1 gives the detection cell capacitance1 calculated and deduced from a parameterized fit with a shaping time of 18.5 ns instead of the 15 ns given above. With this condition, the agreement is really quite good, and one will see all along this note that an additional pole is needed to describe the experimental measurements. This additional pole (supplementary integration) is probably induced by the cabling and the preamplifiers. Here, it leads to an "effective increase of the shaping time" but could be taken into account by a more sophisticated model, see next section.

Footnote 1: Because of the limitation due to the cryostat length the last two detection cells of the module of type 8 are smaller leading to a smaller capacitance. These two particular cells are not taken into account in table 1.

Note that another explanation could stem from the existence of a constant parasitic capacitance in the detection cell. The increase of the parameter t\({}_{d}\) is then matched by the expected decrease of the shaping time t\({}_{sh}\).

### Response to an exponential pulse : CERN test

Two presampler sectors were placed in front of one calorimeter module in liquid argon at CERN. Exponential test pulses have been injected into the calibration system of each presampler mother board. A scheme of the electronic setup is presented in figure 1. The maximum DAC voltage is \(V_{DAC}^{max}~{}=~{}5~{}V\) coded with 17 bits. The maximum ADC output voltage is \(V_{ADC}^{max}~{}=\) 4 \(V\) and it is coded with 12 bits. The response in ADC counts can be expressed as a function of the DAC value as follows:

\[ADC~{}=~{}\frac{(2^{12}~{}-~{}1)~{}~{}\epsilon~{}~{}G~{}R_{ti}~{}V_{DAC}^{max}} {(2^{17}-1)~{}~{}R_{eq}~{}~{}V_{ADC}^{max}}~{}DAC \tag{3}\]

\begin{table}
\begin{tabular}{|c|c|c|c|} \hline  & \multicolumn{2}{|c|}{Calculated values} & \multicolumn{2}{|c|}{Values deduced from} \\  & & & the parameterized fit \\ \cline{2-4} Module \# & Detection cell & t\({}_{d}\)=(50 \(\Omega\)).C\({}_{d}\) & t\({}_{d}\)=(50 \(\Omega\)).C\({}_{d}\) \\  & capacitance & (ns) & (ns) \\  & C\({}_{d}\) (pF) & & \\ \hline
1 & 160. & 8.0 & 8.2 \(\pm\) 0.25 \\
2 & 169. & 8.45 & 8.4 \(\pm\) 0.3 \\
3 & 189. & 9.4 & 9.1 \(\pm\) 0.3 \\
4 & 210. & 10.5 & 9.8 \(\pm\) 0.3 \\
5 & 223. & 11.1 & 10.3 \(\pm\) 0.3 \\
6 & 263. & 13.2 & 12.5 \(\pm\) 0.3 \\
7 & 341. & 17.0 & 16.2 \(\pm\) 0.5 \\
8 & 384. & 19.2 & 20.2 \(\pm\) 0.4 \\ \hline \end{tabular}
\end{table}
Table 1: Calculated and measured detection cell capacitance for each type of presampler module, see text.

where:

* \(C_{d}\) is the detection capacitance, (see table 1).
* \(G\simeq 76\) is the high gain of the shapers.
* \(R_{ti}\simeq 2.8\ k\Omega\) is the trans-impedance of the pre-amplifiers, [7].
* \(R_{eq}\) is the equivalent resistance of the injection system of the mother boards. \(R_{eq}\ \simeq\ 33.4\ k\Omega\) for modules 1 to 7 and 21.1 \(k\Omega\) for the module 8, at 77 K.
* \(\epsilon\simeq 0.85\) is the ballistic coefficient due to the convolution of the readout cable integration and the transfert function of the shapers. It is estimated using a Mathematica application. Actually the ballistic effect slightly depends on the detection capacitance and its value is given here for an average capacitance.

These values leads to a gain:

\[ADC/DAC=0.211 \tag{4}\]

Measurements were performed and led to the results reported on table 2 :

These results are \(\sim\)10% lower than the calculated values. This small discrepancy can be explained by the fact that the gains of the SCA are close to 1 but not well-known, and that the attenuation of the cables are not taken into account.

Annex 1 gives the transfer function of the electronic chain and the calculated response to an exponential test pulse. In addition to the parameters: t\({}_{d}\), t\({}_{sh}\) and t\({}_{dr}\) defined in the previous section, a supplementary pole t\({}_{p}\) was taken into account. Figure 5 shows the measured response of one channel of module 4. The fit obtained with the function given in annex 1 is superimposed. The parameters t\({}_{dr}\), t\({}_{p}\) and t\({}_{sh}\) are equal to 350 ns, 12 ns

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|} \hline Module \# & 1 & 2 & 3 & 4 & 5 & 6 & 7 \\ \hline ADC/DAC & 0.187 & 0.188 & 0.185 & 0.183 & 0.181 & 0.183 & 0.169 \\ \hline \end{tabular}
\end{table}
Table 2: ADC/DAC ratio measured at CERN, (run # 200235).

Figure 1: Electronic setup of the read-out system used at CERN.

and 15.5 ns, respectively. Table 3 shows the parameter t\({}_{d}\) which is related to the detector capacitance C\({}_{d}\) by the expression: t\({}_{d}=50\)\(\Omega\) C\({}_{d}\).

These values are in good agreement with the calculated ones, (see table 1). This result shows that the additional pole is necessary to describe the experimental measurements when using the good values for t\({}_{sh}\) and t\({}_{dr}\). In any case the response is slightly slower than what was expected with a pure CR-RC\({}^{2}\) shaping term.

## 4 Noise measurements

### Noise measurements performed at Grenoble

The noise, as a function of the shaping time, was measured at Grenoble, at liquid nitrogen temperature, by means of a digital oscilloscope able to record up to 50000 samples. The period between two points (\(\Delta\)T) and the total duration of the measurement (T=50000 \(\Delta\)T) were chosen according to the frequency pass band of the CR-RC\({}^{2}\) filter, see annex 2.

Table 4 gives the equivalent noise current (in nA) per channel and for each type of module2. These results were taken for 2 particular shaping time values, i.e. 15 and 25 ns. One can notice the slow noise increase as a function of the detection cell capacitance.

Footnote 2: Noise due to the 2 last and shorter detection cells of module of type 8 is referred to as 8b in table 4.

Figure 6 shows the total average noise for the module of type 2, as a function of the peaking time. These measurements are compared to a predicted curve, see annex 3. One can see that the agreement is quite good. But a comparison of these experimental data with the curve drawn as a function of the shaping time shows that either the experimental shaping time might be larger than foreseen (see section 3.1) or again an additional pole is needed (see section 3.2).

\begin{table}
\begin{tabular}{|c|c|} \hline Module \# & \(t_{d}\) \\ \hline
1 & 8.75 \\ \hline
2 & 9.4 \\ \hline
3 & 10.01 \\ \hline
4 & 10.47 \\ \hline
5 & 12.4 \\ \hline
6 & 12.15 \\ \hline
7 & 18.45 \\ \hline \end{tabular}
\end{table}
Table 3: Parameter t\({}_{d}\) obtained by fitting the exponential test pulse response, (t\({}_{dr}\), t\({}_{p}\) and t\({}_{sh}\) were equal to 350 ns, 12 ns and 15.5 ns, respectively).

[MISSING_PAGE_FAIL:7]

performed both at room and liquid nitrogen temperatures. The definition of the maximum crosstalk is given by the absolute value of the ratio : maximum amplitude of the response of the dedicated channel, (wherever it is), by the maximum amplitude of the test pulse signal response. (Note that this definition is pessimistic but more convenient to display the tendencies because it does not depend on the oscillation phase). Figure 10 shows that the crosstalk effect slightly depends on the position of the detection cell of the pulsed module. The crosstalk values, (measured here at 77 K), are reported on table 5 as a function of the channel position.

To summarize briefly, and after numerous measurements either at room or liquid nitrogen temperatures, no crosstalk effect exceeding 0.8 % was met, which is quite sufficient for our detector, (see also table 6 where other results are reported).

To go further, test pulses were directly injected into only one particular detection cell through an additional resistor of a few k\(\Omega\) in order to limit the current. This parallel circuit did not introduce current through the MB. Figure 11 gives some of our results. Surprisingly, we were able to see the crosstalk effect due to the \(\mu\)-D connector, i.e. : with respect to the

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|c|c|} \hline \hline MODULE \# & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\ \hline \hline Channel \# & 9 & 32 & pulsed & 53 & 73 & 89 & 105 & 120 \\ \hline Max. cross & & & module & & & & \\ talk (\%) & 0.18 & 0.54 & & 0.24 & 0.27 & 0.24 & 0.33 & 0.48 \\ \hline \hline Channel \# & 16 & 32 & 48 & pulsed & 65 & 81 & 97 & 113 \\ \hline Max. cross & & & module & & & & \\ talk (\%) & 0.12 & 0.24 & 0.18 & & 0.54 & 0.36 & 0.36 & 0.30 \\ \hline \hline Channel \# & & & & 64 & pulsed & 81 & 97 & 114 \\ \hline Max. cross & & & & module & & & \\ talk (\%) & & & & 0.48 & & 0.51 & 0.30 & 0.30 \\ \hline \hline \end{tabular}
\end{table}
Table 6: Other crosstalk measurements at Grenoble and at 77 K, see text.

\begin{table}
\begin{tabular}{|c|c|c||c||c|c|} \hline Channel \# & 1 & 16 & 18 & 33 & 48 \\ \hline Position & beginning & end of & in & beginning & end of \\  & of module 1 & module 1 & module 2 & of module 3 & module 3 \\ \hline In fig. 10 & & & & & \\ curve \# & 3 & 2 & 1 & 4 & 5 \\ \hline Max cross & & & pulsed & & \\ talk (\%) & 0.3 & 0.8 & module & 0.36 & 0.3 \\ \hline \end{tabular}
\end{table}
Table 5: Crosstalk measurements at Grenoble, see text.

\(\mu\)-D geometry, the pins which are around the one which brings out the output signal of the pulsed channel, give small crosstalk effect of a few per mil. This is the case for curve numbers 2 and 4 (corresponding to channels 52 and 20 of modules 4 and 2, respectively) and curve number 6 (corresponding to channel 37 of module 3 of figure 11). In the \(\mu\)-D connector all these channels, (which do not come from the same module), have their dedicated pins around the pin corresponding to the channel 36 which is pulsed. Curve numbers 3, 5 and 8 give the response for other channels corresponding to modules 4, 2 and 3, respectively. They are truly flater than the other ones. The response to the test pulses is given by the curve # 1. Another crosstalk effect was observed on channel 40 (curve # 7) which shares the same cathodes than the pulsed channel 36. In that case the detection cell # 40 has the same \(\eta\) position than the pulsed cell, and it is adjacent to it in \(\phi\). Finally another crosstalk effect was observed on channel 35 (curve # 9), adjacent in \(\eta\) to the pulsed detection cell. Table 7 summarizes all these results. Note that, there is no crosstalk effect larger than 0.6%. Other measurements were done with other set of channels and confirm these results.

### Crosstalk measurements at CERN

Some runs have been recorded when injecting test pulses in each presampler module separatly. This technique allows to study the crosstalk produced in the modules which were not pulsed. Figure 12 shows the responses of a pulsed and a not pulsed channels. One can see that the responses do not reach their maximum at the same time. Thus, two kinds of crosstalks can be considered:

1. the crosstalk defined as the absolute value of the ratio between the response amplitude of the not pulsed channel at t\({}_{max}\) and the maximum amplitude of the pulsed one obtained at t = t\({}_{max}\), i.e. : \[\left|\frac{V_{not\ pulsed}(t_{max})}{V_{puls\,sed}^{max}}\right|\] (5)

\begin{table}
\begin{tabular}{|c||c||c|c|c|c|c|c|c|c|} \hline Curve \# & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\ \hline Channel \# & 36 & 52 & 49 & 20 & 28 & 37 & 40 & 41 & 35 \\ \hline Module \# & 3 & 4 & 4 & 2 & 2 & 3 & 3 & 3 & 3 \\ \hline Scale & & & & & & & & & \\ (mV/div) & 200 & 1 & 1 & 1 & 1 & 2.5 & 2.5 & 2.5 & 2.5 \\ \hline Max. cross & pulsed & & & & & & & & \\ talk (\%) & channel & 0.2 & 0.03 & 0.1 & 0.04 & 0.4 & 0.6 & 0.1 & 0.36 \\ \hline \end{tabular}
\end{table}
Table 7: Crosstalk observed at Grenoble when only one detection cell is pulsed, see text and figure 11.

2. The maximum crosstalk defined as the absolute value of the ratio between the maximum amplitude of the not pulsed channel and the maximum amplitude of the pulsed one, (same definition as in section 5.1).

The results of the crosstalk measurements are presented on figures 13 and 14 for both definitions. One can notice that the large crosstalk effects are concentrated in half a presampler sector, i.e. the one which contains the pulsed module. In addition the effect is more important in the channels next to the pulsed module, and is at least 4 times larger than what was measured at Grenoble. Actually, the first four modules are read-out through the same cable harness, whereas the last 4 modules are connected to another harness. On the other hand, the first 4 modules are supplied by the same calibration cable bundle (same low profile connector), whereas the other half is connected to a different bundle. In any case such crosstalk effects were not observed at Grenoble, despite the fact that the cabling of the presampler is the same, and therefore might be due to the CERN setup : in particular the connections in the feedthroughs.

## Annex 1 Response to an exponential pulse

In the following application, V(t) represents the response to an exponential pulse, t\({}_{sh}\) is the shaping time of the CR-RC\({}^{2}\) filter, t\({}_{d}\) = (50\(\Omega\)).C\({}_{d}\) where C\({}_{d}\) corresponds to the detection cell capacitance. An additional pole characterized by an integration time t\({}_{p}\) is also taken into account. The analytical expression of the voltage output using the inverse Laplace transforms [6] is :

\[V(t)=\mathcal{L}^{-1}\left(I(s)\times\mathcal{H}_{p}(s)\times\mathcal{H}_{ampl i}(s)\times\mathcal{H}_{sh\,per}(s)\right) \tag{6}\]

where :

* the Laplace transform of the input current is \(I(s)=I_{0}\left(\frac{1}{s+\frac{1}{t_{d}}}\right)\)
* \(\mathcal{H}_{p}(s)=\frac{1}{1+s.t_{p}}\), (additional pole)
* \(\mathcal{H}_{d}(s)=\frac{1}{1+s.t_{d}}\), (trasfert function of the amplifier)
* \(\mathcal{H}_{sh\,per}(s)=\frac{s.t_{sh}}{(1+s.t_{d})^{3}}\), (transfer function of the CR-RC\({}^{2}\) filter)

Therefore one can deduce that :

\[V(t)=t_{sh}\left(V_{1}(t)+V_{2}(t)+V_{3}(t)+V_{4}\left(V_{5}+V_{6}+V_{7}\right)\right) \tag{7}\]

where :

\[V_{1}(t)=-\frac{e^{-\frac{t}{t_{d}}}.t_{d}^{3}.t_{dr}}{\left(t_{d}-t_{dr} \right)\left(t_{d}-t_{p}\right)\left(t_{d}-t_{sh}\right)^{3}}+\frac{e^{-\frac{ t}{t_{dr}}}.t_{dr}^{4}}{\left(t_{d}-t_{dr}\right)\left(t_{dr}-t_{p}\right) \left(t_{dr}-t_{sh}\right)^{3}} \tag{8}\]

\[V_{2}(t)=-\frac{e^{-\frac{t}{t_{p}}}.t_{dr}.t_{p}^{3}}{\left(t_{d}-t_{p} \right)\left(t_{dr}-t_{p}\right)\left(t_{p}-t_{sh}\right)^{3}}-\frac{e^{-\frac {t}{s_{sh}}t^{2}t_{dr}}}{2\left(t_{d}-t_{sh}\right)\left(t_{dr}-t_{sh}\right) \left(t_{dr}-t_{sh}\right)t_{sh}\left(-t_{p}+t_{sh}\right)} \tag{9}\]

\[V_{3}(t)=-\frac{e^{-\frac{t}{t_{sh}}}.t.\left(-2.t_{d}.t_{dr}^{2}.t_{p}+t_{d}.t_{dr}^{2}.t_{sh}+t_{d}.t_{dr}.t_{p}.t_{sh}+t_{dr}^{2}.t_{p}.t_{sh}-t_{dr}.t_{ sh}^{3}\right)}{\left(t_{d}-t_{sh}\right)^{2}\left(-t_{dr}+t_{sh}\right)^{2}\left(-t_{ p}+t_{sh}\right)^{2}} \tag{10}\]\[V_{4}(t)=\frac{e^{-\frac{t^{\prime}}{t_{sh}}},t_{sh}}{\left(t_{dr}-t_{sh}\right)^{3 }\left(-t_{d}+t_{sh}\right)^{3}\left(-t_{p}+t_{sh}\right)^{3}} \tag{11}\]

\[V_{5}(t)=3.t_{d}^{2}.t_{dr}^{3}.t_{p}^{2}-3.t_{d}^{2}.t_{dr}^{3}.t_{p}.t_{sh}-3. t_{d}^{2}.t_{dr}^{2}.t_{p}^{2}.t_{sh}-3.t_{d}.t_{dr}^{3}.t_{p}^{2}.t_{sh}+t_{d}^{2}.t_{ dr}^{3}.t_{sh}^{2}+t_{d}^{2}.t_{dr}^{2}.t_{p}.t_{sh}^{2} \tag{12}\]

\[V_{6}(t)=t_{d}.t_{dr}^{3}.t_{p}.t_{sh}^{2}+t_{d}^{2}.t_{dr}.t_{p}^{2}.t_{sh}^{ 2}+t_{d}.t_{dr}^{2}.t_{p}^{2}.t_{sh}^{2}+t_{dr}^{3}.t_{p}^{2}.t_{sh}^{2}+6.t_{ d}.t_{dr}^{2}.t_{p}.t_{sh}^{3} \tag{13}\]

\[V_{7}(t)=-3.t_{d}.t_{dr}^{2}.t_{sh}^{4}-3.t_{d}.t_{dr}.t_{p}.t_{sh}^{4}-3.t_{ dr}^{2}.t_{p}.t_{sh}^{4}+t_{d}.t_{dr}.t_{sh}^{5}+t_{dr}^{2}.t_{sh}^{5}+t_{dr}.t_{ p}.t_{sh}^{5} \tag{14}\]

## Annex 2

**Transfert function of the CR-RC\({}^{2}\) filter**

The Fourier transform of the CR-RC\({}^{2}\) filter is :

\[H(\omega)=\frac{j\omega RC}{(1+j\omega RC)^{3}} \tag{15}\]

thus :

\[\left|H(\omega)\right|^{2}=\frac{\left(\omega t_{sh}\right)^{2}}{\left[1+\left( \omega t_{sh}\right)^{2}\right]^{3}}\quad where\quad t_{sh}=RC \tag{16}\]

The maximum of the frequency pass band is obtained for \(\omega_{max}=\frac{1}{\sqrt{2}\,t_{sh}}\) and therefore \(\left|H_{max}\right|^{2}=\frac{4}{27}\)

The expression :

\[\left|\frac{H_{max}}{H(\omega)}\right|^{2}=Att \tag{17}\]

leads to the equation :

\[Att.(\omega\tau)^{2}-\frac{4}{27}\left(1+(\omega\tau)^{2}\right)^{3}=0 \tag{18}\]

Numerical calculation can be done for Att=10000 and defines the following period interval :

\[T_{min,max}=\frac{2\pi.t_{sh}}{x_{max,min}} \tag{19}\]

where \(x_{max}=16.072\) and \(x_{min}=0.00385\).

Measurements were performed at Grenoble with a digital oscilloscope able to record up to 50000 points. These measurements were achieved with a period of \(\Delta\)T and a total duration of T=50000 \(\Delta\)T. Table 8 gives the time bandwidth (\(T_{min}\), \(T_{max}\)) and the measurement constraints (\(\Delta\)T, T) which were used, as a function of the shaping time t\({}_{sh}\). Actually to avoid correlation between each measurements (related to the shaping time value), the period intervalwhich was effectively used is slightly towards low frequencies.

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline t\({}_{sh}\)=RC (ns) & \(T_{min}\) (ns) & \(T_{max}\) (\(\mu\)s) & \(\Delta\)T (ns) & T (ms) \\ \hline
5 & 1.95 & 8.16 & 8 & 0.4 \\
7.5 & 2.93 & 12.2 & 8 & 0.4 \\
10 & 3.91 & 16.3 & 8 & 0.4 \\
15 & 5.86 & 24.5 & 8 & 0.4 \\
25 & 9.77 & 40.8 & 40 & 2 \\
35 & 13.7 & 57.1 & 40 & 2 \\
50 & 19.5 & 81.6 & 40 & 2 \\
75 & 29.3 & 122 & 40 & 2 \\
100 & 39.1 & 163 & 100 & 5 \\
150 & 58.6 & 245 & 200 & 10 \\
250 & 97.7 & 408 & 200 & 10 \\ \hline \end{tabular}
\end{table}
Table 8: Bandwidth of the CR-RC\({}^{2}\) filter.

## Annex 3 Electronic noise prediction curve

The electronic noise of the barrel presampler may be estimated from the front-end noise technical figures described in reference [8].

By performing an extrapolation of the results presented in [8], the Equivalent Noise Current (ENI) of any presampler cell can be parametrized by the following expression :

\[ENI(t_{p}[\mathrm{ns}],C_{d}[\mathrm{p}\mathrm{F}])[\mathrm{nA}]=\sqrt{\frac{6 \;10^{10}\left(\frac{C_{d}}{390}\right)^{3}}{t_{p}^{5}}+\frac{5\;10^{7}\left( \frac{C_{d}}{150}\right)^{1.45}}{t_{p}^{3}}+\frac{6\;10^{4}\left(\frac{C_{d}} {150}\right)^{0.16}}{t_{p}}}\;, \tag{20}\]

where : \(C_{d}\) is the presampler cell capacitance and \(t_{p}\) is the 5 to 100% peaking time of the cell response to a triangular current pulse when observed at the shaper output.

## Annex 4

Total, incoherent and coherent noise

Variance of the total noise can be decomposed into its coherent and incoherent contributions, (which in fact represents their mean values), i.e. :

\[\sigma^{2}_{tot./module}=N_{cells}\,\sigma^{2}_{incoh./cell}+N^{2}_{cells}\, \sigma^{2}_{coh./cell} \tag{21}\]

where N\({}_{cells}\) is the number of detection cells (or channels) per module.

For a particular channel (i) the noise variance in ADC counts is estimated by :

\[\sigma^{2}_{cell\ i}=\frac{1}{N_{evts}-1}\sum_{j=1}^{N_{evts}}(ADC_{j,cell\ i}- \overline{ADC}_{cell\ i})^{2} \tag{22}\]

where :

\[\overline{ADC}_{cell\ i}=\frac{1}{N_{evts}}\sum_{j=1}^{N_{evts}}ADC_{j,cell\ i} \tag{23}\]

Therefore by summing over the N\({}_{cells}\) detection cells of one module, it can be found :

\[\sigma^{2}_{tot./module}=\frac{1}{N_{evts}}\sum_{j=1}^{N_{evts}-1}\left( \left(\sum_{i=1}^{N_{cell\ i}}ADC_{j,cell\ i}\right)-\overline{ADC}_{module} \right)^{2} \tag{24}\]

where :

\[\overline{ADC}_{module}=\frac{1}{N_{evts}}\sum_{j=1}^{N_{evts}}\sum_{i=1}^{N_ {evl}s}ADC_{j,cell\ i} \tag{25}\]

The incoherent noise of a module can be estimated by multiplying the response of each channel by a coefficient \(\pm 1\), according the following mapping which shows the position of the 16 detection cells3 :

Footnote 3: Except for the module of type 8, where only the first 8 detection cells were taken into account.

\begin{tabular}{|c|c|c|c|c|c|c|} \hline +1 & -1 & +1 & -1 & +1 & -1 & +1 & -1 \\ \hline -1 & +1 & -1 & +1 & -1 & +1 & -1 & +1 \\ \hline \end{tabular}

This mapping is equivalent to the expression :

\[\sigma^{2}_{incoh./module}=\frac{1}{N_{evts}}\sum_{j=1}^{N_{evts}}\left( \left(\sum_{i=1}^{N_{evl|i}}(-1)^{(\Re_{cell\ i}\ i+\phi_{cell\ i})}ADC_{j,cell\ i} \right)-\overline{ADC}_{incoh./module}\right)^{2} \tag{26}\]with :

\[\overline{ADC_{incoh./module}}=\frac{1}{N_{evts}}\sum_{j=1}^{N_{evts}}\sum_{i=1}^{N _{celli}}(-1)^{(\eta_{cell\;i}+\phi_{cell\;i})}ADC_{j,cell\;i} \tag{27}\]

and where \(\eta_{cell\;i}\) and \(\phi_{cell\;i}\) are the position numbering of each detection cell.

The average coherent, incoherent and total noise variances per channel can be then easily deduced :

\[\sigma_{incoh./cell}^{2}=\frac{1}{N_{cell\;s}}\sigma_{incoh./module}^{2} \tag{28}\]

\[\sigma_{coh./cell}^{2}=\frac{1}{N_{cells}^{2}}\left(\sigma_{tot./module}^{2} -\sigma_{incoh./module}^{2}\right) \tag{29}\]

\[\sigma_{tot./cell}^{2}=\sigma_{incoh./cell}^{2}+\sigma_{coh./cell}^{2} \tag{30}\]

## Annex 5 Noise covariance matrix

The noise covariance matrix between two channels i and j is estimated by the expression :

\[\textit{cov}\left(i,j\right)=\frac{1}{N_{evts}-1}\sum_{l=1}^{N_{evts}}\left(ADC _{l,cell\;i}-\overline{ADC}_{cell\;i}\right)\left(ADC_{l,cell\;j}-\overline{ ADC}_{cell\;j}\right) \tag{31}\]

where the diagonal terms represent the channel variances. Interpretation of this matrix is model dependent. In our analysis, we assumed that \(ADC_{cell\;i}\) is the sum of two random variables, according to expression :

\[ADC_{cell\;i}=X_{i}^{\;incoh}+C^{coh}.\alpha_{i} \tag{32}\]

where the first term is supposed to involve an incoherent contribution whereas C\({}^{coh}\) represents the common source of coherent noise weighted by the vector \(\alpha_{i}\). Thus the covariance matrix takes on the form:

\[\textit{cov}\left(i,j\right)=\sigma_{\textit{incoh}}^{2}.\delta_{ij}+\sigma^ {2}\left(C^{coh}\right).\alpha_{i}.\alpha_{j} \tag{33}\]

where \(\sigma_{\textit{incoh}}\) is assumed to be constant for all channels, i.e :

\[\sigma_{\textit{incoh},\;i}=\sigma_{\textit{incoh}} \tag{34}\]

Furthermore, if \(\alpha_{i}\)=1 for any channel, then the matrix eigenvalues are:

\[\left(\sigma_{\textit{incoh}}^{2}+N_{cells}.\left(C^{coh}\right),\;\sigma_{ \textit{incoh}}^{2},\;...\;\;,\;\sigma_{\textit{incoh}}^{2}\right) \tag{35}\]

Coming back to the more general matrix, (equation 33), one can check that the eigenvector corresponding to the higher eigenvalue is equal to the vector \(\alpha_{i}\). Hence, average incoherent and coherent contributions can be easily determined. In addition, if the incoherent contribution is slightly dependent on the channel but remains much larger than the coherent one, then the quantities :

\[\textit{cov}\left(i,i\right)-\left(C^{coh}\right).\alpha_{i}^{2} \tag{36}\]

will give at first approximation the incoherent noise contribution channel per channel.

## References

* [1]**Mechanical design report of the barrel liquid argon presampler** H. Chakir et al. _ATLAS Note: ATL-LARG-98-100, ATL-CAL-99-001, (ATL-COM-CAL-99-001), Feb. 1998_
* [2]**Slanted or Straight Electrodes for the Barrel E.M. Presampler** J.Y. Hostachy and J. Collot _ATLAS Note: ATL-LARG-98-090, (ATL-A-PN-90), Feb. 1998_
* [3]**Specification book for the mother boards and the cabling of the barrel e.m. presampler** J.Y. Hostachy, J. Collot, D. Dzahini, P. Imbert, P. Perrodo _ATLAS Engineering Specification Note: ATL-AL-ISN-ES-8.0, June 97_
* [4]**Electronic tests of the barrel presampler mother boards** J.Y. Hostachy, B. Belhorma, D. Dzahini, J. Collot _ATLAS note: ATL-LARG-98-103, (ATL-COM-LARG-98-002), Aug. 1998_
* [5]**Electrical tests of E.M. barrel presampler sectors** B. Belhorma, J.Y. Hostachy, D. Dzahini, J. Collot _ATLAS Note: ATL-LARG-98-109, (ATL-COM-LARG-98-010), Nov. 1998_
* [6]**A fast monolithic shaper for the ATLAS e.m. calorimeter** R.L. Chase, C. de La Taille, J.P. Richer and N. Seguin-Moreau _ATLAS Note: LARG-NO-10, March 1995_
* [7]**The LAr tri-gain shaper** J. Collot, D. Dzahini, C. de La Taille, J.P. Richer, F. Lugier, J. Pascual and J. Teiger _ATLAS Note: LARG-NO-92, March 1998_
* [8]**New noise figures for the ATLAS E.M. calorimeter** C. de La Taille _ATLAS Note: LARG-NO-35, February 1996_Figure 2: Schematic diagrams of the test pulse injection systems. Upper : for modules of type 1 to 7, lower : for modules of type 8. (C\({}_{d}\) represents the detection cell capacitance).

Figure 3: Average response to current impulses. Upper: \(\delta\)-function injected into the calibration system, lower: impulse response for module of type 8.

Figure 4: Average response to triangular pulses for the module of type 5 immersed in liquid nitrogen. A theoretical fit is surimposed, see text.

Figure 5: Measured and fitted response of one channel of the module 2 when exponential test pulses are injected.

Figure 6: Total noise per channel for the module of type 2 as a function of the peaking time. Measurements are compared with a predictive curve drawn in full line.

Figure 7: Total, incoherent and coherent average noise per detection cell, as a function of the module type, (run 201306).

Figure 8: Noise covariance matrix related to module 1, (see annex 5 for definition). The lower part of the figure shows non-diagonal terms magnified, while diagonal ones are vertically cut.

Figure 9: Upper: eigenvalues of the noise covariance matrix shown in figure 8. Lower: incoherent noise as a function of the channel number for module 1. (For more information see also annex 5).

Figure 10: Crosstalk effect observed with the test bench in Grenoble at 77 K. The horizontal scale is 50 ns/div, whereas the vertical one is 1 mV/div except for curve # 1 where it is equal to 100 mV/div, see text.

Figure 11: Crosstalk effect observed with the test bench in Grenoble at room temperature, when only one detection cell is pulsed. Vertical scales are 1 mV/div for the upper figure and 2.5 mV/div for the lower one, except for curves # 1 where it is equal to 200 mV/div for both of them, see text.

Figure 12: Upper: response of pulsed cell (module 2); lower: response of not pulsed cell (module 1).

Figure 13: Crosstalk observed at CERN, (response of the module # 8 is not represented).

Figure 14: Maximum crosstalk observed at CERN, (response of the module # 8 is not represented).