## ATLAS NOTE

ATL-PHYS-PUB-2009-000

**The Trigger for Early Running**

The ATLAS Collaboration1

Footnote 1: This note is prepared by M. Aharrouche, A. Ahmad, C. Anastopoulos, X. Anduaga, I. Aracena, J-F. Arguin, O. Arnaez, S. Ask, J.T. Baines, D. Banfi, A. Bazan, K. Bechtol, C. Bee, P. Bell, W. Bell, M. Bellomo, K. Benslam, D. Berge, N. Berger, T. Berry, M Biglietti, K.M. Black, R.E. Blair, T. Bold, M. Bosman, E.V. Bouhova-Thacker, C. Bourdarois, A. Brandt, G. Brooijmans, G. Carolina, L. Carminati, D. Casadei, M.P. Casado, G. Cataldi, S. Caughron, A. Cerri, Y. Coadou, A. Coccaro, J. Cochran, P. Conde-Muino, F. Conventi, T. Cornelissen, K. Cranmer, G. Critelli, R. Coura Torres, A. Czyczula, D. Damazio, S. Demers, A. De Santo, J. Del Peso, B. Demirkoz, F. Derue, L. Di Caccio, Di Mattia A, K. Dindar, E. Dobson, M. Donega, A. Dos-Anjos, M.T. Dova, M-A. Dufour, S. Eckweiler, F. Ehrenfeld, T. Eifert, N. Ellis, M. Elsing, D. Emeliyanov, B. Laforge, W. Lampl, S. Laplace, D. Enoue Ferreira Lima, Y. Fang, O.L. Fedih, J. Ferland, M. Fiascaris, H. Flacher, L.R. Flores Castillo, M.J. Flowerdew, T.M. Fonseca Martin, D. Froidevaux, S. Gadomski, O. Gaumer, L.L. Gavrilenko, S. George, S Giagu, R. Gonalo, S. Gonzalez-Sevilla, G. Gorfine, C. Goy, I. Grabowska-Bold, S. Granacagnolo, K. Grimm, N. Kanaya, H.K. Hadavand, J. Haller, A. Hamilton, M. Hance, R. Hauser, B. Heinemann, J. Hoffman, T. Hryn'ova, O. Igonkina, M. Ishino, D. Joffe, A. Kaczmarska, A. Kalinowski, V. Kartvelishvili, A. Kasami, R. Kehoe, N. Kerschen, G. Khoriauli, G. Kilvington, H. Kim, J. Kirk, G.P. Kirsch, K. Koeneke, T. Koffas, I. Koletson, T. Kono, N. Konstantinidis, V.V. Kostyukhin, A. Kraznahorkay, H. Kurashige, R. Kwee, S. Laplace, T. LeCompte, F. Ledroit-Guillon, J.S.H. Lee, D. Lelas, T. Lenz, Z. Liang, W. Liebig, H. Lim, M. Losada, I. Ludwig, E. Lylcken, H. Ma, R. Mackeprang, N. Makovec, J. Masik, V.P. Maleev, L. Mandelli, J.-F. Marchand, F.F. Martin, S. Mitig, B.R. Mellado Garcia, A. Mincer, F. Monticelli, D. Moreno, A.K. Morley, E.J.W. Moyse, N. Nagano, G.A. Navarro, E. Nebot, C. Nelson, A. Neusiell, A. Nisati, C. Omachi, C. Osuna, C. Ozcan, K. Ozone, C. Padilla, E. Paganis, F. Parodi, J. Parsons, T. Pauli, E. Perez, V. Perez Reale, B. Petersen, T.C. Petersen, G. Pinzon, A. Poppleton, M. Primavera, K. Prokofiev, E. Ptacek, G. Redlinger, E. Richter-Was, A. Reinsch, I. Riu Dachs, D. Rodriguez, Y. Rodriguez, S. Rosati, A. Ruiz-Martinez, D. Rousseau, A. Saavedra, B. Salvachua, F. Salvatore, A. Salzburger, H. Sandaker, C. Santamarina Rios, M. Schram, C. Schiavi, C. Schmitt, S. Schmitt, A. Schwartzman, A. Sidoti, G. Siragusa, S. Sivoklokov, M. Smizanska, S. Snyder, A. Solodkov, S. Spagnolo, J. Stelzer, D. Strom, M.R. Sutton, M.C. Tamsett, S. Tarem, Z. Tarem, J. Tojo, E. Torrence, M.F. Tripiana, V. Tsuluia, E. Turlay, G. Unal, G. Usai, B. Vachon, A. Ventura, V. Vercesi, E. Vichou, M. Wang, G. Watts, A.T. Watson, A.R. Weidberg, W. Wiedermann, M. Wielers, H. Wilkens, A. Wildauer, I Wingerter-Seez, E. Woehrling, X. Wu, S. Xella, J. Yu, D. Zerwas, N. Zhou, H. Zhu.

###### Abstract

The ATLAS trigger and data acquisition system is based on three levels of event selection designed to capture the physics of interest with high efficiency from an initial bunch crossing rate of 40 MHz. The selections in the three trigger levels must provide sufficient rejection to reduce the rate to 200 Hz, compatible with offline computing power and storage capacity. The LHC is expected to begin its operation with a peak luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) with a relatively small number of bunches, but quickly ramp up to higher luminosities by increasing the number of bunches, and thus the overall interaction rate. Decisions must be taken every 25 ns during normal LHC operations at the design luminosity of \(10^{34}\) cm\({}^{-2}\) s\({}^{-1}\), where the average bunch crossing will contain more than 20 interactions. Hence, trigger selections must be deployed that can adapt to the changing beam conditions while preserving the interesting physics and satisfying varying detector requirements. In this paper, we provide a menu of trigger selections that can be deployed during the startup phase at each trigger level and show its evolution to higher luminosities. The studies presented in this paper are based on simulated data.

Introduction

The ATLAS trigger [1, 2] is composed of three levels of event selection: Level 1 (L1) [3] which is hardware-based using ASICs and FPGAs, the Level 2 (L2) and Event Filter (EF) (collectively referred to as the High Level Trigger or HLT [4]) based on software algorithms analyzing the data on large computing farms. The three levels of the ATLAS trigger system must reduce the output event storage rate to \(\sim\)200 Hz (about 300 MB/s) from an initial LHC bunch crossing rate of 40 MHz. It is evident from Fig. 1 that large rejection against QCD processes is needed while maintaining high efficiency for low cross section physics processes that include searches for new physics.

During the ATLAS startup phase, where low luminosity conditions (10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\)) are expected to prevail, the focus of the trigger selection strategy will be to commission the trigger and the detector and to ensure that established Standard Model processes are observed. It is therefore important to deploy loose selection criteria at each stage. In early operations many triggers will operate in pass-through mode, which entails executing the trigger algorithms but accepting the event independent of the algorithmic decision. This allows the trigger selections and algorithms to be validated to ensure that they are robust against the varying beam and detector conditions that are hard to predict before data-taking. As the luminosity increases, the use of higher thresholds, isolation criteria and tighter selections at HLT become necessary to reduce the background rates while achieving selection of interesting physics with high efficiency.

This note describes the possible triggers that can be deployed during the initial low luminosity running and discusses the strategy for triggering as the LHC ramps up to its design luminosity of 10\({}^{34}\) cm\({}^{-2}\) s\({}^{-1}\). The performance of the various trigger algorithms at each of the three trigger levels is described in a set of additional accompanying notes. It should be emphasized that the rate estimates discussed in this note are based on simulations and are subject to several sources of uncertainty which include lack of knowledge of the exact cross-sections, detector performance, and beam related background conditions. Observations with early data will allow validation of these estimated rates and extrapolations to higher luminosities.

## 2 Level 1 trigger

The Level 1 trigger system receives data at the full LHC bunch crossing rate of 40 MHz and must make its decision within 2.5 \(\mu\)s to reduce the output rate to 75 kHz (\(\sim\)40 kHz during ATLAS start-up). The L1 trigger has dedicated access to data from the calorimeter and muon detectors. The L1 calorimeter trigger [5] decision is based on the multiplicities and energy thresholds of the following objects observed in the ATLAS Liquid Argon [6] and Tile [7] calorimeter sub-system: Electromagnetic (EM) clusters, taus, jets, missing transverse energy (\(\not{E}_{T}\)), scalar sum \(E_{T}\) (\(\sum E_{T}\)) in calorimeter, and total transverse energy of observed L1 jets (\(\sum E_{T}\)(jets)). These objects are computed by the L1 algorithms using the measured \(E_{T}\) values in trigger towers of \(0.1\times 0.1\) granularity in \(\Delta\eta\times\Delta\phi\). The L1 muon trigger [8] uses measurement of trajectories in the different stations of the muon trigger detectors: the Resistive Plate Chambers [9] (RPC) in the barrel region and the Thin Gap Chambers [8] (TGC) in the endcap region. The input to the trigger decision is the multiplicity for various muon \(p_{T}\) thresholds.

There are a limited number of configuration choices that are available at L1. The most common difference between configuration choices is the amount of transverse energy or momentum required, so we refer to these configurations as "thresholds," but note that in addition to the \(E_{T}\) threshold condition, three different isolation criteria can be applied for L1 EM and tau objects, and three different window sizes can be specified for L1 jet objects. Table 1 gives the number of these so-called thresholds that can be set for each object type. The total number of thresholds allowed for EM and tau objects is 16, where 8 are dedicated to be EM objects and 8 can be configured to be either EM or tau objects. The forward jets have four thresholds that can be set independently in each of the detector arms.

The total number of allowed L1 configurations (also called L1 items) that can be deployed at any time is 256. Each of these L1 items, programmed in the Central Trigger Processor (CTP) [10], is a logical combination of the specified multiplicities of one or more of the configured L1 thresholds. As an example L1_EM25i and L1_EM25 (A single L1 EM object with \(E_{T}>25\) GeV with and without isolation respectively) uses two L1 EM thresholds while L1_2EM25i (Two L1 isolated EM object with \(E_{T}>25\) GeV) uses the same L1 threshold as the L1_EM25i item. Furthermore, for each of the 256

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|} \hline Object & EM & Taus & Jets & For. Jets & \(\not{E}_{T}\) & \(\sum E_{T}\) & \(\sum E_{T}(jets)\) & \(\mu_{\leq 10\) GeV} & \(\mu_{>10\) GeV} \\ \hline \# of thresholds & 8 - 16 & 0 - 8 & 8 & 4+4 & 8 & 4 & 4 & 3 & 3 \\ \hline \end{tabular}
\end{table}
Table 1: Number of L1 thresholds that can be set for each L1 object type at any given time (see text for details).

Figure 1: Expected event rates for several physics processes at the LHC design luminosity.

L1 items, a prescale factor N can be specified (where only 1 in N events is selected and passed to the HLT for further consideration). As the peak luminosity drops during a fill, the L1 prescale value can be adjusted to keep the output bandwidth saturated without stopping and restarting a data-taking run, if desired. A given data-taking run is sub-divided into time intervals of the order of one minute. These sub-divisions, called luminosity blocks [11], provide the smallest granularity at which various data will be monitored and available for physics analysis. The trigger configuration, including the L1 prescale settings, remains unchanged within this luminosity block and adjustments to L1 prescale factors will be made on luminosity block boundaries.

## 3 Level 2

The L2 trigger is software-based, with the selection algorithms running on a farm of commodity PCs. The selection is largely based on regions-of-interest (RoI) identified at L1 and uses fine-grained data from the detector for a local analysis of the L1 candidate. A seed is constructed for each trigger accepted by L1 that consists of a \(p_{T}\) threshold and an \(\eta\)-\(\phi\) position. The L2 algorithms use this seed to construct an RoI window around the seed position. The size of the RoI window is determined by the L2 algorithms depending on the type of triggered object (for example, a smaller RoI is used for electron triggers than for jet triggers). The L2 algorithms then use the RoI to selectively access, unpack and analyze the associated detector data for that \(\eta\)-\(\phi\) position. The ability to move, unpack, and analyse the local data only around the seed position greatly reduces both the processing times and the required data bandwidth.

The L2 algorithms provide a refined analysis of the L1 features based on fine-grained detector data and more optimal calibrations to provide results with improved resolution. They provide the ability to use detector information that is not available at L1, most notably reconstructed tracks from the Inner Detector. The information from individual sub-systems can then be matched to provide additional rejection and higher purity at L2. For each L1 RoI, a sequence of L2 algorithms is executed which compute event feature quantities associated with the RoI. Subsequently, a coherent set of selection criteria is applied on the derived features to determine if the candidate object should be retained.

The L2 farm will consist of around 500 quad-core CPUs. On average, the L2 can initiate the processing of a new event every 10 \(\mu\)s. The average processing time available for L2 algorithms is 40 ms, which includes the time for data transfers. The L2 system must provide an additional rejection compared to L1 of about 40 to reduce the output rate down from \(\sim\)75 (40) kHz to \(\sim\)2 (1) kHz during nominal (startup) operations.

## 4 Event Filter

The final online selection is performed by software algorithms running on the Event Filter (EF), a farm of processors that will consist of 1800 dual quad-core CPUs. The EF receives events accepted by L2 at a rate of 2 kHz (1 kHz) during nominal (startup) operations and must provide the additional rejection to reduce the output rate to \(\sim\)200 Hz, corresponding to about 300 MB/s. An average processing time of 4 s per event is available to achieve this rejection. The output rate from the Event Filter is limited by the offline computing budget and storage capacity.

As in L2, the EF works in a seeded mode, although it has direct access to the complete data for a given event as the EF selection is performed after the event building step. Each L2 trigger that has been accepted can be used to seed a sequence of EF algorithms that provide a more refined and complete analysis. Unlike L2, which uses specialized algorithms optimized for timing performance, the EF typically uses the same algorithms as the offline reconstruction. The use of the more complex pattern recognition algorithms and calibration developed for offline helps in providing the additional rejection needed at the EF.

Trigger rate estimation

Trigger rates have been estimated using a sample of simulated events. The design of a specific trigger menu often requires several iterations of selection optimization to ensure that the output rate is within allowed bandwidths and that interesting physics is triggered with high efficiency.

The first step in approximating trigger rates is to choose an appropriate input simulation sample. Most trigger selections are dominated by backgrounds from common processes, so samples with large physics cross-sections are generally used. However, these typically contain very few events that satisfy the trigger criteria and hence a very large number of events are required to obtain adequate statistical uncertainties on the estimated rates. In order to design the trigger menu for a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\), a minimum-bias dataset containing seven million non-diffractive events with a cross-section of approximately 70 mb was used. To estimate the trigger rates with comparable statistical uncertainties for higher luminosities would require prohibitively large generated samples, hence other approaches are being pursued. These include using a combination of QCD and minimum bias event samples or alternatively using the so-called enhanced bias sample. The enhanced bias sample is a loosely filtered minimum bias sample requiring the lowest L1 \(p_{T}\) thresholds for muon, EM, or jet to have been fulfilled. Only events that pass the filtering process are reconstructed, resulting in a much more effective use of the computing resources. In addition to QCD processes, other high cross-section physics processes, such as \(W\) and \(Z\) boson production, need to be considered for estimating trigger rates at very high luminosities. Although such simulated samples provide a reasonable starting point to establish a data taking menu, these trigger menus will evolve as our understanding of the detector and trigger evolve, and as the physics requirements mature. Once data taking operations begin, dedicated data samples for further menu optimization and rate estimations will be collected.

In order to compute the initial trigger rates, the full trigger simulation (L1, L2, and EF) is executed on a minimum bias data sample generated with PYTHIA [12] and simulated with realistic detector effects in Geant4 [13]. The rate estimates presented in this paper are based on an analysis of seven million minimum-bias events. At a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) each unprescaled event corresponds to a rate of about 0.1 Hz. These raw rates are subsequently weighted for any applied prescale factors, which allows more accurate rate measurements as it makes use of all the events in the data sample. For each level, the individual trigger rates are computed using the equation

\[\mathrm{R}=\mathcal{L}\times\frac{\mathrm{n}_{\mathrm{accepted}}}{\mathrm{n }_{\mathrm{total}}}\times\frac{1}{\prod_{\mathrm{l=lowest\;level}}^{\mathrm{ current\;level}}\mathrm{P}_{\mathrm{l}}}\times\sigma \tag{1}\]

where \(R\) is the rate at the current level, \(\mathcal{L}\) is the instantaneous luminosity, \(P_{\mathrm{l}}\) is the prescale factor applied at a specific level, \(n_{accepted}\) is the number of events accepted after the specific trigger level studied (and hence all the previous lower levels as well), and \(n_{total}\) is the total number of events in the dataset and \(\sigma\) is the cross section.

Trigger rates are estimated by assigning a probability for an event to have been accepted. The computation of rates based on probabilities makes maximal use of the available set of simulated events from a statistical point of view. The probability \(Pr_{i}\) of an event being accepted by a trigger item \(i\) is given by:

\[\mathrm{Pr}_{\mathrm{i}}(\mathrm{event})=\mathrm{D}_{\mathrm{i}}(\mathrm{ event})/\mathrm{P}_{\mathrm{i}}, \tag{2}\]

where \(D_{i}\) is the decision probability accepting an event when no prescale factor is applied, and \(P_{i}\) is the overall prescale associated with the trigger item.

In order to compute the overall acceptance rate of a specific menu, the overlap in acceptance from different trigger items needs to be correctly taken into account. The probability that two triggers accept an event simultaneously is then given by:\[\mathrm{Pr_{12}(evt)=Pr_{1}(evt)\times Pr_{2}(evt).} \tag{3}\]

The overall probability of accepting an event in a menu of two triggers, including their correlations, is thus given by

\[\mathrm{Pr_{menu}(evt)=Pr_{1}(evt)+Pr_{2}(evt)-Pr_{1}(evt)\times Pr_{2}(evt)} \tag{4}\]

This computation, although simple in the case of two triggers, becomes increasingly complex as the number of items in the menu increases. Fortunately, this problem can be solved recursively. Dedicated tools employing these methods have been developed to compute trigger acceptance rates and overlaps for various trigger menus.

## 6 Trigger menu for a luminosity of 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\)

The initial LHC startup luminosity is expected to be approximately 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\) with a low number of bunches in the machine. These conditions will be ideal for commissioning the trigger and detector systems, as well as for the initial data taking, which will be dedicated to high cross section Standard Model signatures. Hence, the trigger selections deployed during this early running phase will primarily be a combination of low \(p_{T}\) thresholds and loose selection criteria. Triggers at higher selection stages will be operated in pass-through mode wherever possible.

Trigger menus are tables of triggers that incorporate the signatures for various physics objects at each of the three trigger levels. These signatures fully specify the thresholds and selection criteria at each level, providing a recipe for triggering on various physics processes. Each signature is considered carefully addressing its physics goals, the efficiency and background rejection it provides for meeting these goals and the trigger bandwidth it consumes. Trigger menus also must include additional triggers for trigger validation, monitoring, calibration and measuring the performance of the physics triggers. With these considerations, a trigger menu for the startup phase has been developed. The rates have been estimated using the previously described simulated minimum-bias events.

The following notation is used to label the different trigger items: e (electron), g (photon), EM (electromagnetic), J (jets), FJ (forward jets), XE (Missing \(E_{T}\)), TE (Total scalar sum \(E_{T}\)), JE (Scalar sum of jet \(E_{T}\)), MU (muons), and tau (tau leptons). A typical example of a trigger item is 2e15i (two isolated electrons with a \(p_{T}\) greater than 15 GeV) or tau20i_XE30 (an isolated tau decaying hadronically with visible \(p_{T}\) above 20 GeV and \(\not{E}_{T}\) above 30 GeV). A prefix to the item name is used to specify the trigger level at which the item is deployed. If the presence of several trigger object types are required, the AND of these multiple object types is shown using an "-", for example, tau25i_XE30 requires an isolated tau lepton with a \(p_{T}\) above 25 GeV AND a Missing ET above 30 GeV (when objects are combined with no qualifier a simpler notation can be used, for example, \(e+\mu\) for a trigger with an electron and a muon).

### L1 items foreseen for a luminosity of 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\)

All rates given in this section are measured using simulated events with a luminosity of 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\). Table 2 shows a potential set of EM L1 signatures, their prescale factors and estimated rates that could be deployed during start-up for an assumed luminosity of 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\). It shows the eight L1 EM thresholds and the multi-EM object thresholds that are direct combinations of the single EM thresholds. At low luminosities, a single non-isolated trigger of 7 GeV can be used without the application of prescale factors at the first trigger level with a rate of about 5 kHz. All multi-object EM triggers at L1 have sufficiently low trigger rates and can be deployed without the application of any prescale factors. The total L1 output rate out for the EM objects defined in Table 2 is about 10 kHz after correctly accounting for events that have passed multiple L1 EM object signatures. The L1 EM object triggers are then used to seed both electron and photon signatures at the HLT.

Several higher threshold signatures are deployed with and without isolation, even though lower thresholds can be deployed without the application of prescale factors at low luminosities. This allows the validation of the higher thresholds and trigger items that will be needed at high luminosities when the lower threshold triggers can only be deployed with prescale factors due to rate considerations.

The inclusive L1 jet trigger items and corresponding prescale factors, as shown in Table 3, are chosen to given an approximately flat trigger rate across the steeply falling jet \(E_{T}\) spectrum. At a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\), a single jet trigger with a threshold \(E_{T}\) of 120 GeV can be deployed without prescale factors and has a L1 output rate of about 8 Hz. Figure 2 shows that triggered jet \(E_{T}\) spectrum is fairly flat up to the threshold value of 120 GeV and then falls with the jet cross section. This strategy provides sufficient statistics across the \(E_{T}\) spectrum for the measurement of the differential cross sections and for measuring the efficiencies and performance of different algorithms.

At a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\), the HLT algorithms for the inclusive jet triggers are run in pass-through mode with the rate controlled only by using L1 prescale factors. This allows validation of the HLT algorithms for jet triggers that can then be deployed at higher luminosities.

Unlike single jet triggers, where the output rates are controlled by applying prescale factors at L1, jet triggers with higher multiplicities (multi-jets) have a larger allocated L1 output bandwidth to allow the use of additional selection algorithms only applicable at the HLT (e.g. b-tagging). Their total output rate to disk storage is subsequently controlled at the HLT with either a combination of jet algorithms and additional prescale factors (leading to normal jet signatures) or additional highly reflective selections, (e.g. b-tagging algorithms leading to b-jet signatures).

The prescale factors and rates for forward jet triggers are shown in Table 4. The HLT algorithms at low luminosity are executed in pass-through mode with rates controlled using L1 thresholds and prescale factors.

Table 5 shows the rates for the suite of single muon and dimuon signatures; these triggers can all be deployed at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) without L1 prescale factors with further selection at HLT to control the output rates. Three of the six available muon thresholds must be established below \(p_{T}\) of 10 GeV and are based on a coincidence of only two of the inner three stations. The lowest possible muon threshold of 4 GeV is set by opening the coincidence window in the two stations to the maximum allowed size.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|} \hline Trigger Item & EM3 & EM7 & EM13 & EM13I & EM18 & EM18I & EM23I & EM100 \\ \hline Prescale & 60 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \hline Rate (Hz) & 674 & 4900 & 950 & 480 & 369 & 143 & 53 & 1.5 \\ \hline \hline Trigger Item & 2EM3 & 2EM7 & 2EM13 & 2EM13I & 2EM18 & 2EM18I & 2EM23I & 3EM7 \\ \hline Prescale & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \hline Rate (Hz) & 6500 & 534 & 108 & 8 & 47 & 2 & 0.6 & 53 \\ \hline \end{tabular}
\end{table}
Table 2: L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for electromagnetic objects.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|c|c|} \hline Trigger Item & J10 & J18 & J23 & J35 & J42 & J70 & J120 & 3J10 & 3J18 & 4J10 & 4J18 & 4J23 \\ \hline Prescale & 42000 & 6000 & 2000 & 500 & 100 & 15 & 1 & 150 & 1 & 30 & 1 & 1 \\ \hline Rate (Hz) & 4 & 1 & 1 & 1 & 4 & 4 & 9 & 40 & 140 & 40 & 20 & 7 \\ \hline \end{tabular}
\end{table}
Table 3: L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for jet objects.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|} \hline Trigger Item & FJ18 & FJ35 & FJ70 & FJ120 & 2FJ18 & 2FJ35 \\ \hline Prescale & 7000 & 700 & 20 & 1 & 100 & 1 \\ \hline Rate (Hz) & 1 & 1 & 1 & 1 & 1 & 2 \\ \hline \end{tabular}
\end{table}
Table 4: L1 trigger items and estimated rates at 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for forward jet objects.

Figure 2: Jet \(E_{T}\) spectrum at 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\) before (dashed) and after (solid) pre-scaling at L1.

The remaining three high \(p_{T}\) threshold L1 muon triggers (\(p_{T}>10\)  GeV) require a coincidence in all three muon trigger stations. The largest contribution to the rates shown in Figure 3 come from b, c quark decays and in-flight decays of pions and kaons. The L1 muon trigger is highly efficient (99%) for \(p_{T}\) above the threshold values within the fiducial acceptance of the detector.

Some of the signatures and estimated rates for single and double tau triggers at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) are shown in Table 6. The triggers at low luminosity are chosen to collect large statistics of \(W\) and \(Z\) boson decays to tau leptons. For \(W\) boson decays, additional cuts on \(\not\!\!E_{T}\) help reduce the rates. However, reliance on \(\not\!\!E_{T}\) is limited during startup as it is very sensitive to several detector and acceptance effects, and will take time to validate. Alternative approaches that use \(\not\!\!E_{T}\) only in the Event Filter seeded with a single tau signature at L1 are being studied. In addition to the \(2\tau\) triggers at L1, \(\tau+e\) and \(\tau+\mu\) triggers have been implemented at L1 to trigger on \(Z\rightarrow\tau\tau\) decays with one of the taus decaying leptonically.

The eight \(\not\!\!E_{T}\) thresholds likely to be deployed at the L1 stage are shown in Table 7. The strategy here is similar in nature to that of the jet triggers, with L1 prescale factors tuned to provide a flat rate across the \(\not\!\!E_{T}\) spectrum. The reliance on inclusive \(\not\!\!E_{T}\) trigger will be small especially during the early running

Figure 3: Estimated muon trigger rate for a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\). Shown are the total rates and various contributions.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|} \hline Trigger Item & MU4 & MU6 & MU10 & MU15 & MU20 & MU40 \\ Rate (Hz) & 1730 & 640 & 360 & 30 & 20 & 10 \\ \hline \hline Trigger Item & 2MU4 & MU4\_MU6 & 2MU6 & 2MU10 & 2MU20 & 3MU6 \\ Rate (Hz) & 70 & 45 & 14 & 7 & 0.2 & 0.7 \\ \hline \end{tabular}
\end{table}
Table 5: L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for muon objects.

period as it is sensitive to various detector effects that will require time to understand. Most of the \(\not{E}_{T}\) thresholds are expected to be used in combination with other signatures.

In addition to the \(\not{E}_{T}\) trigger thresholds, there are four thresholds available for the scalar sum \(E_{T}\) (TE) and the scalar sum \(E_{T}\) of observed L1 jets (JE). As for the \(\not{E}_{T}\) triggers, reliance on such triggers will be limited in the early running period, but could prove to be valuable to ensure that very high \(E_{T}\) events are recorded. Table 8 shows the selections, the pre-scale factors necessary to achieve the desired rate reduction, and estimated L1 output rates for the TE and JE triggers that could be deployed at startup.

In addition to L1 triggers that rely on thresholds and multiplicities of a single object type (EM, Jet, muon etc.), several triggers are formed by combining multiple L1 object types (e.g: EM + muon, Jet + missing \(E_{T}\)  etc.). Table 9 shows some of the typical combined signatures and their estimated rates. The rates for these triggers are generally small because they combine objects of different types at L1 and can thus be executed without prescale factors. Combining object types at L1 provides a mechanism to control the rates while maintaining low enough thresholds to meet the physics goals of the trigger. Even though single object triggers may suffice for low luminosity running, it is necessary to deploy the multi-object triggers at low luminosity to validate them and ensure their reliability as the LHC moves to high luminosity operations.

### HLT signatures foreseen for a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\)

During low luminosity running, most of the triggers at Level 2 and Event Filter are either executed in pass-through mode or with loose selections. Table 10 shows some of the lowest threshold trigger items that can be executed without applying prescale factors and their estimated rates for \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\). Higher

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|} \hline Signature & tau6 & tau9I & tau11I & tau16I & tau25 & tau25I & tau40 \\ \hline Prescale & 750 & 300 & 1500 & 10000 & 20 & 10 & 1 \\ Rate (Hz) & 19 & 16 & 2 & \(<0.1\) & 16.1 & 25 & 83 \\ \hline \hline Signature & 2tau6 & 2tau9I & 2tau16I & tau6\_tau16I & tau9I\_EM13I & tau9I\_MU6 & tau9I\_XE30 \\ \hline Prescale & 100 & 1 & 1 & 10 & 1 & 1 \\ Rate (Hz) & 19 & 413 & 65 & 46 & 100 & 25 & 160 \\ \hline \end{tabular}
\end{table}
Table 6: L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for tau objects.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|} \hline Trigger Item & TE150 & TE250 & TE360 & TE650 & JE120 & JE220 & JE280 & JE340 \\ \hline Prescale & 100k & 1100 & 40 & 1 & 150 & 10 & 2 & 1 \\ \hline Rate (Hz) & 2 & 3 & 1 & 0.5 & 0.5 & 0.5 & 0.5 & 0.1 \\ \hline \end{tabular}
\end{table}
Table 8: L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for the scalar \(\sum E_{T}\) (TE) and \(\sum E_{T}^{jet}\) (JE) triggers.

threshold triggers, which will become important during high luminosity running are also deployed so that they can be validated with early data.

Figure 4 shows a graphical summary of the EF output rates for each trigger group and the cumulative rates, which provide a running total of the rates. The sum of the rates for all the trigger groups is more than the cumulative rates due to overlaps between the groups. The grouping is done as follows: single and multi-object triggers of the same object type are grouped together, hence "Electrons" refers to the

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|} \hline Trigger Item & e12 & 2e5 & g20 & tau60 & tau25i\_XE30 & MU10 & 2MU4 & e10\_MU6 & J120 & 4J23 & 2b23 \\ \hline Rate (Hz) & 19 & 7 & 7 & 10 & 3.5 & 18 & 2.3 & 0.5 & 9 & 7 & 3 \\ \hline \end{tabular}
\end{table}
Table 10: Examples of low threshold trigger terms executed without prescale factors and estimated rates that can be deployed at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\).

Figure 4: HLT unique (black) and cumulative (gray) estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for different trigger groups as described in the text.

\begin{table}
\begin{tabular}{|l|c|c|c|c|} \hline Trigger Item & EM13\_XE20 & EM7\_MU6 & MU11\_XE15 & MU10\_J18 \\ \hline \hline Rate (Hz) & 225 & 10 & 13 & 33 \\ \hline \hline Trigger Item & 2J42\_XE30 & 4J23\_EM13I & 4J23\_MU11 & EM131\_J42\_XE30 \\ \hline Rate (Hz) & 13 & 6.5 & 1 & 6.5 \\ \hline \end{tabular}
\end{table}
Table 9: A representative list of L1 trigger items and estimated rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for triggers combining several object types. The “-” notation is used to show the AND between two object types.

total rates estimated for all single and multi-electron triggers including triggers executed with prescale factors and in pass-through mode. "\(B\)-Physics and Topological" refers primarily to \(B\)-physics triggers and other triggers where invariant mass cuts have been applied during the selection process, such as in selection of \(J/\psi\), \(\Upsilon\), and \(Z\) decays. The "Other Topological" triggers require two or more object types, such as \(e+jets\), \(\tau+\not{E}_{T}\) etc.

The trigger grouping and associated rates are shown in finer detail in Table 11 for each of the trigger levels. The rates for each trigger grouping accounts for overlaps between signatures in that group, but not across groups. The "Total" row gives the cumulative rates for this trigger menu, accounting for overlaps between the trigger groups as well. The total output rates for each trigger level, for the proposed trigger menu at a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\), is estimated to be within the available bandwidth, although there are large uncertainties inherent in the simulation. The estimated rate out of L1/L2 is 12 kHz/620 Hz well below their respective targets of 40 kHz and 1 kHz available during the LHC startup phase. The selections have been tuned to yield the targeted EF output rate of 200 Hz, but it is evident that this preliminary trigger list will need to be optimized based on early experience with real data.

## 7 Data streams

ATLAS has adopted an inclusive streaming model whereby raw data events can be streamed to one or more files based on the trigger decision. A proposed initial streaming configuration consists of four raw

\begin{table}
\begin{tabular}{|l|c|c|c|} \hline Object & L1 (Hz) & L2 (Hz) & EF (Hz) \\ \hline \hline Single-electrons & 5580 & 176 & 27.3 \\ Multi-electrons & 6490 & 41.1 & 6.9 \\ Multi-photons & common & 2.9 & \(<\) 0.1 \\ Single-photons & common & 33.4 & 9.1 \\ Multi-Jets & 221 & 7.9 & 7.9 \\ Single-Jets & 24.4 & 24.4 & 24.4 \\ Multi-Fjets & 2.7 & 2.7 & 2.7 \\ Single-Fjets & 3.7 & 3.7 & 3.7 \\ Multi-bjets & common & 12.9 & 2.6 \\ Single-bjets & common & 11.6 & 11.6 \\ Multi-taus & 465 & 14.5 & 12.4 \\ Single-taus & 148 & 32.9 & 22.3 \\ Multi-muons & 68.6 & 5.8 & 2.3 \\ Single-muons & 1730 & 204 & 21.8 \\ Missing \(E_{T}\) & 37.9 & 31. & 3.8 \\ Total \(E_{T}\) & 6.3 & 6.3 & 1 \\ Total Jet \(E_{T}\) & 1.6 & 1.6 & 1.6 \\ BPhysics & common & 25 & 13 \\ Muti-Object & 5890 & 134 & 48 \\ Minimum Bias & 1000 & 10 & 10 \\ \hline
**Total** & **12000** & **620** & **197** \\ \hline \end{tabular}
\end{table}
Table 11: L1, L2, and EF estimated rates for several groups of trigger items at a luminosity of \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\). The total rate accounts for overlaps between the groups. The L1 objects labeled “common” have the same L1 triggers as other object types and hence do not require any additional L1 bandwidth.

data streams called egamma, jetTauEtmiss, muons, and minbias. Each stream consists of events that pass one or more trigger signatures. The stream names indicate the type of trigger signatures they will contain, for example, events passing electron or photon triggers will be written to the egamma stream. Events passing certain topological triggers could be written to more than one stream. Two examples, \(e+\not{E}_{T}\) and \(e+\mu\), can be used to demonstrate the two possible modes for streaming events that pass a topological trigger. For the \(e+\not{E}_{T}\) signature, events are only written to the egamma stream unless they also pass an inclusive \(\not{E}_{T}\) signature after pre-scaling, in which case they are also written to the jetTauEtmiss stream. For the \(e+\mu\) signature, events are written to both egamma and muon stream regardless of whether they pass the inclusive single electron or single muon trigger.

Streams are chosen to have approximately the same proportion of events and to keep the total overlap (event duplication across streams) to less than 10%. The final optimization of these streams can only be achieved with an understanding of the overlaps observed with real data. Furthermore, the number and type of raw data streams may be optimized for use at different luminosity settings.

Table 12 shows the total and the unique rates of the proposed early stream configuration. The unique rate reflects the number of events written solely to the specified stream, hence the difference between the total rate and the unique rate is the rate of replicated events in each stream.

As shown in the Table, in addition to the raw data streams, an express stream and a calibration stream have also been defined. An express stream containing a subset of triggers can be used to provide rapid feedback on the quality of the data. It is therefore reconstructed first and any relevant knowledge of the quality of data is incorporated into the reconstruction of the remaining streams. Events in express stream are primarily intended for monitoring and not for physics analysis. Hence, by definition, events appearing in express stream would also appear in one of the primary raw data streams.

Additional triggers required for detector calibration can be run in a parasitic mode during data taking operations. These include triggers that provide data needed for detector alignment and energy scale determination. Such data can be written to their own raw data stream with the advantage of being processed early and the extracted calibration constants used as part of the bulk reconstruction of the primary raw data streams.

## 8 Evolution to higher luminosities

Experience with early running will allow further optimization of the trigger algorithms and menus and improve the ability to estimate rates in the high luminosity regime. As the LHC ramps up to its design luminosity, complex trigger signatures with multiple observables, higher \(p_{T}\) thresholds and tighter selections will be deployed to maintain the output Event Filter rates at about 200 Hz.

As noted in Section 2, there are a limited number of L1 thresholds available for each object type. The intent is to keep the L1 thresholds as stable as possible. With increasing luminosity, higher L1 thresholds need to be introduced at the expense of some of the lower thresholds. However, many of the thresholds

\begin{table}
\begin{tabular}{|l|c|c|} \hline Stream & Total Rate (Hz) & Unique Rate (Hz) \\ \hline egamma & 55 & 48 \\ muon & 35 & 29 \\ jetTauEtmiss & 104 & 89 \\ minBias & 10 & 10 \\ express & 18 & 0 \\ calibration & 15 & 13 \\ \hline \end{tabular}
\end{table}
Table 12: Total and unique rates at \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) for a selected raw data stream configuration.

will be retained providing common points of comparison across luminosity regimes. At high luminosity, the luxury of running in pass-through mode or with loose selections will not be possible, and tighter HLT selections will be implemented to achieve the required rejection. For example, jet triggers that used only the L1 prescale to control the rates at low luminosity, will enable the HLT at high luminosity to obtain the additional rejection needed to control the EF output rates. In addition, topological triggers that include jets at lower thresholds than the inclusive jet triggers but in combination with other objects or requirements to achieve reduction in output rate, are deployed to increase the physics acceptance.

At high luminosities, the trigger software and selection must be robust against high detector occupancies, pile-up effects and cavern backgrounds. Pile-up effects becomes significant with increasing luminosities with an average of more than 20 interactions per crossing expected at a luminosity of 10\({}^{34}\) cm\({}^{-2}\) s\({}^{-1}\). The trigger should ensure coverage of the full physics programme, including searches for new physics and precision measurements of Standard Model parameters. The signatures include lepton, photon, and jet triggers, but with higher thresholds and tighter selection criteria employed to control the rates. Additional requirements that operate in pass-through mode at low luminosities, such as isolation, large \(\not{E}_{T}\) and other complex criteria such as flavour tagging, must also be deployed to achieve the necessary rate reduction.

Table 13 shows a representative sample of L1 and HLT trigger items that can be expected to be deployed without prescale factors at a luminosity of 2\(\times\)10\({}^{33}\) cm\({}^{-2}\) s\({}^{-1}\). A comparison of this menu to the one at a luminosity of 10\({}^{31}\) cm\({}^{-2}\) s\({}^{-1}\) illustrates the evolution of the rates and thresholds as a function of luminosity. The evolution is not linear as some of the triggers also have employed tighter selection conditions at higher luminosity. While Table 13 gives a flavour of some of the primary triggers and expected rates, the full physics trigger menu will consist of many additional signatures for precision measurements and the discovery program, as well as triggers required for calibration and background studies.

Preliminary rate studies suggest that about 30% of the 200 Hz bandwidth will be available for electron and photon triggers, 25% for muon triggers, 15% for jet triggers, and 15% for triggers involving taus and \(\not{E}_{T}\). About 5% of the bandwidth is allocated to \(B\)-physics related triggers which will involve low \(p_{T}\) di-muon signatures with additional mass cuts to select \(J/\psi\) and other rate \(B\)-meson decays, with the balance of the bandwidth used for calibration and background triggers. This proposed distribution, will of course evolve with experience, and will be tuned to ensure full coverage for discovery and precision physics at all luminosities.

\begin{table}
\begin{tabular}{|c|c|} \hline
**L1 item** & **Rate (kHz)** \\ \hline EM181 & 12.0 \\ \hline
2EM11I & 4.0 \\ \hline MU20 & 0.8 \\ \hline
2MU6 & 0.2 \\ \hline J140 & 0.2 \\ \hline
3J60 & 0.2 \\ \hline
4J40 & 0.2 \\ \hline J36\_XE60 & 0.4 \\ \hline tau161\_XE30 & 2.0 \\ \hline MU10\_EM11I & 0.1 \\ \hline Others & 5.0 \\ \hline \end{tabular} 
\begin{tabular}{|c|c|} \hline
**HLT item** & **Rate (Hz)** \\ \hline e22i & 40 \\ \hline
2e12i & \(<\) 1 \\ \hline g55i & 25 \\ \hline
2g17i & 2 \\ \hline MU20i & 40 \\ \hline
2MU10 & 10 \\ \hline J370 & 10 \\ \hline
4J90 & 10 \\ \hline J65\_XE70 & 20 \\ \hline tau35i\_XE45 & 5 \\ \hline
2MU6 for \(B\)-physics & 10 \\ \hline \end{tabular}
\end{table}
Table 13: Subset of trigger items from two illustrative trigger menus at L1 (left) and at the HLT (right) for a luminosity of 2\(\times\)10\({}^{33}\) cm\({}^{-2}\) s\({}^{-1}\).

Summary

The LHC is expected to begin its operation at a low luminosity of about \(10^{31}\) cm\({}^{-2}\) s\({}^{-1}\) and ramp up to the design luminosity of \(10^{34}\) cm\({}^{-2}\) s\({}^{-1}\) over the first few years of operation. The three levels of the ATLAS trigger have been designed to handle the high rates and occupancies at high luminosity. The trigger items and their performance have been studied in detail in both the low and high luminosity regimes and a comprehensive trigger menu has been developed for the LHC startup phase. Details of the triggers comprising this menu have been discussed in this note and primarily consist of low \(p_{T}\) thresholds and loose selections that would allow for rapid commissioning and preparation for the high luminosity regime. The rates estimated for a trigger menu that will likely be deployed during the initial phase of the LHC run are within the limits of the TDAQ bandwidths, but are subject to fairly large uncertainties due to the use of simulations that extrapolate from the 2 TeV center-of-mass energy of the Tevatron to the 14 TeV expected for the LHC. The trigger menu in the high luminosity regime will use high \(p_{T}\) thresholds and complex triggers involving multiple objects to provide efficient selection of physics processes and high background rejection. A flavour of such signatures has been discussed in this note. The initial running will allow further optimization of the trigger menus, which will evolve as the luminosity increases over three orders of magnitude to the design luminosity.

## References

* [1] ATLAS Collaboration, Detector and Physics Performance Technical Design Report, CERN/LHCC/99-14/15 (1999).
* [2] ATLAS Collaboration, The ATLAS Experiment at the CERN Large Hadron Collider, JINST 3 (2008) S08003.
* [3] ATLAS Collaboration, Level 1 Trigger Technical Design Report, CERN/LHCC/98-14 (1998).
* [4] ATLAS Collaboration, High-Level Trigger, Data Acquisition and Controls Technical Design Report, CERN/LHCC/03-022 (2003).
* [5] Calorimeter Trigger Groups, JINST **3** (2008) P03001.
* [6] ATLAS Collaboration, Liquid Argon Calorimeter Technical Design Report, CERN/LHCC/96-041, (1996).
* [7] ATLAS Collaboration, Tile Calorimeter Technical Design Report, CERN/LHCC/96-042, (1996).
* [8] ATLAS Collaboration, Muon Spectrometer Technical Design Report, CERN/LHCC/97-022, (1997).
* [9] S. Veneziano et al., IEEE Trans. Nucl. Sci. **51** (2004) 1581-9.
* [10] Central Trigger Groups, IEEE Trans. Nucl. Sci. **52** (2005) 3211-3215.
* [11] Luminosity Blocks, Web page: [https://twiki.cern.ch/twiki/bin/view/Atlas/LuminosityBlock](https://twiki.cern.ch/twiki/bin/view/Atlas/LuminosityBlock).
* [12] T. Sjostrand, S. Mrenna, P. Skands, JHEP **0605** (2006) 026.
* [13] S. Agostinelli et al., Nucl. Instrum. Methods Phys. Res. **A506** (2003) 250-303.