Thermal characterisation of thermo-active support structures and its application in the ATLAS pixel outer endcap local supports

Zakariya Aliouche

Matteo D'Uffizi

Corresponding author

Julian Freestone

Francisca Munoz

Corresponding author

Vu Chi Lan Nguyen

Contribution to this work while affiliated with the University of Manchester, now a PhD student at University of Sheffield

Joleen Pater

Nicolas Scharmberg

Contribution to this work while affiliated with the University of Manchester, now a Cloud software engineer at AVAMAE Software Solutions Ltd

###### Contents

* 1 Introduction
* 2 Study case: ATLAS pixel outer endcap local support
* 3 Thermal quality control measurement setup and procedure
	* 3.1 Calibration procedure
	* 3.2 Measurement procedure
	* 3.3 Design qualification
* 4 Analysis method
	* 4.1 Shape recognition
	* 4.2 Starting time determination
	* 4.3 Temperature profiles
	* 4.4 Sensitivity study
* 5 Measurements with a HR prototype
	* 5.1 Prototype overview
* 6 Conclusion

## 1 Introduction

Thermo-active support structures are used in applications that need to operate at a given temperature to function correctly. Such applications can be found in many different scientific fields such as in space missions, and nuclear and high-energy physics experiments. These structures need to be qualified before active components are permanently attached. In this way, a faulty or defective structure can be rejected before loading high-tech devices that can get damaged when operated at the wrong temperature.

In this work, we concentrate applying this technique in particle collider experiments, in particular on the upgrade of the Inner Tracker (ITk) [1] of the ATLAS experiment, which will operate in the harsh radiation environment at the High-Luminosity LHC (HL-LHC). In these applications the mechanical design is driven by the necessity of minimising the material budget present in the detector, to improve the particle identification and track reconstruction.

The ITk will be a solely silicon-based detector. In silicon sensors, the leakage current increases linearly with the radiation fluence and exponentially with the temperature, causing an increment of the thermal noise and the eventual malfunction of the device. To optimise the detector performance during its lifetime and to avoid thermal run away [2], the ITk needs to be operated at low temperatures. The cooling is provided by a bi-phase cooling system, delivering evaporating CO\({}_{2}\) at \(-35\,^{\circ}\)C through Titanium pipes embedded in the local supports.

The application studied in this paper is the local supports of the ATLAS-ITk pixel outer endcaps. Each endcap will consist of three concentric cylindrical structures or layers, called, from the innermost to the outermost, layer 2, layer 3 and layer 4 (L2, L3, L4). These layers are populated with a number of half-ring (HR) structures, or local support structures, to which the silicon-based pixel-modules will be fixed (see Fig. 1).

A technique for the thermal characterisation of thermo-active structures is described in this paper. The technique has been developed as a candidate for the quality control of the local support of the ITk pixel outer endcaps during production. It involves the screening of the structures with an infrared camera to analyse temperature distributions during the cooling process and identify zones with sub-optimal cooling capabilities.

Section 2 describes the design of the ITk pixel outer endcaps local supports, along with their assembly procedure. Section 3 describes the experimental apparatus used at the University of Manchester and outlines the measurement procedure. Section 4 explains the analysis framework and gives insight on the method's sensitivity with a measurement on a test structure. Lastly, Section 5 is dedicated to the measurements carried out with an ITk local support prototype.

Figure 1: ATLAS ITk pixel outer endcap layout. The inner (L2), middle (L3) and outer (L4) concentric half-cylinder will support eleven, eight and nine half-rings respectively.

## 2 Study case: ATLAS pixel outer endcap local support

The half-rings for the new ITk pixel outer endcaps consist of two "half-sandwiches" (see Fig. 2), sub-assemblies made of co-cured carbon fibre face-sheet and carbon foam trapezoidal tiles [3]. The half-sandwiches are shaped and thinned to the design parameters and a groove for a titanium cooling pipe is machined, together with indents for mounting lugs. To guarantee a good thermal contact between the pipe and the carbon foam, glue (30% graphite doped Hysol 9396) is deposited on the pipe, which is then inserted in the groove. The graphite increases the glue's heat transfer coefficient [4; 5].

To form a half-ring, two half-sandwiches are glued together using pure Hysol 9396. However, the carbon foam is very porous and tends to soak up the glue. To avoid using excessive glue, a carbon-fibre veil, of 100 \(\upmu\)m thickness and 10 g/m\({}^{2}\) surface density, is loaded with glue and placed in that interface. The complete HR structure is then cured at room temperature in a vacuum table. Lastly, the power bus tapes are glued to the surface of the structure. The HR design is illustrated in Fig. 3(a).

If the production of the half-sandwiches or the half-ring assembly are not executed correctly, an inefficient thermal path between the cooling pipe and the silicon modules can be induced, leading to detector failures during operation. The most likely defect is an inadequate glue layer between the pipe and the carbon foam (see Fig. 3(b)).

During production, it is important to exclude all defective HR before the modules are loaded, in order to guarantee good detector performance. The quality control technique presented in the following sections can be used for this purpose and to monitor and control any accidentally introduced changes on the manufacturing chain (for example a miss-calibration of the milling machine or a batch of glue with lower quality).

Figure 2: Overview of the HR. (a) Picture of the two half-sandwiches made of co-cured carbon fibre face-sheet and carbon foam trapezoids. (b) Drawing of the final half sandwich shape and features after machining, once the titanium pipe is inserted in the groove and before gluing the other half-sandwich.

Figure 3: Schematics of the ATLAS pixel outer endcap half-rings. (a) HR components: carbon fibre (black), carbon foam (blue), titanium pipe (dark-blue) and power tape (brown). (b) Transverse and longitudinal cross-sections of the HR, where the red circles indicate possible defects in the glue layer (white) between the pipe (dark blue) and the foam (light blue).

## 3 Thermal quality control measurement setup and procedure

The experimental setup used for the thermal characterisation of the HR is shown in Fig. 4. The HR under study is placed inside an MKT 240 climate chamber [6] that can be held to a constant temperature with a uniformity of \(\leq\)2 \({}^{\circ}\)C. The coolant (distilled water) is circulated through the cooling pipes by a HAAKE C10 chiller [7]. For production, the cooling system will be replaced with a Marta CO\({}_{2}\) evaporation plant [8] or Novec HFE 7100 [9] to guarantee the cleanness of the pipe. An electronic valve, attached to the cooling inlet, enables a manual control for an instant start of the cooling. The environmental temperature and the relative humidity inside the chamber are monitored using Sensirion EK-H4 sensors [10]. During the cooling process, the temperature profile on the ring surface is recorded at a frame rate of 50 Hz using an infrared camera FLIR SC7500 Series [11]. The camera has a sensor of 256 \(\times\) 320 pixels and a temperature resolution of 25 mK at 25 \({}^{\circ}\)C. It is currently equipped with a wide-angle lens with fixed focal length of 12 mm (44\({}^{\circ}\)\(\times\)36\({}^{\circ}\) field of view) and aperture F/2. Inside the climate chamber, the camera is mounted on movable stages [12], making the position of the camera adjustable in the horizontal plane.

### Calibration procedure

Infrared (IR) measurements are influenced by setup-dependent quantities. Before a measurement, the camera needs to be calibrated considering the emissivity of the surface under study and the environmental conditions at the time of measurement.

Figure 4: Experimental setup in the clean room at the University of Manchester (see text for details).

The emissivity of an object is defined as the fraction of its thermal radiation with respect to a black body at that temperature. An ideal black body has an emissivity of one and the radiated energy directly corresponds to its temperature, while an object with emissivity of zero does not radiate any energy. Therefore, the measured IR signal of a surface has to be corrected by its emissivity. To measure the emissivity of a HR, a piece of black tape with known emissivity is placed on top of a ring piece. The object with the tape is heated up to at least 20 \({}^{\circ}\)C above room temperature inside the climate chamber. In thermal equilibrium the temperature on the tape and on the surface are the same. Due to differences in emissivity the measured values differ. The emissivity of the ring surface is adjusted in the camera software to correct for this difference. As a cross-check, the temperature of the black tape is measured using a Pt1000 sensor. With this procedure, the emissivity of the HR surface was determined to be 0.83.

Additional IR sources in the environment also contribute to and affect the measurement. This contribution is called the reflected apparent temperature (RAT) and needs to be corrected for in every measurement. To measure the RAT, a piece of crinkled aluminium foil is placed in the camera field of view. The foil reflects all environmental IR radiations, allowing the measurement of and correction for this contribution using the camera software.

Before every set of measurements (or every time the camera is turned on) a non-uniformity correction (NUC) is performed to inter-calibrate the pixel-by-pixel response of the camera. For this step, a surface with homogeneously distributed temperature is placed in the camera field of view. A black nylon, polyurethane-coated fabric is used in this work. The camera software acquires 100 consecutive frames to perform a pixel-by-pixel offset correction. After the NUC, all the pixels have the same response within measurement uncertainties.

### Measurement procedure

The climate chamber is heated up to 45 \({}^{\circ}\)C, providing a temperature gradient big enough to be sensitive to the cooling process. When the temperature in the climate chamber (monitored with Sensirion EK-H4 sensors) and on the ring surface are in equilibrium (after approximately 1 hour), the cooling process is initiated by opening the valve and letting distilled water at 10 \({}^{\circ}\)C flow through the ring pipe. During the cooling process, the temperature of the ring surface is recorded with the infrared camera and the data is stored for the analysis. Only a fraction of the half-ring fits in the camera field of view and, in the case of L3 HRs, this process is repeated two times moving the camera along the ring surface until the total area is covered.

### Design qualification

To qualify the design of the local support structure, prototypes must be exposed to the most extreme conditions that are expected during the detector operation as well as the transportation to CERN. This is achieved through thermal and pressure cycling.

To evaluate the possible damage produced by thermal stress and any coefficient of thermal expansion (CTE) mismatch in the local supports during the detector life, up to 100 thermal cycles between \(-\)55 \({}^{\circ}\)C and 60 \({}^{\circ}\)C are performed using the climate chamber. These extreme temperatures are the expected values in two possible scenarios: the lower limit corresponds to a CO\({}_{2}\) leak at the outlet during the detector operation, while the upper limit corresponds to the maximum temperature expected during transportation. In the final detector design the global support structure will be in carbon fibre and no major CTE mismatch is expected. However, the HR transport frame is made in Aluminium and therefore, during thermal cycling, the HR is released from its frame to prevent damage caused by the CTE mismatch.

Additionally, half-ring prototypes undergo 100 pressure cycles to evaluate any possible damage in the structure due to pressurisation-induced stresses. In each cycle, the pressure is varied from 0 to 162 bar and back using an hydraulic system enclosed in a custom-made aluminium box. The upper limit corresponds to the maximum design pressure value.

Between thermal and pressure cycling, a thermal quality control measurement is performed to monitor any possible damage to the structure caused by thermal or pressure stress.

## 4 Analysis method

This section describes the analysis chain that is applied to the data obtained with the procedure outlined in Section 3.2. The steps of the analysis can be summarised as:

1. Shape recognition.
2. Starting time determination.
3. Temperature profiles extraction.

Each step is described in more detail below and it is complemented with an example of its application on a HR prototype. Steps 1 and 2 are generic and can be easily adapted to different configurations, while step 3 is more related to the design of the HRs.

During data taking, a video of the cooling process is recorded with the FLIR camera software and the frames of interest are exported in comma separated values (csv) files. The raw data of each exported frame are the temperature readings of the camera, arranged in a 2-dimension array.

The frames used in the analysis span the whole cooling process. Some frames are selected slightly before the start of the cooling process, to help with timing measurements, while most of the frames correspond to a time up to a few seconds after, when the cooling effect is more visible in the recorded video. One additional frame is selected later in the cooling process, to be used for the shape recognition step of the analysis.

A framework4 in python 3 has been developed to analyse these frames, using the package scikit-image[13] as an image processing tool.

Footnote 4: A GitLab repository is available at [https://gitlab.cern.ch/nscharmb/ring_tools](https://gitlab.cern.ch/nscharmb/ring_tools). To request access please contact the main authors.

### Shape recognition

The first step in the analysis chain is a shape recognition algorithm used to distinguishing the prototype surface, or region of interest (RoI), from the background in the raw data. The frame selected for this step is at the end of the cooling process, because of the higher temperature gradient between the RoI and the background.

The shape recognition algorithm first applies a Canny filter [14][15] to the temperature map. This can perform a smoothing of the image with a Gaussian filter to reduce noise, and sequentially look for the RoI edges by applying an hysteresis thresholding. A value of 2 is usually assigned to the standard deviation of the Gaussian filter, while the Otsu's method [16] is used to automatically determine the hysteresis threshold5. The output of the Canny filter is a binary map of the edges.

Footnote 5: In very few cases where the Otsu’s method fails, an iterative correction is applied until a good value for the threshold is found.

The shape of the prototype, a half ring in this case, is then determined with the RANdom SAmple Consensus method (RANSAC) [17][18] applied to the output of the Canny filter. The RANSAC method is an iterative algorithm for the robust estimation of the parameters of a mathematical model. The model parameters are estimated from a fixed-dimension subset of points, randomly selected from the input data. Residuals are computed for all the remaining data points, which are classified as inliers or outliers depending upon whether or not they are compatible with the model. This procedure is repeated until convergence, or for amaximum number of trials in the absence if convergence. The output model is the one that maximises the total number of inliers. In this analysis, the threshold parameter of the RANSAC algorithm is set to 2, while the dimension of the initial set of points for the model estimation is set to 5.

Different models can be combined to reproduce the geometry of the object being analysed. For example, the ring shape used in this analysis consists of two circles for the inner and outer rims of the HR and lines for the straight edges. The RANSAC algorithm is applied multiple times to the data points until all edges of the HR are found. In every step, the inliers corresponding to the previously-found sides are excluded. The determined shape is time independent, neglecting small variations due to vibrations of the climate chamber, and can be used as a filter for all frames in the cooling process.

Figure 5 (a-d) shows a step-by-step illustration of the shape recognition algorithm applied to a ring prototype.

Figure 5: Steps of the shape recognition algorithm applied to a HR prototype. (a) Raw data measured with the IR camera. (b) Edge points found with the Canny filter. (c) RANSAC fit (dashed lines) to the edges. The model consists of two circles (red) and a straight line (green). (d) Cut-out of the RoI from the raw frame.

### Starting time determination

For the analysis of the cooling processes, a start time of the cooling (\(t_{0}=0\,\mathrm{s}\)) is required to synchronise every measurement. This is determined from the temperature standard deviation (\(\sigma_{T}\)) of the RoI as a function of the recording time.

The shape of the \(\sigma_{T}(t)\) distribution is similar to a smooth step function, as it can be seen from Fig. 6. At temperature equilibrium, \(\sigma_{T}\) remains approximately a constant value. When the cooling process starts, \(\sigma_{T}\) begins to rise, and it steadily grows afterwards until a saturation value is reached. The points before and after the cooling start can be approximated with two different straight lines. The value \(t_{0}\) is defined as the time of the intersection of the two lines:

\[\sigma_{T}(t)^{\mathrm{before/after}}=a^{\mathrm{before/after}}\cdot t+b^{ \mathrm{before/after}}. \tag{1}\]

The parameters of the two lines are extracted with a fit. An automatic method to find the best range for the fit has been implemented. A starting frame is selected, and more frames are iteratively added until the fit performance is optimised. The metric used to check the fit performance is the sum of the squared residuals, weighted by the square of the number of degrees of freedom to enhance the number of included points:

\[f(\mathbf{t_{i}})=\frac{1}{(n-2)^{2}}\sum_{t_{i}}^{n}{(\sigma(t_{i})-a\cdot t_{i}- b)^{2}}, \tag{2}\]

where \(n\) is the number of frames included in the fit. Minimising Eq. (2) gives the optimal number of points to be included in the fit (a minimum of five frames is required for stability reasons).

For the points before the cooling starts, the starting frame is the first measured frame and the automatic fit includes points afterwards. For the rising edge, the frame with the highest first derivative of the temperature standard deviation is chosen as the starting point. The automatic fit is applied forwards and backwards to include frames later and earlier with respect to this frame until the best range is found. Figure 6(a) shows the fit to determine \(t_{0}\) for a single cooling process. Figure 6(b) shows the \(\sigma_{T}\) distributions of different measurements of the same HR prototype, after time adjustment with respect to \(t_{0}\).

The algorithm performs in a consistent way and is able to synchronise the measurements with a good precision. Some small discrepancies can arise due to the sampling frequency or dropped frames in the recording process. Different environment conditions, such as ambient temperature and humidity, can affect the shape of the \(\sigma_{T}\) distributions, slightly altering the results of the analysis.

A good time to detect defects in the HR is empirically found to be in the frame at \(t=t_{0}+1.5\,\mathrm{s}\). This value, however, depends on the experimental conditions and apparatus, since the temperature distribution on the test subject and the speed of the cooling process can vary.

### Temperature profiles

From the bi-dimensional \(T\) distributions, shown in figure Fig. 5(d), temperature profiles perpendicular to the cooling pipe are extracted at the chosen time \(t=t_{0}+1.5\,\mathrm{s}\). This is achieved with the parameters of the circle model found by the RANSAC algorithm described in Section 4.1. All the Cartesian coordinates of the points within the RoI are converted into polar coordinates using the center of the circle formed by the inner rim as origin. The temperature profiles are then extracted within the polar angle range of this circle, divided into 300 segments. The radial starting and ending points of each profile are determined by itsintersections with the inner and outer circles. Then, the temperature values along the profile are interpolated from the raw data, with a condition that if a point is outside of the HR shape, it is not considered. The procedure is illustrated in Fig. 7(a), in which the red arrows correspond to the radial directions.

In general, the temperature distribution along the profiles during the cooling process is expected to be Gaussian. As the cooling pipe in the half-rings is bent, the cooling process in the regions to the left and right side of the pipe is expected to be different. Therefore the width of the Gaussian in the fit is not constrained to be the same in the two directions, left and right of the pipe. The temperature on the profiles is fitted using the equation

\[T(x)=\begin{cases}T_{max}-T_{diff}\cdot\exp\left(\frac{-(x-\mu)^{2}}{2\cdot \sigma_{\text{left}}^{2}}\right)&\text{for }x\leq\mu\\ T_{max}-T_{diff}\cdot\exp\left(\frac{-(x-\mu)^{2}}{2\cdot\sigma_{\text{right} }^{2}}\right)&\text{for }x>\mu\end{cases}, \tag{3}\]

where \(T_{max}\) is the maximum temperature on the profile, \(T_{diff}\) is the maximum temperature difference, \(\mu\) is the pixel position of the coolest temperature value corresponding to the pipe position and \(\sigma_{\text{left/right}}\) is the standard deviation of the temperature along the profile either side of the cooling pipe. An example of the fitting procedure is shown in Fig. 7(b)

The fit parameters obtained from Eq. (3) are sensitive to defects in the HR. In particular:

* The mean value \(\mu\) is expected to be nearly constant. A significant deviation of the parameter implies a misplacement of the pipe inside the HR.

Figure 6: Temperature standard deviation as a function of the recording time in the QC measurement. The distribution is used to determine the starting time of the cooling process, and to synchronise and compare different QC measurements. (a) Determination of \(t_{0}\) for a single cooling process. (b) Comparison of \(\sigma_{T}\) distributions from different measurements obtained with the same HR prototype, after time adjustment with respect to \(t_{0}\). Differences in the distributions can arise from different environment conditions, such as ambient temperature and humidity.

* The two standard deviations \(\sigma_{\text{left/right}}\) are expected to be constant for as a function of the angle. A variation in the cooling perpendicular to the pipe indicates that there is a defect in the HR.
* The temperature of the HR surface on top of the pipe position, computed as \(T_{pipe}=T_{max}-T_{diff}\), is expected to increase linearly from the inlet to the outlet, due to the monophase nature of the coolant employed in the measurements. Local maxima in the temperature distribution are evidence of defects, showing that a portion of the HR is not cooled down efficiently.

The last quantity is the most sensitive observable to detect defects in the HRs.

### Sensitivity study

In order to check the validity of the thermal characterisation method, and also evaluate its sensitivity, a ring piece (namely ring piece A) was produced with an intentional defect related to the case described in Section 2. The defect corresponded to an inefficient thermal path between the pipe and the carbon foam caused by a lack of glue. A schematic of the ring piece is illustrated in Fig. 8 with the defect, named A1, in the middle.

At the time of the measurements, the experimental setup was slightly different than the one described in Section 3. The IR camera was equipped with a 50 mm lens, entailing a larger magnification of the subject. Given the smaller field of view provided by the lens, only a portion of the ring piece is visible. Measurements were repeated for the two surfaces of the piece, namely side 1 and 2. Another small difference of the setup is the environment temperature of the chamber, which was kept at 50 \({}^{\circ}\)C.

Figure 7: Profile extraction from the bi-dimensional temperature distribution. (a) Temperature profiles perpendicular to the cooling pipe, as shown by the red arrows. (b) Fitting of a single profile (green solid line), over a schematic of the transverse section of the HR.

he steps of the analysis described above in Sections 4.1 to 4.3 were performed on the recorded data. Due to the small dimensions of the HR piece, an earlier time is chosen for the frame to be analysed, corresponding to \(t=t_{0}+0.5\) s. An example of the analysed frame at this time is shown in Fig. 9, showing one side (side 1) of the ring piece A with the cooling coming from the left. The coloured arrows in the plot correspond to the profiles perpendicular to the cooling pipe that are extracted and fitted.

The resulting fitted temperature on top of the pipe \(T_{pipe}\) of the ring piece A is plotted in Fig. 10, showing both side 1 and side 2. The temperature values are normalised such that the maximum observed temperature corresponds to 1, while the minimum one corresponds to 0.

Figure 8: Schematic view of ring piece A with the intentionally implanted defect A1, corresponding to missing glue between the pipe and the carbon foam.

Figure 9: Temperature distribution for ring piece A side 1 with the coolant coming from the left.

Although there is a small difference in shape, caused by a different position of the ring piece at the time of the measurement, the overall temperature distribution show the same features for both side 1 and side 2. A maximum in the temperature distribution is present in the central region (pixel position zero) of the ring piece. This peak corresponds to the defect A1, with no glue on the pipe, which behaves as expected by influencing both sides in a similar way.

Figure 10: Temperature distribution along the pipe for the ring pieces A for side 1 (blue) and side 2 (red) with cooling coming from the left. The pixel position zero corresponds to the position of the maximum of the temperature distribution.

## 5 Measurements with a HR prototype

A layer 3 (L3) Half-ring prototype, namely Prototype L3.4 (PL3.4), was assembled by the UK-ATLAS pixel outer endcap collaboration.

The prototype underwent thermal and pressure cycling, as described in Section 3.3. Thermal characterisation measurements were preformed before and after the cycling procedure to measure the HR thermal capabilities. The results are reported in the following sections.

### Prototype overview

Figure 11 shows the pictures of the two sides of prototype L3.4, labelled as Side A and Side B. Each side has heaters glued on the surface, as illustrated in the figure. The heaters are silicon plates, with thickness of \(330\,\mathrm{\SIUnitSymbolMicro m}\), area of \(4\times 4\) cm\({}^{2}\) and resistance of about \(3\,\mathrm{\SIUnitSymbolOhm}\). They simulate the heat produced by silicon sensors in presence of a power supply. They are used for the Thermal Figure of Merit (TFM) measurement, which is another indicator of the thermal performance of the HRs [1]. The TFM can be interpreted as the thermal impedance of the HR and its value is used to qualify the design of the local supports. However, this work focuses on the thermal QC technique and hence, no result of the TFM study is included. The heaters are reflective and have a low emissivity, preventing the IR camera from measuring the temperature of the HR surface beneath them. Therefore their area has been excluded from the analysed frames.

The reference system used in the analysis is illustrated in Fig. 12 and consists of a Cartesian plane with the HR occupying quadrants III and IV. The HR is always placed with the convex part on the bottom side, with clockwise angles going from \(0\) to \(-\pi\). With the current equipment, the camera field of view can cover only a part of the HR surface and hence, the measurements are repeated with the camera in different positions. Based on this reference system, referring to the right (left) view of the HR corresponds to roughly \(-2.2\lessapprox\phi<0\) rad (\(-3.14\lessapprox\phi\lessapprox-0.94\) rad).

Figure 11: L3 HR prototype L3.4 at the University of Manchester.

#### 5.1.1 Measurement with the bare prototype

Before gluing the heaters, a measurement was carried out with the aim of locating possible defects in the prototype and cover them with heaters, to study their impact on the TFM value. Figure 13(a) shows the \(T_{pipe}\) distribution for the right view of Side B. The area around \(\phi\approx-0.8\) presents the largest deviation from the expected \(T_{pipe}\) distribution observed in the prototype, indicating a possible defect in its structure. Two heaters were placed on this side of the HR, one overlapping with the peak in the temperature distribution and the other slightly moved to the left. A further heater was placed on Side A, covering the space between the former two. Five additional heaters were glued on the rest of the prototype surface, in the same arrangement to be used in the final detector design. A schematic of the heater locations on top of the possible defective area is shown in in Fig. 13(b).

#### 5.1.2 Thermal characterisation

After gluing the heaters on the HR, PL3.4 was fully tested with thermal characterisation and TFM measurements. The prototype underwent 100 thermal cycles first, followed by 100 pressure cycles. Both cycling procedures were done in steps of 10, 40, and 50 cycles, with QC and TFM measurements carried out in between.

The \(T_{pipe}\) distribution is sensitive to the environment conditions during data taking. The climate chamber cannot ensure the exact same temperature and relative humidity for every QC measurement. Moreover the HR may not be in a perfect thermal equilibrium with the surrounding objects at the time of the measurement. As a result, the slope and the offset of the \(T_{pipe}\) distribution might vary among several measurements. For small differences of the initial conditions, it has been observed that the slope is affected only slightly. Therefore, in order to compare different sets of measurements, it is sufficient to subtract a temperature offset.

The solution proposed here uses the RANSAC algorithm to find the parameters of a linear model which describes the distribution of \(T_{pipe}\). The residual threshold of the algorithm is set as three times the

Figure 12: Reference system for the polar axis, showing the left (a) and right (b) views of the HR.

temperature resolution of the camera, which was measured to be 0.019 \({}^{\circ}\)C with an environment temperature of 45 \({}^{\circ}\)C. One set of measurements is chosen as a reference and all the others are compared to it. The temperature offset \(T_{offset}\) for a specific set is defined as the average temperature difference, over a fixed \(\phi\) range, between its linear model \(f^{\prime}(\phi)\) and the reference line model \(f_{ref}(\phi)\):

\[T_{offset}=\frac{1}{2}\big{(}(f_{ref}(\phi_{max})-f^{\prime}(\phi_{max}))+(f_{ ref}(\phi_{min})-f^{\prime}(\phi_{min}))\big{)}. \tag{4}\]

A schematic of the procedure is illustrated in Fig. 14.

Figure 14: Example of the temperature offset subtraction procedure. The reference measurement (red) and another measurement (blue) are fitted with a linear model using the RANSAC algorithm, and the temperature offset (black) is obtained from the average temperature difference. The four gaps in the temperature distributions are due to silicon heaters on top of the prototype which obstruct the camera’s view (see Section 5.1).

Figure 13: Largest deviation from the expected \(T_{p}ipe\) distribution observed in PL3.4. (a) Thermal characterisation measurement before the placement of heaters. The plot shows the right view of Side B, with cooling direction from the right to the left. A possible defect is visible around \(\phi\approx-0.8\) rad. (b) Schematic of heater locations on Side B of the prototype, based on the identified features.

Results of the thermal characterisation measurements are reported in Fig. 15. The graphs in different colours represent the results after a different number of thermal and pressure cycles. Uncertainties are not plotted. In the plots showing the right view of the HR, the cooling direction is right to left. In the left view ones, the direction is the opposite.

To account for small misplacement of the HR in the field of view of the camera, each graph is shifted in the \(\hat{\phi}\) direction, such that the polar coordinate of the leftmost (rightmost) point of the left (right) straight edge of the HR corresponds to \(\phi=-\pi\) (\(\phi=0\)).

The blank sections in the plots are due to the presence of heaters on the HR surface, as mentioned in the previous section. The region \(\phi\in[-0.2,0]\) rad has been removed due to the presence of a label on the HR surface, which obstructs the camera.

Small discrepancies between measurements remain after the offset correction procedure described above is applied. The discrepancies in angular position can be due to perspective distortion caused by the camera lens or fluctuations in the shape recognition steps (e.g. if the line found by the RANSAC algorithm does not align exactly with the straight edge of the HR). Differences in the slope gradient can be due to timing uncertainties (see Fig. 6(b)) between different measurements.

Despite these minor differences, all measurements show the same behaviour. This suggests that if thermal and pressure cycling and TFM measurements cause any change in the thermal performance of the HR, they are not large enough to be spotted by this method.

Similarly to the case illustrated in Fig. 13, another area of Side A shows a significant deviation in the \(T_{pipe}\) distribution. This can be observed around \(\phi\approx-0.5\) rad in Fig. 15. The corrected \(T_{pipe}\) distribution is sufficient to check the consistency of different sets of measurements but, if defects are present, it does not provide a complete insight into their significance. In order to study defects in more detail and also monitor their possible worsening over time, the residual temperature from the linear distribution \(T_{res}\) is used. It is defined as the difference between the \(T_{pipe}\) value and the corresponding temperature evaluated from the linear fit performed with the RANSAC algorithm:

\[T_{res}(\phi)=T_{pipe}(\phi)-T_{fit}(\phi). \tag{5}\]

The residual temperature from the RANSAC linear fit in the aforementioned area of Side A is shown in Fig. 16. The shaded bands in the graphs represent a systematic uncertainty related to the temperature measurement and the extraction of the residuals. This systematic uncertainty has been measured experimentally by

Figure 15: Thermal QC measurements of prototype L3.4 after different numbers of thermal and pressure cycles. Figures (a) and (b) show the left and right view of Side A respectively. Side B follows the same arrangement in (c) and (d). In the plots showing the right part of the HR, the cooling direction is right to left. In the left ones, the direction is the opposite. Uncertainties are not plotted. The small slope difference in the plots has been attributed to timing issues and environment conditions.

performing several consecutive QC measurements under the same conditions and comparing the residual temperature of each dataset. The uncertainty has been set to the mean value of the spread over \(\phi\), which is approximately \(\langle\delta T\rangle\approx\)0.05\({}^{\circ}\)C.

The peak amplitude of this defect remains constant within uncertainties, proving that neither thermal cycling, nor pressure cycling significantly worsened the thermal performance of the HR at this point.

#### 5.1.3 Measurement after heater removal

After completing the program of thermal and pressure cycling, and the related TFM and thermal characterisation measurements, the silicon heaters which had been glued on the prototype's surface were removed.

The heater placed on side B at \(\phi\approx-0.8\) rad, corresponding to the position of the observed peak in the temperature distribution shown in Fig. 13(a), revealed an anomalous value of the TFM during the last round of measurements after 100 thermal cycles and 100 pressure cycles. The measured TFM was significantly higher than before, indicating that cycling may have damaged the HR.

A subsequent thermal characterisation measurement was performed with the bare HR to observe any sign of damage in the areas beneath the heaters. While in most of the HR the data are in line with the results obtained in the past, the area where the aforementioned heater was placed shows a larger peak in the temperature distribution. The plot in Fig. 17 shows the residual temperature around the peak in the \(T_{pipe}\) distribution (analogous to what shown in Fig. 16). The cooling direction is from the right to the left.The amplitude of the peak is slightly larger in the latest measurement, pointing toward possible damage which worsened the thermal performance of the HR.

The fact that both the TFM and the thermal characterisation measurement present a worsened result after thermal and pressure cycling may indicate a correlation of the two measurement which could be used to establish a rejection criteria for the HR QC during production. However, this result is not statistically significant and new prototypes will be produced and studied with the technique illustrated in this work.

Figure 16: Residual temperature of the possibly defected area found on Side A of PL3.4 at \(\phi\approx-0.5\) rad. The shaded band represents the systematic uncertainty.

Figure 17: Results of the thermal characterisation measurement with the bare PL3.4 half-ring. The plot shows the residual temperature near the peak in the \(T_{pipe}\) distribution reported in Fig. 13(a) before (blue) and after (red) thermal and pressure cycling (after removing the heaters from the HR surface). The cooling direction is from the right to the left.

## 6 Conclusion

An experimental procedure and an analysis framework to qualify thermo-active support structures was developed and its application as a thermal QC technique of the ATLAS-ITk pixel outer endcaps local supports was studied. This process can be used to identify faulty HRs, before the installation in the ATLAS detector during the HL-LHC upgrade and to monitor the quality of the production chain.

The technique sensitivity was studied with dedicated test structures and two different L3 half-ring prototypes have been tested at the University of Manchester laboratories. The thermal QC technique was proven to be successful in identifying defects in them (only results for PL3.4 are shown in this work for the sake of brevity).

A new Layer 2 prototype with defects has been manufactured (no glue on the pipe along 1 cm) to study if a direct correlation between the thermal QC measurement and the TFM measurement can be established. If this is confirmed in a second HR, a selection criteria towards production will be defined based on this non-invasive technique.

The described method is almost fully-automatised and requires very little human effort to be run. The results on the HR prototypes are promising, showing that this method can identify HRs with altered cooling capabilities. The thermal QC technique can therefore be applied as one of the first steps of the quality control in the serial production of the outer endcap HRs for the ATLAS-ITk detector.

## Acknowledgements

Without any doubt the technique presented here couldn't have been developed without the ATLAS-UK Pixel collaboration's contribution and support on building prototypes and test pieces to test this technique. Also the regular ATLAS pixel outer endcap meetings with the Italian and UK pixel communities provided very useful feedback, ideas and discussions that definitely improved this technique. A special mention needs to be made of Graham Beck, whose experience and input was essential from the beginning of this idea to its final development and understanding. We would also like to acknowledge the contribution of the technicians Mervyn Posnett and Andy Elvin to the construction of the setup at different stages. And finally, we want to thank Professors Yvonne Peters and Andrew Pilkington supporting the ATLAS upgrade activities at the University of Manchester by providing MPhys and PhD students who have contributed substantially to this project and are main authors of this work.

## References

* [1]_Technical Design Report for the ATLAS Inner Tracker Pixel Detector_, tech. rep. CERN-LHCC-2017-021. ATLAS-TDR-030, CERN, 2017, url: [https://cds.cern.ch/record/2285585](https://cds.cern.ch/record/2285585) (cit. on pp. 3, 17).
* [2] G. Beck and G. Viehhauser, _Analytic model of thermal runaway in silicon detectors_, Nuclear Instruments and Methods in Physics Research Section A: Accelerators, Spectrometers, Detectors and Associated Equipment **618** (2010) 131, issn: 0168-9002, url: [https://www.sciencedirect.com/science/article/pii/S0168900210005498](https://www.sciencedirect.com/science/article/pii/S0168900210005498) (cit. on p. 3).
* [3] F. Campbell, _Manufacturing Processes for Advanced Composites_, Elsevier Science, 2003, isbn: 9780080510989, url: [https://books.google.co.uk/books?id=VkX5NXymelEC](https://books.google.co.uk/books?id=VkX5NXymelEC) (cit. on p. 5).
* [4]_Hysol EA 9396 AERO_, Technical Data Sheet, url: [https://www.henkel-adhesives.com/vn/en/product/adhesives/loctite_ea_9396_aero.html](https://www.henkel-adhesives.com/vn/en/product/adhesives/loctite_ea_9396_aero.html) (cit. on p. 5).
* [5] Lin, Fang-Ming, _Heat Transfer Interface to Graphitic Foam. Master's Theses. 4942_, [https://scholarworks.sjsu.edu/etd_theses/4942](https://scholarworks.sjsu.edu/etd_theses/4942), 2018 (cit. on p. 5).
* [6]_Dynamic climate chambers for rapid temperature changes with extended low temperature range_. _Model MKT 720_, Binder GmbH, url: [https://www.binder-world.com/en/products/dynamic-climate-chambers/series-mkt/mkt-720](https://www.binder-world.com/en/products/dynamic-climate-chambers/series-mkt/mkt-720) (cit. on p. 7).
* [7]_Instruction Manual Circulator C10 including all Baths_, Thermo Haake, url: [https://archive-resources.codeparmer.com/Manual_pdfs/12206-00,-05.pdf](https://archive-resources.codeparmer.com/Manual_pdfs/12206-00,-05.pdf) (cit. on p. 7).
* [8]_MARTA (Monoblock Approach for a Refrigeration Technical Application)_, [https://icp.mech.pk.edu.pl/martaco2/index.php/2-uncategorised/1-overall-features](https://icp.mech.pk.edu.pl/martaco2/index.php/2-uncategorised/1-overall-features) (cit. on p. 7).
* [9]_Datasheet 3M NOVEC 7200 Engineered Fluid_, NOVEC Engineered Fluids, url: [https://multimedia.3m.com/mws/media/1998190/3m-novec-7200-engineered-fluid-en.pdf](https://multimedia.3m.com/mws/media/1998190/3m-novec-7200-engineered-fluid-en.pdf) (cit. on p. 7).
* [10]_Datasheet Evaluation Kit EK-H4_, SENSIRION the sensor company, url: [https://www.sensirion.com/en/environmental-sensors/humidity-sensors/evaluation-kit-ek-h4/](https://www.sensirion.com/en/environmental-sensors/humidity-sensors/evaluation-kit-ek-h4/) (cit. on p. 7).
* datasheet_, FLIR Systems, Inc., url: [https://www.filrmedia.com/MMC/THG/Brochures/RND_017/RND_017_US.pdf](https://www.filrmedia.com/MMC/THG/Brochures/RND_017/RND_017_US.pdf) (cit. on p. 7).
* [12] Arcus Technology, url: [https://www.arcus-technology.com](https://www.arcus-technology.com) (cit. on p. 7).
* [13] S. van der Walt et al., _scikit-image: image processing in Python_, PeerJ **2** (2014) e453, issn: 2167-8359, url: [http://dx.doi.org/10.7717/peerj.453](http://dx.doi.org/10.7717/peerj.453) (cit. on p. 10).
* [14] J. Canny, _A Computational Approach to Edge Detection_, IEEE Transactions on Pattern Analysis and Machine Intelligence **PAMI-8** (1986) 679, issn: 0162-8828 (cit. on p. 10).