# Charge deposition in the SCT due to beamloss

N. D. Patel\({}^{\rm a}\), A. F. Saavedra\({}^{\rm a}\), M. J. White\({}^{\rm b}\), B. Yabsley\({}^{\rm a}\)

\({}^{\rm a}\)University of Sydney

\({}^{\rm b}\)University of Melbourne

###### Abstract

The purpose of this study was to estimate the distribution of charge collected by the strips of ATLAS SCT modules in a 25ns window under two LHC proton beam scrape scenarios. This was done in order to see whether this charge would be greater than the nominal amount above which damage to the modules is expected to occur, which is 5nC/strip over 25ns. Specifically, the damage is expected to occur to the channels of the front-end ABCD3T binary readout chips of the SCT modules. Due to limited numbers of fully simulated single proton collisions with the beam pipe (at 450 ) and the TAS collimator (at 7 ) a method of sampling SCT hits-with-replacement is developed to obtain an upper limit on the charge per strip for a 10\({}^{8}\) proton scrape over 25ns. Under this assumption the maximum charge collected per strip is determined to be less than 0.4nC for the 450  beam pipe scrape scenario and less than 1.9nC for the 7  TAS collimator scrape scenario, within the damage threshold in both cases.

Introduction

In the case of loss of control of one or both of the LHC beams during operation, the Semiconductor Tracker (SCT) [1] in the ATLAS detector may be particularly vulnerable. The purpose of this work is to determine the amount of damage the readout electronics of the SCT modules would sustain under such beamloss scenarios.

The ATLAS inner detector is composed of three sub detectors, the Semiconductor Tracker (SCT), Pixel Detector and the Transition Radiation Tracker (TRT). The SCT is sandwiched between the Pixel and TRT and consists of 4 barrel layers and 2 end caps (with 9 wheels each). The barrel and end caps are composed of 2112 and 1976 _double sided_ modules (see Figures 1(a) & 1(b)) respectively: the arrangement of the modules is sketched out in Figure 1(c)1.

Footnote 1: The ATLAS reference system is a cartesian right-handed coordinate system, with the nominal collision point at the origin. The anti-clockwise beam direction defines the positive z-axis, while the positive x-axis is defined as pointing from the collision point to the centre of the LHC ring and the positive y-axis points upwards. The azimuthal angle \(\phi\) is measured around the beam axis, and the polar angle \(\theta\) is measured with respect to the z-axis. The pseudorapidity is defined as \(\eta=-\ln\tan(\theta/2)\).

The SCT sits relatively close to the beam pipe (which is approximately 70mm in diameter), with

Figure 1: SCT barrel and end cap modules and their arrangement in ATLAS.

the inner barrel layer only 200mm away. The barrel extends out radially from the beam axis, \(255<r<549\)mm, and has a total length of \(|z|<805\)mm, while the end caps have a minimum inner radius of 251mm and a maximum radius of 610mm and lie in the range \(810<|z|<2797\)mm. The detector is symmetric about \(z=0\). Also part of ATLAS is a collimator designed to shield the the inner triplets of superconducting quadrupole magnets from particles produced at the interaction point. Known as the TAS (Target Absorber Secondaries) it is comprised of two 1.8m long copper blocks at \(18<|z|<19.8\)m (i.e. either side of the ATLAS cavern) [5].

The two accident scenarios considered were that the proton beam would scrape the beam pipe in the vicinity of the detector or scrape the TAS collimator before it reached the detector. In the event that the ATLAS Beam Conditions Monitor [6] (designed to trigger an abort before such scrapes happen) is not functioning correctly, the resulting flux of secondary particles passing through the SCT would cause much more charge to be collected by the SCT module strips than would be the case under normal operation. Previous experimental studies have concluded that the maximum charge collected by any one of these strips should not exceed 5nC in a 25ns window, as this may lead to damage of the front-end (ABCD3T) readout chips [3] (see Figures 1(a) & 1(b)).

In order to determine whether either of these two scenarios would result in more than 5nC being collected by any of the individual strips of the SCT modules, the amount of charge collected by individual strips of the SCT is determined approximately for each scenario from the full simulation events (sections 4.1, 4.2). However, due to low statistics a method of sampling-with-replacement was developed to more accurately determine the charge per strip distribution (sections 4.3, 4.4). This determination of charge collected per strip was ultimately used to gauge the potential for damage to the SCT front end readout chips under the two scenarios.

## 2 Previous Experimental Studies

The finished SCT modules have previously been subjected to three types of experimental tests: a test beam study; irradiation with a Nd:YAG laser; and bench top hardware tests.

In 2004 the performance of the SCT modules was tested using a \(\sim 180\) GeV pion beam, part of the ATLAS combined test beam [7]. In this case the amount of charge collected by the strips did not (and was not intended to) reach a level at which the front-end readout chips would sustain any damage, so their real-world limitations were not tested.

Two tests of the SCT modules using a Nd:YAG laser [8, 9] were carried out in 2005. The laser light had an energy just above the Si band gap energy. One of the tests [8] was a quality assurance test of the barrel modules and, again, did not cause enough charge to be collected by the strips to do any damage. But the second test [9], meant to simulate 'beam splash' effects on the SCT modules, is particularly relevant here. The laser was pulsed at a frequency of 1kHz, with pulse widths of 6ns (FWHM) and the bias being applied across the test module ranged between 150V-400V. The laser pulses covered single strips at a time and charge collection of order 2-3\(\mu\)C/6ns resulted. The ABCD3T readout chips connected to these strips failed unless the bias voltage was set at 150V, the minimum of the range. This amount of charge is approximately three orders of magnitude above what a single channel on a readout chip is designed to withstand.

In August 2009, further hardware tests attempted to verify the 5nC/25ns/channel limit and deliver fatal charge doses to the chips. It was found that above this threshold, individual channels within the readout chips did indeed fail, and the channels either side of the damaged one became particularly noisy for \(\sim\)15 mins, but the rest of the chip functionality was retained. Thus the readout chips will survive provided charge collection is less than 5nC/25ns/channel and will definitely fail if the charge collected is greater than \(\sim\)2-3\(\mu\)C/6ns/channel.

The main aim of the following sections is to obtain the amount of charge collected per strip under two simulated beamloss scenarios and to see how it compares with these results.

## 3 Beamloss scenarios studied

At nominal luminosity an LHC bunch contains \(1.15\times 10^{11}\) protons with these bunches spaced 25ns apart. The protons in a bunch are distributed in an approximately 2D gaussian distribution in the plane transverse to the beam, with the two primary LHC collimators clearing any protons outside 6\(\sigma\) of this distribution. For the rest of this note we assume a _moderate beam scrape_, defined here as protons in the outer region of the beam (between 6\(\sigma\) and 2-3\(\sigma\)) colliding with the beam pipe or the TAS collimator. The number of protons colliding is taken to be \(\sim\)0.1% of the bunch, so _this scrape assumption amounts to \(1\times 10^{8}\) proton collisions per bunch_. This assumption is made with the understanding that the final results of the total charge collected per strip can, in principle, be rerun for any number of events if \(10^{8}\) turns out to be unrealistic. The resulting flux of secondary particles due to such a scrape may conceivably result in a much larger amount of charge being collected than the SCT is able to cope with.

Charge collected by a strip, resulting from a single particle passing through the silicon of a module constitutes an SCT hit. If the hits are the result of protons from a single bunch colliding with the beam pipe or TAS collimator, this charge would be deposited within a 25ns window (i.e. the minimum bunch spacing). It is the total charge collected by any single strip (in 25ns) that we are concerned with here. In this context an "event" is defined as a single proton colliding with either the beam pipe or the TAS collimator.

The two particular scenarios simulated for such occurrences were: 7 TeV protons colliding with the TAS collimator (34 960 simulated events); and 450 GeV protons colliding with the beam pipe (65 000 simulated events). The numbers of events listed are the numbers we had access to in the form of HITS files (configuration tag: e347_s464). These files were the SCT hits produced from GEANT4 [10] full ATLAS simulation of _individual_ proton collisions with either the beam pipe or TAS collimator using ATLAS geometry GEO-02-01-00 in Athena 14.2.20.1. Now, the actual number of events in such scenarios would be more like \(10^{8}\) per bunch (i.e. \(\sim 0.1\%\) of the bunch as previously stated), but due to a combination of time taken and memory constraints the numbers of simulated events are limited to those listed above. The simulated events were produced one proton at a time as it would be far too computationally intensive to simulate such a large number of events concurrently such that interactions between secondaries and their collective effects on the detector are accounted for. This is the one major point overlooked in this analysis - particularly in relation to the break down of the module bias voltage that can occur with too many free charge carriers in the module silicon. This was the case in the beamloss stress tests of the CMS silicon tracker [11]. This effect would protect the ATLAS ABCD3T readout chips to some extent as the breakdown of the module bias voltage would lead to less charge being collected, but this effect will not be considered here.

Though any similar beam loss scenario to those studied here would be unlikely in reality, such scenarios are worthy of study because the resulting damage could have the potential to shut down the SCT for an extended period of time. It should be noted that the total and relative probabilities of the two scenarios studied was not assessed.

## 4 SCT charge collection study

The methods discussed in this section were carried out in a general attempt to determine how much charge could be collected in the strips of the SCT modules under the scenarios described in section 3. Subsections 4.1 and 4.2 focus on the charge distributions of the 65 000 fully simulated beam pipe scrape events. A method of sampling hits from these events ('with replacement') for \(10^{8}\) events is developed in subsections 4.3 and 4.4 and corresponding results are presented.

Figures 2, 5, 8, 11 contain 2D histograms that are functions of _Strip number_ and _eta_module_. For a given side (inner-1 or outer-0) of a particular barrel layer (0-3) or end cap wheel (0-8), these two numbers will uniquely label all strips. Strip number, counts the strips around the \(\phi\) direction, while eta_module labels the modules in \(\eta\) (but does not correspond to actual \(\eta\) values defined by the co-ordinate system).

### Determining charge deposition using the SCT_Digitization package

The rest of the analysis was performed using the 450  beam pipe scrape scenario, as this had the most fully simulated events available to use. The final result will be compared with that of the 7  was TAS scrape case. The SCT_Digitization package in Athena 14.2.25 with ATLAS geometry GEO-02-01-00 was used. The HITS files for the 450  beam pipe scrape events were used as the input and the charge deposition and strip information was saved as n-tuples just before the digitization step (at which point the charge information is lost). It was done this way because the n-tuples will be required for the sampling-with-replacement method described in subsection 4.3. Importantly the SCT_Digitization package accurately represents the module dimensions and the strip positions; it also shares charge deposited over neighbouring strips, creating clusters. Using this method, 'charge maps' - 2D histograms of barrel layers and end cap discs weighted by charge, are created. These plots are shown in Figure 2. The charge per strip was linearly scaled (i.e. multiplied by \(\frac{10^{8}}{\text{det}ents}\)) to get an idea of the order of magnitude for the charge per strip after \(10^{8}\) events (Figure 3).

### Results using the SCT_Digitization method

Figure 2 contains the charge maps produced using this method - they are effectively the unrolled layers and wheels shown in Figure 1(c). For the 4 end cap wheel sides and 4 barrel layer sides shown, each bin contains the charge for approximately 350 strips. This large bin size is used simply to make the charge distribution clear.

Figure 2: How charge is distributed in the 450 beam pipe scrape scenario on a given side of a selection of end cap wheels and barrel layers. Figures (a)–(d) show the distribution over selected end cap discs and (e)–(h) show the barrel layer distributions.

From the 2D histograms (with 1 bin = 1 strip) the number of strips with a given charge is plotted (Figure 3). Note, the charges collected by the strips have been scaled by \(\frac{10^{8}}{65000}\). The other reason for the scaling is to allow comparison with the final charge per strip plot for the sampling-with-replacement method for \(10^{8}\) events.

Though the above plots are useful for providing the right order of magnitude for the average charge per strip, this is not a valid way of determining the number of strips that collect a charge greater than 5nC. This is because the distributions for charge per strip plots depend on the number of events being used - e.g. Figure 4 shows the difference between linearly scaling from 10 000 of the fully simulated events as opposed to the 65 000 available. This is primarily due to the fact that for lower numbers of events, some proportion of strips will not collect any charge and hence scaling fails in these cases. Even after it is ensured that all strips collect some amount of charge, the relatively low statistics ensure the scaled distributions will be unreliable at the low and high ends of the charge scale. Ideally this determination of the charge per strip distribution would be done for \(10^{8}\) individually simulated events.

Now it would seem that the distributions (appropriately normalised) could be fitted with some simple

Figure 4: Comparison of number of strips with a given charge for 450GeV beam pipe scrape case (barrel layer 0). The green line has scaled charges from 10 000 events up to \(10^{8}\) and the red is scaled from 65 000 events.

Figure 3: The number of strips collecting a given charge from the charge distributions in Figure 2 - charges have been scaled by a factor \(\frac{10^{8}}{65000}\).

function (e.g. a Poisson distribution). However, this would not take into account the spread in charge collected per hit, which should follow a Landau distribution up to some cut-off point [12], or the non-uniform distribution of hits in the detector, resulting from the particular scenario being studied. Since the range of concern for maximum charge per strip seems to lie in the tail of the distribution - the number of strips collecting more than 5nC would be very sensitive to any fit. Therefore a method of sampling-with-replacement of events as well as the hit clusters that result from them seemed to be the most appropriate way to determine the number of strips collecting more than 5nC of charge for \(10^{8}\) events. Full simulation of \(10^{8}\) events is not an option, as it would be far too computationally intensive.

### Sampling-with-replacement method

For this method, the focus was on barrel layer 0 for the 450  beam pipe scrape case, as this was by far the layer in which the most charge was collected in this scenario. The steps of the method are listed below:

* Choose an event at random from the sample of fully simulated events (65 000 in this case).
* If the event produced clusters of strip hits in the relevant barrel layer or end cap wheel.
* For each of these clusters, _choose a 'new strip'_ in the relevant layer/wheel.
* Assign the charge collected by the centre strip of the cluster to this new strip, and the other charges that make up the cluster to the corresponding adjacent strips.

This is done as many times as required - in our case it will be \(10^{8}\) events.

#### 4.3.1 Selecting a new strip

Initially each new strip was chosen by sampling the distribution of hits in the relevant layer/wheel (using the GetRandom2() function in ROOT). This distribution is shown in Figure 5(a). However, upon attempting to verify this method by comparing charge per strip histograms for 65 000 sampling-with-replacement events with 65 000 fully simulated events it was found they did not agree (Figure 5(b)).

Figure 5: Sampling the hit distribution, (a), to choose a new strip for the sampling-with-replacement method leads to a disagreement in the charge-per-strip distributions, (b).

The reason for this disagreement turned out to be a dependence of cluster size (i.e. the number of strips covered by the cluster) on detector geometry that was not being accounted for. Though the dependence of cluster size on geometry appears relatively minor, not accounting for it results in a broader charge per strip distribution than should be the case (see Figure 5(b)). Therefore, the new strips had to be chosen using a different method.

The method settled upon was to choose the new strip by first creating histograms of the cluster size versus the position of the centre strip of the cluster. This requires histograms of 'cluster size versus strip#' (Figure 6(a)) and 'cluster size versus eta_module' (Figure 6(b)) for each cluster. Depending on the size of the cluster to be relocated, the appropriate 1D slice is obtained from these two histograms and the slices are treated as probability distributions. These distributions are then sampled to get a strip# and eta_module value for the new strip. It should be noted that the very large cluster sizes (covering of order 100 strips) are rare but do occur and correspond to particles that loop around in the magnetic field or those that simply enter the detector at very shallow angles.

Figure 6: Cluster Size versus Position plots used for sampling-with-replacement method.

Figure 7: Cluster size dependence on position for barrel layer 0, for 450 GeVbeam pipe scrape scenario. The slices have been normalized.

Figure 7 shows the differences in distribution for two slices (of cluster size 3 and 23) of the 2D histograms in Figure 6. Though it is not a large difference, not accounting for it is enough to produce the smearing out of the charge per strip distribution that happens in Figure 5(b). From the above examples it is clear that some information was lost by not accounting for the change in distribution in the barrel layer with cluster size. Plots validating this method of relocating hit clusters are shown in Figures 8 and 9, as well as charge per strip. Results for \(10^{8}\) sampling-with-replacement events for both scenarios are presented in subsection 4.5.

### Sampling-with replacement method validation

In Figure 8 a comparison is made between the charge maps produced using 65 000 sampling-with-replacement events and 65 000 fully simulated events. The plots are again for the 450 GeV beam pipe case, barrel-0.

In Figure 9 the charge per strip histograms are compared for 10 000 sampling-with-replacement and fully simulated events (8(a)) and for 65 000 sampling-with-replacement and fully simulated events (8(b)). The plots show good agreement, this will be discussed in the following section (5).

Figure 8: Comparison of charge distributions for fully simulated events, (a), and sampling-with-replacement events, (b). The 450 GeV beam pipe scrape scenario is used.

### Results using sampling-with-replacement method

Figure 10 shows the same charge per strip plot as presented in the previous subsection, but this time for the full \(10^{8}\) sampling-with-replacement events.

The same procedure (section 4.3) was followed for the 7 TeV TAS scrape scenario and the equivalent charge distribution and charge-per-strip plots are included in Figure 11 for comparison.

Figure 10: Number of strips with a given charge - for \(10^{8}\) sampling-with-replacement events.

Figure 9: Charge-per-strip comparisons in barrel layer 0 (side 0) between fully simulated events and sampling-with-replacement events.

## 5 Discussion

Consider the 450 GeVbeam pipe scrape scenario first. The general direction of the secondary particles can be deduced from the charge maps in Figure 2. The protons travel from the \(-z\) side to the \(+z\) side, colliding with the top of the beam pipe. Each bin in these charge maps represents groups of \(\sim\)350 strips next to each other in order to make the distributions clearer. The outer side of the outer-most end cap wheel on the \(-z\) side of the detector (Figure 2(a)) gets the least charge, while strips in the inner-most end cap wheel on the \(+z\) side (Figure 2(c)) collect approximately the same amount of charge as those of barrel layer 1 (Figure 2(g)). The greatest amount of charge is collected in barrel layer 0 (Figure 2(h)) - which is why this case has been the focus of the sampling-with-replacement method for this scenario. It collects almost twice as much charge as the next worst hit layer/disc (Figures 2(c) and 2(g)). Of course a lot depends on the particular scrape scenario, but the sampling-with-replacement method can always be run on other layers or wheels depending on which is worst hit in any given scenario.

In Figure 8 the charge map obtained using the sampling-with-replacement method (Figure 8(b)) is compared with the equivalent one produced using the fully simulated events (Figure 8(a)) - the distributions are in good agreement. A clearer demonstration that the method is working correctly comes by comparing the charge-per-strip histograms, Figure 9(b), with Figure 5(b). There is a marked improvement from the sampling-with-replacement performance as compared to Figure 5(b). Importantly the method also matches the charge-per-strip distributions for smaller numbers of events - for example, a comparison of 10 000 sampling-with-replacement events and 10 000 fully simulated events is given in Figure 9(a) and they match up well. Since the method reproduces the distributions for \(\#events\leq 65000\) it was assumed to be valid to extend it up to \(10^{8}\) events - to within any uncertainty resulting from interactions between secondaries, and their collective effects on the detector, which is beyond the scope of this study.

The charge per strip histograms in Figure 3 are obtained from the charge maps from Figure 2 - the charge collected by each strip is simply scaled by the factor \(10^{8}/65000\). This was done to see if the 5nC/strip limit was in danger of being breached or whether the charge collected would be orders of magnitude below this. From these plots it was thought that a number of strips may collect charge of order 5nC. This was the primary motivation for creating and implementing the sampling-with-replacement method.

Figure 11: Charge map and charge-per-strip plots for the 7 TeV TAS scrape case, for barrel layer 0, side 0.

Results for \(10^{8}\) sampling-with-replacement events (Figure 10) show strips receiving a maximum charge of \(<0.7\)nC - much less than suggested by linear extrapolation from the 65 000 fully simulated events, and below the threshold at which damage would be done to the readout chips. Apart from the 6 strips that receive more, the distribution seems to end at \(\sim 0.4\)nC. As the number of sampling-with-replacement events is increased the tail of the charge-per-strip distribution gets much thinner, with the number of strips collecting high charge (\(>0.7\)nC) dropping to zero (Figure 10(b)).

In the 7 TeV TAS scrape scenario, barrel layer 0 was again the layer/disc of the SCT in which the most charge was collected (Figure 11(a)). Running the sampling-with-replacement method for \(10^{8}\) 7 TeV TAS scrape events (Figure 11(b)) demonstrates that the maximum charge collected by a single strip in the worst hit barrel layer should be \(<1.9\)nC, in a 25ns window under the assumption that \(\sim 10^{8}\) protons would collide with the ATLAS TAS collimator per bunch.

## 6 Summary

From the 450 GeV beam pipe scrape scenario studied under a moderate scrape assumption the charge deposited in the strips of the SCT modules _does not_ breach the 5nC threshold, nor does this occur for the 7 TeV TAS scrape scenario - however the charge deposited is of the same order of magnitude as this threshold. A more extreme scrape assumption, say, \(10^{9}\) proton collisions would likely begin to damage readout channels. For a beam scrape of \(10^{8}\) proton collisions per bunch the strips of the SCT should not collect more than 2nC per strip. The ABCD3T chips of the SCT modules should therefore not incur damaged read-out channels given these scenarios and the assumptions made in this study.

## 7 Further Work

There are two main points that have not been addressed here. The first is whether the assumption of \(10^{8}\) proton collisions from a single bunch is realistic, for the purpose of this note a number of collisions (\(10^{8}\)) was chosen in the knowledge that the end result (the charge-per-strip distribution) once obtained, could be reproduced for any number of events required. The 'pile-up' effects from multiple bunches scraping would also add extra complications that would need to be tackled in tandem with the other major point overlooked in this analysis: how charge collection efficiency changes with such large numbers of secondary particles passing through the modules. This was not possible to determine with the hits data and sampling-with-replacement method developed here, as the hits are the result of _single_ simulated proton collisions and what is effectively required is to treat all the hits as if they were from the same event.

## References

* [5] A. Gorisek, _The ATLAS Beam Condition Monitor Commissioning_,.
* [6] V. Cindro et al., _The ATLAS Beam Conditions Monitor_, J. Instrum. **3** (2008) P02004.

* [12] W. R. Leo, _Techniques For Nuclear And Particle Physics Experiments_. Springer-Verlag New York, LLC, 1994.