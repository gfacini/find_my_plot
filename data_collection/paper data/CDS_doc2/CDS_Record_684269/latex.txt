**The PMT Test-Bench in Pisa**

E. Cicalini, D. Costanzo, T. Del Prete, E. Mazzoni, G. Usai

_INFN and University of Pisa, Italy_

One of the seven test-bench for the R7877 Hamamatsu photomultipliers has been set into operation in Pisa. In this note we discuss the installation, the debugging and the operation of this test bench using DC light (Step 1). Some systematics measurement have been performed in addition to the standard protocol measurements and are discussed here. Only a small emphasis is given to the results obtained on the first half (750) of PMTs tested because this point needs to be addressed in a wider contest within all the seven collaborating institutes. Finally, with a slight modification of the apparatus, the photocatode uniformity for a set of 16 PMTs has been measured.

###### Contents

* 1 Introduction
* 2 Test Bench Arrival and Visual Inspection
* 3 Mechanics and Optics Alignement
* 4 Electronics Testing
	* 4.1 High Voltage Check and Calibration
	* 4.2 Test of the I/V Converter Modules
	* 4.3 Noise Reduction
	* 4.4 Temperature Stabilization
	* 4.5 Programmable Voltage Module Calibration
* 5 The Data AcQuisition
* 6 The Measurements
* 7 Intercalibrating the Bench with 24 Reference PMTs
* 8 Sub-Batches Qualification and Monitoring PMTs
* 9 Scan of the Photocatode
* 10 Conclusions

Introduction

The TileCal detector will be instrumented with about 10,500 Hamamatsu R7877 photomultipliers (PMT), and it is of crucial importance to measure the relevant characteristics of those PMTs having in mind that they will operate for more than 10 years after the LHC start-up.

Seven test-benches are being set up to share the testing and characterization of those PMTs. The quantities to be measured are: the dark current, the quantum efficiency, the photocatode linearity, the gain as a function of the supplied voltage, and the stability of the response for lighting periods of a few hours. A detailed description of the test benches as well as of the techique used to measure those quantity can be found in ref. [1].

One of these test-benches has been set up in Pisa. From the point of view of the mechanics, electronics and optics this bench is the same as the one described in ref. [1]. However a different high voltage power supply is used (a CAEN SY527, instead of a LeCroy 4032) and the data acquisition is based on VME processor module, instead of a Labview based one. The DAQ system used has been already implemented for the PMT block test and its main feature are described in ref. [2]. The final implementation of the DAQ will be repur praised in section 5.

In this note we summarize the experience gained during the bench final assembly in Pisa. Finally the test has been debugged using three old PMTs from a Hamamatsu pre-production while the intercalibration of the bench with the already existing one in Clermont Ferrand has been achieved with 5 PMTs from batch 1 production and with a set of 24 PMTs used as a reference sample and circulating among the labs.

We also discuss of all the systematic effects which have been studied, and the efforts we made to understand the ultimate precision achievable with the test-bench.

Finally we present some measurements made to study the uniformity of the photocade window response, showing that an increase in response can be present at the edge of the photocatode.

The work on systematics and on the photocatode scan is described in details on the diploma thesis (in italian) of Enrico Cicalini [3] who is co-author of this note.

## 2 Test Bench Arrival and Visual Inspection

The mechanical assembly of the test-bench has been done in Clermont Ferrand, and we received it on August 2nd, 2000. As soon as we received it we checked that all the mechanic and electronic components were present and that all the fragile parts were not damaged. We did not find any problem connected with the bench transportation and we started to assemble it in the final configuration in our lab in Pisa. A photo of the final set up is shown in figure 1. The bench consists of a light box, inside which there are two LEDs used to light the PMTs. The blue light produced by the LEDs can be attenuated by neutral density filters mounted on wheels and is transmitted to the dark box through two liquid fibers and then splitted into other optical fibers to light each PMT and the calibration photodiodes inside the dark box.

Particular care was dedicated to the darkening of the box. We put black tape to cover all the holes, realizing that light can also sneak inside the box through the styro-foam which is used as thermal insulation. We also used a black cloth to cover the slot which is used to pass cables inside the dark box. After that, we checked the light tightness by putting a PMT inside the box and inspecting the external part of the box with a torch. No significant deviations (above 100pA) where found in the measured (dark) current of the PMT. As a further improvement we darked also the windows of the laboratory using alluminium sheets.

The two boxes sit on two different tables placed at 90 degrees one respect to the other, with the electronics crate in the middle to optimize the cabling. On the right of the crate there is a terminal station from where we control the DAQ and run the test. The part of the lab on the back of the two boxes, close to the window, has been arranged as a working area to prepare the PMTs to be tested.

Figure 1: _A picture of the laboratory where we assembled the PMT test bench. It is based on two boxes (one dark box and one light box), a rack, and a DAQ control station._

## 3 Mechanics and Optics Alignment

The mechanics and optical alignement of the test bench components is important for the correct operation of the test. For instance, a correct positioning of the two stepper motor axes guarantees a good movement of the measuring grid and reduces the risk of mispositioning. This grid has 25 holes which match 25 light mixers which are lighted from the bottom by optical fibers carrying the light

One of the motor bearings was broken, but a new one has been provided and we mounted it. Before moving the grid we checked that it was parallel to the plane passing on the top of the light mixers.

At this point we could move the PMTs grid to measure the light coming out from each mixer measuring the current of the photodiode which is stuck in the center of the grid. Moving the grid we can intercalibrate the light in the 24 channels where the PMTs are housed. To achieve a good intercalibration is crucial that the photodiode is moved in correct position, i.e. is centred on top of the mixer. For this task we used a special tool provided by Clermont-Ferrand to check the alignement in different grid positions.

The ratios between the light seen by the photodiode in the central position divided by the peripheric ones, is reported in figure 2 for one run of calibration. These factors have been stable within a few percent over the about 80 measurement performed during one year of operation of the test-bench. We also checked that the factors are stable if the photodiode follows a different path along the 24 positions. It can be noted that the average of this values is about 9.3 while we expected a value around 13 as the central bundle of fibers is made of 13 fibers. This 30% shift is due to the glueing of the fiber bundle, in fact there is a visible difference in the level of light of the fibers placed in front of the photodiode, as some of them are not lightened. Solving this problem would need a major modification of the bundle, operation we decided not to perform.

Figure 2: _Intercalibration factors as measured during the run 1070. The individual factors are reported for each position together with the serial number of the photomultiplier. This operation is repeated for each run._Using the central photodiode we measured the attenuation factor of the neutral density filters mounted on a wheel in the light box. The attenuation factor is defined as:

\[\frac{I_{nofilter}-I_{dark}}{I_{filter}-I_{dark}} \tag{1}\]

and the values for the three filters which are mounted on the wheel used for DC-light test are summarized in table 1. The error in the table is the r.m.s. obtained from 15 consecutive measurements. These values were stable during the operation of the test bench, indicating that the optics has been well fixed and is stable.

The transmission coefficient as a function of the wheel position (in stepper motor steps) is plotted in figure 3 (left). The actual position of each filter center is evidenced with an arrow, showing that we are positioning the wheel almost at the maxima of this curve. It can also be noted that arrows are in the middle of a plateau zone, which means that small differences in the positioning of the wheel do not affect the attenuation factor.

A similar exercise has been repeated to check the positioning of the PMT grid. In figure 3 (right) it is shown the light output for a scan along the \(x\) direction passing through the center of the holes. Again the arrows indicate the position of the grid when a intercalibration run is taken. It can be seen that those arrows are centered around the maximum of the distribution. There is no evidence for a plateau, as the dimension of the light mixer is nearly equal to that of the photodiode. When the photodiode starts seeing light from a mixer the output increases linearly with the position as can be expected. A dashed line is drawn to drive the eye.

We obtain that an error of a motor step in the positioning of the grid results in a variation in the light seen by the photodiode of 3 parts out of ten thousands. Because even a positioning error of only a motor step is very improbable, the situation is satisfactory regard to the precision we want (about 1 %).

## 4 Electronics Testing

After this alignement step we checked the correct functionality of all the electronic boards involved in the test.

### High Voltage Check and Calibration

The high voltage system used in our test bench is different from the one described in ref. [1]. Our HV system is a CAEN Sy527 programmable voltage and we are communicating with it using the Caenet protocol via a VME V288 board [4]. This high voltage

\begin{table}
\begin{tabular}{c|c} Filter & Attenuation \\ \hline
1 & \(1200\pm 5\) \\
2 & \(104.2\pm 0.1\) \\
3 & \(11.22\pm 0.04\) \\ \end{tabular}
\end{table}
Table 1: _Attenuation factors of the three neutral density filters mounted on the DC wheel._system allows also a monitoring of the voltages which can be used to trace the correct functioning of the board both before and during the test. Since we noticed that sometimes the HV was not properly set due probably to miscommunicationon the Caenet line, we implemented in our DAQ system a check of the high voltage, every time we change it. If the measured high voltage does not correspond to the set one, we perform the setting again. It happens seldom, that 3-4 attempts are needed before the correct values are setted.

We checked with a voltmeter that the output voltage of each channel is within a few tenth of a volt of the value which is actually set.

### Test of the I/V Converter Modules

The measurements of the first part of the PMT testing are performed using the DC light of a LED. All the signals are, in fact, current signals from the PMT or from monitoring photodiodes. The PMT currents to be measured vary from a fraction of a nA (in the case of the dark current measurement) up to 2\(\div\)3 \(\mu\)A (in the case of the short term stability measurement). These currents are measured with a dedicate I/V converter NIM board which basically measures the voltage drop on a resistor. The value of the resistor can be selected under DAQ control between two values: 5M\(\Omega\) and 511k\(\Omega\) one in case of high and low gain respectively.

We checked this module by injecting a known current with a power supply and a resistor in serie to the input resistance of the NIM board. By measuring the serie resistance

Figure 3: _Left: Transmission coefficient as a function of the number of stepping motor steps. The arrows indicate the actual position of the wheel when we select one of the five positions. Right: Scan along the \(x\) direction to check the correct positioning of the grid during the mixer intercalibration procedure._

and the voltage difference between its edges we could measure the input current and thus calibrate the 24 channels. The conversion factors turn out to be \(5.00\pm 0.01\) M\(\Omega\) and \(510\pm 2\) k\(\Omega\) for high and low gain respectively. In the rest of the test the nominal values of the resistors were used.

### Noise Reduction

The measurement of the dark current requires a correct understanding of the noise level in the laboratory. Particular care has to be taken for the signals from the dark box to the electronics through a twisted pair cable, since it can collect electromagnetic noise from the environment. This is particularly true if there is a strong signal from a local radio station, as in our lab.

When we first mounted the test bench in our lab, the noise level was of the order of 200 pA, too large being of the order of the dark currents to be measured. This caused also the presence of negative measured currents when the fluctuaction was bigger than the signal itself. For this reason we had to carefully understand the grounding and the shielding of all the pieces of the test bench. The dark box, the light box and the crates have been put to a common ground and the twisted pair flat cable, carrying the current signals has been shielded. After all this the dark current measurements are stable within 10 pA. In figure 4 we show the behavior of the dark current as a function of time for a period of 7 hours. It can be seen that the fluctuation around the measured current of 150 pA are lower than 10 pA.

### Temperature Stabilization

The test of the PMTs has to be performed at a stable temperature of 23.0\(\pm\)0.1\({}^{0}\)C. This is achieved using four Peltier elements fixed onto two sides of the dark box. The temperature has been monitored with four solid state termometers inside the box and one outside. Of course a better stabilization can be obtained if the room is at a stable temperature,

Figure 4: _Dark current as a function of time for a period of 7 hours. The fluctuation in the measurement are lower than 10 pA_

i.e. air-conditioning is present. The dependence of temperature with time is sketched in figure 5. After a first stabilization we switch on the stepping motors for some time to check their effect. As a final result we can say that temperature is stable for measuring PMT's after about two hours. The temperature inside the box is stable within 0.04\({}^{o}\)C, and it can be seen that the switching on and off of the motors causes a small effect of the temperature sensors which are close to the inner stepping motor. The stabilization of the room temperature is obtained by using an air-conditioning unit and selecting a temperature below the outside temperature (these data were taken in August with an external temperature of about 30\({}^{o}\)C... a nice day for swimming). Fluctuations in the room temperature are due to the duty cycle of the air-conditioner and were reduced by directing the air flow away from the test bench.

### Programmable Voltage Module Calibration

The three voltages which are delivered by the programmable voltage module has been tested and calibrated under the DAQ control. This voltages can be read back after a divider which reduces their full range to match the -2.5, 2.5V range of the slow ADC. The ratio between the nominal voltage and that read by the slow ADC has been measured in three points by means of a digital multimeter (Keythley 2700). After this ratio has been measured, we can calibrate this modules as voltage vs. the DAC set by the DAQ. Those curves are reported in figure 6 for the 15 V programmable voltage. The value of the slope and of the intercept have been monitored during the running of the test bench to assess the correct working of the apparatus.

Figure 5: _Temperature variation as a function of time expressed in seconds. Temperature inside the box can be stabilized at a level of 0.04\({}^{o}\)C. The effect of the switching on of the stepping motors is also investigated._

Figure 6: _Voltage on the 15 V programmable unit as a function of the DAC value set by the DAQ._

The light delivered by the blue LED in the light box can fluctuate. These fluctuations are corrected by monitoring the light flux with a photodiode inside the light box. This correction is efficient if changes occours with a characteristic time, of a few minutes, i.e. longer than what is needed to perform the 24 PMTs measurement (we measure the photodiode light before and after the PMTs). However during the short term stability measurement, the LED is switched on and off using a rele causing variation with a time constant of about one minute. It can be seen in figure 7 that when the rele is switched on, i.e. the LED is emitting light, we have a voltage drop of a few part per mille. The same behavior is found in the output of the monitoring photodiode inside the light box, meaning that about 10 minutes are needed to set the light delivered by the LED to a stable level. Fluctuations in light of the order of the \(2\div 3\%\) occur in a 10 minutes interval (see figure 7-right). This affects the current measured during the first minutes, so we decided to start taking data only after 10 minutes of LED warm-up.

## 5 The Data AcQuisition

The layer structure of our software is the following:

* this is the part of the code that interfaces to the menu, data and file handling and deals with the error management. It takes care of the VME bus initialization and read/write functions. This is the only platform dependent part of the code and must be written according to the hardware used to control the VME bus.
* Every board has its library of functions that are responsible for initialization, control and data acquisition. If a new board is added a new library has

Figure 7: _Left: Voltage delivered by the programmable voltage unity as a function of time. Right: Output of the monitoring Photodiode inside the light box._

to be supplied. The debugging is made easier by the fact that only the basic functions have to be checked while more complex functions can be obtained by suitable scripts. At this level the software is platform independent and can be moved from one system to another without changing the code if the system supplies an ANSI-C compliant compiler.
* This is the part dealing with the implementation of a specific test. The user takes advantage of the hardware functions without worrying how operations are performed and has only to concentrate on the measurements and to write the specific files. This part is, of course, platform independent.

The software has been developed on a Cetia PowerPC board (CVME 604) with LynxOS 2.4 operating system. An ANSI-C compiler is supplied.

Every hardware board is described by a set of commands available from a sub menu in the DAQ program used, for example, to set the number of boards present in the crate, the VME address to access them and the basic read/write functions.

The DAQ system is essentially a command line driven program, with simple operations available from menus and sub menus that perform specific actions. Multiple commands can be written on the same line and the program takes care of splitting them in individual items. These commands can be grouped in text files called "macros" that the program is able to access. Macros can be called and nested and complicated sequences of commands are easily obtained thus providing a very high level of flexibility. Any kind of test bench can be implemented without too much trouble provided the right macros are written.

To handle the data coming from the VME boards we have included in the system a histogram handling package a la HBOOK [5], a data handling package a la SIGMA [6] to perform simple mathematical operations and a file handling packages. An online data analysis can be performed and data can be written on disk for an accurate data analysis to be done off-line.

## 6 The Measurements

All the measurements performed with the test-bench follow the protocol defined in ref. [1] and the further actions taken in the meeting we had with the other collaborators. We start our measurements with an "auto-test", which is an automatic test of the components of the bench, in order to spot eventual problems. Before each measurement we measure:

* Attenuation factor of filters and intercalibration of the 24 channels;
* low/high voltage programmable power supplies and high voltage power supplies.

After this and some burn-in we start measuring the dark current of the PMTs as a function of the high voltage applied. The precision achievable is of the order of 10 pA, as discussed in section 4.3. An example of the dark current for a PMT as a function of the high voltage is given in figure 8 (left).

Then the divider is set in photocatode mode, i.e. all the dynodes are short-cutted in order to exploit the behavior of the photocatode and first dynode. In this configuration the PMT works in a way similar to a photodiode. The collection efficiency is measured, by lighting the photocatode, and by changing the voltage applied between the photocatode and the first dynode from 0 to 100 V in 2 V steps. All the PMT saturates in current for voltage values lower than 10 V. An example of a collection efficiency curve is given in figure 9, for the same PMT used in the previous paragraph. Accordingly to the protocol, the collection efficiency is measured considering a saturation current of 10 nA.

We have also checked the dependence of the 90% saturation voltage on the absolute saturation current. In figure 10 this dependence is shown for three pre-production PMTs we received for debugging purposes. It can be seen that the saturation voltage has a (linear) dependence on the saturation current. This is due to the creation of a spatial charge in between the photocatode and the first dynode, which is changing the electric field in this region.

Quantum efficiency is then measured by setting the divider in photocatode mode and lighting the PMTs in order to have an average current of 20 nA. The current on each PMT is compared to that seen by the photodiode (whose quantum efficiency is known) sitting in the center of the scanning grid. For this operation the intercalibration coefficients measured during the autotest are essential.

In this case we wanted to verify that the quantum efficiency, which is an intrinsic property of the PMT, measured using this techique does not depend on the total amout of light which is sent to the PMT. The quantum efficiency measured as a function of the light level is plotted in figure 11 for two old photomultipliers and it can be noted

Figure 8: _Left: Dark current as a function of the applied high voltage. Right: Gain as a function of the high voltage. This dependence is fitted with the function \(G=\alpha V^{\beta}\)._

Figure 10: _90% saturation voltage as a function of the level of light delivered by the LED._

Figure 9: _Cathode current as a function of the voltage between photocathode and first dynode._

that the quantum efficiency does not depend on the light hitting the photocatode as we should expect. Fluctuations in the data point are at the level of a 1\(\div\)2% which is the of the order of the statistics precision achieved with our bench on the quantum efficiency measurement.

The gain of the photomultipliers is measured by setting the light in order to have 10 nA to the first PMT (the one in the top left corner of the grid). Then the current in photocatode mode is measured for all the PMTs, and finally the light is reduced by a factor 1200 using the filter with the highest attenuation. The current (in anode configuration) is then measured varying the high voltage. The gain is thus defined by:

\[G=I_{a}\cdot A/I_{c}\]

where \(I_{a}\) and \(I_{c}\) are the currents measured (with pedestal subtracted) in anode and cathode mode respectively and A is the attenuation of the filter as measured during the first phase of the test.

Figure 8 shows a plot of the gain versus the alimentation voltage. The data are fitted with the function \(G=aV^{\beta}\), and the voltage at which the gain is \(10^{5}\) is called nominal voltage. This last quantity is the quantity we are interested in.

The short term stability is measured by using the filter with the highest attenuation coefficient (1200) and setting the light in order to have 3 \(\mu\)A to the first PMT (the one in the top left corner). Then the PMTs are keeped in dark (turning off the LED) for 7 hours in order to reach stabilization in dark current, and finally we alternate periods of illumination and dark, in all 3\(\times\)5 hours. The difference between the maximum and the minimum (in percentage) of the anode current during the sum of the periods of lightning is indicated as short term stability. Figure 12 shows a plot of short term stability of two PMTs of ours.

## 7 Intercalibrating the Bench with 24 Reference PMTs

The 7 test-benches measuring and characterizing the TileCal PMTs need to be intercalibrated. To this aim, 24 PMTs were choosen to be measured by every test-bench. This intercalibration measurement is repeated every time a new batch comes to the seven laboratories.

Figure 11: _Quantum efficiency as a function of the level of light delivered by the LED._

Figure 12: _Signal of two PMTs of ours as a function of time, switching between suddenly dark and light, three times subsequently. Top: a PMT with a good short term stability. Bottom: a PMT with a bad short term stability._

Figure 13: _Properties of one PMT of the intercalibration set, as a function of the number of the intercalibration session. The asterisk denotes the measurement made in Clermont-Ferrand, the circles denote the measurements made in Pisa._

Figure 13 show the data of one PMT of the intercalibration set measured at Clermont-Ferrand and at Pisa when the different intercalibrations were done. The values of dark current, saturation voltage and short term stability can be rather different from an intercalibration to another one. Instead, the values of quantum efficiency and nominal voltage are well constant. An explaination is that the first quantities are intrinsicly small and, in the case of dark current, difficult to be measured. Moreover, dark current and short term stability depends strongly on environmental conditions.

## 8 Sub-Batches Qualification and Monitoring PMTs

After all the measurement procedure has been set up, and after we were sure of the correct working of our test bench we started measuring the production photomultipliers (750 so far).

To do this we need a robust and automatic procedure, to reduce the repetitive work, so we set up an automatic system based on 3 components:

1. the DAQ CPU and software which produce the raw data in ASCII files. After the end of a run all the data are transfered automatically by the DAQ system to an HP Unix server for the long term storage and data analysis;
2. the HP Unix server which keeps the disk space for the data storage and can communicate with the DAQ system to do the data analysis in bath mode using PAW. The results of the data analysis are stored in an AFS area and are ready to be put on the web [7];
3. PC with Windows NT which access the results of the analysis from the AFS area and let us to fill the database using a set of Visual Basic programs. At this point the system do the acceptance/rejection check and at the end all the necessary information are automaticly available in the web.

Moreover we developed a set of DAQ macros for the error check and recovery and thanks to the interconnection between the DAQ and the HP it is possible to inform the on-call person of a problem during data taking, both by e-mail and SMS on portable phone.

The operator intervention is needed just at the beginning of a run to put the PMTs in the system, start the new run and fill the database with the results of the previous run. The data flows and the connection of the entire system are sketched in figure 14

In the PMT grid there are 24 places available for the phototubes to be measured. In the corner places the same 4 reference phototubes are put in every measurement session. In this way, we can observe and control the behavior of the test-bench along time, or, from a complementar point of view, the stability of the properties of a sample of our photomultipliers.

The quantities with less fluctuations along time are quantum efficiency, \(\beta\) of gain curve and nominal voltage: the greatest variations are, respectively, 2 %, 1.1 % and 1.5 %. The other properties show greater dispersions of the values. This is simple to explain: they are intrinsicly small quantities and, in the case of dark current, difficult to measure. Moreover, dark current and short term stability depends strongly on environmental conditions.

In every case the constancy of the values is satisfactory for our scope.

## 9 Scan of the Photocatode

In the final section of this note we describe some measurement we made to check the uniformity of the photocatode by lighting it with a point-like source. The central light mixer has been taken out and changed with a black PVC box having the same dimensions. Inside this PVC box, a hole has been drilled terminating with a 0.5 mm diameter (see figure 15 top) which can be used as a point-like light source. With this minor modification to the test bench, accurate measurements of the photocatode uniformity can be performed by moving the PMT grid, each step of the stepping motors corresponding to 5 \(\mu\)m. The precision achievable with this method will be of the order of the dimension of the light source, i.e. 0.5 mm. By inserting a light mixer between the light source and the PMT we can measure the uniformity of the photocatode after the light propagation is randomized (see figure 15 bottom). In figure 16 we show a one-dimensional scan of the photocatode along two directions. On the left the scan is made perpendicularly to the dynode structure, while on the right this is done along the dynodes. The venetian-blind structure can be clearly seen, meaning that the resolution of our method is of the order of a few tenth of a millimeter. To further check the validity of this operation we scanned one PMT twice rotating it of \(180^{o}\) obtaining results compatible within statistical fluctuations. We performed a 2-dimensional scanning of the photocatode surface of 16 PMT's. Some of them have a uniform surface responce (see figure 17 left), while others have a shallow minimum responce in the middle and/or a big rise in efficiency on the edge (see figure 17 right). This behavior could indicate the presence of a problem in the deposition of the photocatode material. The non-uniformity to light response has been quantified using

Figure 14: _Diagram of the operations performed during a test. Data are moved from the lab cpu to a HP-UX workstation to be analyzed and finally to a PC running Windows-nt for the DataBase storage._

Figure 16: _One dimensional scan of the photocatode, perperticular (left) and along (right) to the venetian blind dynodes._

Figure 15: _Sketch of the modification made to the light mixer to perform a scan of the photocatode. The scan has been repeated with (top figure) and without (bottom figure) light mixer._

either the rms or the maximum relative variation of the light responce as a function of the position. The distributions of those two variables are shown in figure 18.

We also correlated the photocatode uniformity with the other characteristics of each PMT measured with the test bench to clarify if "bad" photomultipliers were to be correlated with a non optimal photocatode deposition. No correlation was found with any of the variable we measured in the standard protocol.

Finally we have studied the effect of the light mixer in front of the PMT, this measurement was performed only for one PMT, and we chose one (AA5959) with a higher light responce on one edge. To do this we put a light mixer between the PMT and the point-like source. This light mixer is moved together with the PMT. The results are shown in figure 19. The structure seen when the photocatode is tested without mixer (left plot) can be found smoothed when the mixer is inserted (right plot). The non-uniformity for this PMT (defined with the rms method) goes from 19.5% to 10.6% after the mixer is used. The measurements we made with the mixer does not exactly correspond to the actual situation in TileCal. In real-life, in fact, the mixer is lighted by a fiber with an angular opening of about \(15^{o}\), while we are lighting the mixer with a point-like source with a narrower angular opening. The average light path inside the mixer is shorter in our case, so we expect the mixer to be slightly more efficient in the real situation.

## 10 Conclusions

A test bench for the Hamamatsu R7877 photomultipliers has been succesfully installed and set into operation in Pisa. A careful debugging of the system has been performed before starting the quality control measurement, and a data acquisition system has been

Figure 17: _Two dimensional scan of the photocatode, of two photomultipliers. The venetian blind structure can be seen also in these scans. An increase in light efficiency is clearly seen on the edges of the PMT used for the left plot._

Figure 19: _Scan of the photocatode for the PMT AA5959, with no light mixer in front (left) and with light mixer in front (right)._

Figure 18: _Distribution of non-uniformity of the photocatode response. In the top plot the non-uniformity is defined as the maximum relative difference between different points on the photosensible surface, while in the bottom plot it is defined as the rms._

set up to test the photomultipliers in a highly automated way. More than half of the PMTs have been tested, at the moment, using DC lights and the test bench performances are stable after one year of operation.

Finally a scan of the surface of 16 PMTs has been performed using a point-like light source, evidencing some possible problems with the photocatode uniformity.

## Appendix: The DAQ software

In this section we will show some examples of how the scripts used in the Data Acquisition for these tests looks like.

To each board in the VME crate corresponds a set of instruction which can be either called by a script or manually by the operator, allowing a fast debugging of the system without a recompilation of the code.

The scripts are ordered in a hyerarchy structure by using the unix filesystem.. The top level scripts organize the sequence of the different tests. The first script is the _testbench.uic_:

@./autotest.uic @./dark.uic @./qe.uic @./collection.uic @./gain.uic @./statab.uic!

The script consists of several calls to other scripts, to perform the measurements included in the test protocol. The first is the script _dark.uic_ which is listed below:

! Macro to measure the dark current!! E. Mazzoni, D. Costanzo, T. Del Prete 04-09-00!! #./dark/init.uic sigma fopen./data/dark.dat ret loop 9 @./dark/loopHV.uic message "\n" ssigma fclose! < 800 > x3 ret @./sy527/set.uic @./sy527/wait.uic @./sy527/off.uic @./dark/calc.uic @./dark/print.uic

In conclusion the whole DAQ is made of basic routines, specific of each electronic instrument housed in the VME crate and a structure which permits high level calls from non compiled code. The whole system is nicely designed in such a way that scripts can call each other or be called manually by the operator. Facility exists for linear fits to histograms, histogram manipulation, mathematical operations, as in _SIGMA_ in _PAW_.

## References

* [1] M. Crouau, G. Montarou, D. Rey. ATL-TILE-98-148 _Technical characteristics of the prototype of the TILECAL photomultipliers test-bench_
* [2] D. Costanzo _et al._ ATL-TILE-2000-012, _The PMT block Test Bench Developed in Pisa_
* [3] E. Cicalini, _diploma thesis: "Studio delle proprieta dei fotomoltiplicatori impiegati nel calorimetro adronico per l'esperimento ATLAS ad LHC"_ (in italian), University of Pisa, July 2001. Available at _[http://www.pi.infn.it/atlas/Atlas/tesi.htm_](http://www.pi.infn.it/atlas/Atlas/tesi.htm_).
* [4] C.A.E.N. s.p.a, Viareggio, Italy.
* [5] R. Brun, HBOOK users guide, Program Library Y250. CERN, 1992.
* [6] R. Brun, O. Couet, C. Vandoni and P. Zanarini, PAW users guide, Program Library Y250. CERN, 1991.
* [7] Information on the Pisa test-bench as well as the results of the measurements can be found at: _[http://www.pi.infn.it/atlas/pmt/_](http://www.pi.infn.it/atlas/pmt/_)