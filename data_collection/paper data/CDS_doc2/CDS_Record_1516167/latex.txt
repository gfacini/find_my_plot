Phase 2 LOI Backup Document

Silicon Strip Tracker R&D Status

Editor: Carl Haber

Draft Outline

1. Introduction: This backup document to the Phase 2 LOI discusses R&D ongoing and required in support of the silicon strip tracker replacement. For the ongoing aspects we will review the status and plans. For the new or pending aspects we will discuss requirements technical or resource.
2. Overview of systems needs for R&D: The R&D needed for the tracker falls into a number of broad categories, detailed below. 2.1. Mechanical: The basic element of the tracker is a stave, built up from a thermo-mechanical stave core. The stave core is composed of various carbon based materials, adhesives, and cooling structures. These materials and their fabrication and assembly is an R&D topic. The staves are mounted on light carbon fiber barrels, also a topic of R&D.
2.2. Sensors: This covers the design of prototyping of silicon strip sensors. 2.3. Cooling: This covers the basic cooling system, cooling plant, and requirement. 2.4. Electrical: This covers the FEE, hybrids, modules, and data transmission within the stave. 2.5. Powering: This covers the alternative powering schemes, serial and DC-DC, and their control, monitoring, and power protection aspects. This also covers the HV distribution and monitoring within the stave. 2.6. Services: This covers all the off-stave services, in particular optical vs copper, cable plant and cable use/re-use scenarios, and coolant distribution. 2.7. Assembly: This covers the processes for manufacturing during production including hybrids, modules, cores, flex, staves, and module mounting. 2.8. Alignment: This covers mechanical alignment and monitoring with is not part of the assembly process. 2.9. Trigger: This covers the application of the stave tracker to a Level 1 track trigger.
3. Description and plans for ongoing R&D: In this section we review the status and plans of the ongoing R&D activities.

3.1. Stave Core Fabrication: Tim Jones and David Lynn

#### 3.1.1 Stave Core Description and Status

Fig. 1 shows a sketch of a typical stave core. The concept of the stave core is based upon a facing sheet/honey comb core/facing sheet composite structure which, like an I-beam, gives good stiffness-to-mass ratio. Embedded cooling tubes surrounded by thermally conductive carbon foam provide a cooling interface to remove heat generated in the silicon detector modules. Kapton bus tapes and modules consisting of single sided silicon sensors mounted with readout hybrid electronics are glued to both sides of the stave core. Side rails shown as carbon fiber tubes permit z-insertion and overall support of the stave core; alternatives to tubes such as C-channels with discreet locking points on one side are also possible. The current baseline is for the stave to support 12 silicon sensors/modules on each side, leading to the approximate dimensions shown as the detectors are approximately 10 cm x 10 cm in area.

For low mass-to-stiffness ratio the stave core is built with predominately carbon fiber or carbon structures. For example, the facing sheets utilize very high modulus K13D2U carbon fibers. A high thermally conductive path is provided by low density carbon foam \(\left\langle\vbox{\hbox{\includegraphics[scale=0.4]{figures/c1.eps}}}\right\rangle<0.46 \mathrm{g/cm^{3}}\)).

The main focus of current research is to decrease as much as possible the radiation length of the stave core whilst maintaining sufficient thermo-mechanical performance to cool the modules effectively and provide a stable support structure with sufficient robustness for the construction phase. Additional areas of focus are quality control and manufacturability. We briefly discuss that current status and direction of the R&D.

Figure 1: Sketch of one version of a stave core.

#### 2.1.2 Radiation length

Figure 3 shows a typical radiation length breakdown of the first generation staves and stavelets (short version of the stave)[1]. Total radiation length is 0.77%. The dominant contributors are the thermal foam (Pocofoam), the stainless steel cooling pipe, and the carbon fiber facings.

Figure 3: Typical radiation length breakdown of first generation staves and stavelets.

Figure 2: Picture of a stave core under construction. The stave core interior is show prior to attachment of the final face sheet.

Recent estimates predict decreased electronics power for final generation ASICs. This provides the opportunity to use thinner walled, smaller diameter cooling pipes. Additionally promising R&D into in-situ orbital welding of titanium have made thin titanium pipes a good candidate to significantly reduce the stave core radiation length.

A new type of foam resulting from a pixel R&D initiative is now being considered. This foam may be grown via chemical vapor deposition on an RVC skeleton to a customer specified density and corresponding thermal conductivity. This will permit optimization of the of the foam properties to deliver sufficient cooling power while minimizing mass.

The baseline carbon fiber face sheets utilized three layers of high modulus K13D2U prepreg with a area density of \(\sim\) 80 - 120 gsm. To be explored are whether lower areal density prepreg may be used, or whether two prepreg layers are sufficient to provide sufficient stiffness as well as thermal performance.

### Quality control and stave core characterization.

A number of techniques are being pursued to evaluate the mechanical and thermal performance of a stave core before it is mounted with expensive electronics. It is expected some of these techniques will become part of the QA process during the production phase.

A basic mechanical test of the will be the three point bend test from which one extracts the facing modulus and potentially the core shear modulus. Deviations from the expected and known values will indicate a problem with either the materials or the build. Another easy to implement technique involves measuring the impulse response of the stave shown in Fig 3. Either deviations from the norm can be used to exclude a poorly constructed stave or more advanced analysis can be used to extract modal parameters. A more advanced technique that will be evaluated involves ultrasonic imaging from which more localized defects in the build may be detected. Stave profile and flatness will also likely become part of the QA process.

It will also be critical to quantify thermal performance of the stave core before mounting it with more high value items. One potential technique involves chilling a stave core with coolant in dry air down to temperatures close to its expected operating temperature (\(\sim\) -20 to - 30 deg-C). The dry air is kept near room temperature and convectively heats the stave approximately uniformly across it surface. The stave can then be thermally imaged and its profile compared to the expected one to see if the thermal performance is as expected. Such a profile is shown in Fig 4. It is also expected each stave core will be thermally cycled and its thermal performance evaluated either through thermal imaging or some other technique. Details of this procedure will be researched.

### Manufacturingity.

To date only a limited amount of effort has been put into improving manufacturability. This is because the manufacturability is best optimized when decisions on the final design of the stave core are complete. Items such as support mechanism or the use of co-cured vs. non co-cured facings affects the manufacturing process. It is expected greater focus will be placed on manufacturability as these design uncertainties decrease.

Fig 6 shows one example of an effort under study to improve manufacturability and process control. The baseline method of gluing the honeycomb core to a facing sheet involved dipping the honeycomb in a thickness controlled sheet of epoxy and then placing the honeycomb onto the face sheet. Here the epoxy is used in the form of a glue film that is precut to match the honeycomb shape and cures at \(\sim\)80 deg-C. This potentially provides a more consistent attachment of the honeycomb to the facesheet.

Figure 4: Stave impulse response in the frequency domain.

[1] T. Jones "Stave Radiation Length" [https://indico.cern.ch/getFile.py/access?contribId=8&sessionId=0&resId=3&materialId=slides&confId=115355](https://indico.cern.ch/getFile.py/access?contribId=8&sessionId=0&resId=3&materialId=slides&confId=115355)

Figure 5: Thermally imaged profile of both sides of a 1.3 m long stave core.

Figure 6: Glue layer prepreg precut to shape of honeycomb for better process control.

3.2. Petal Core Fabrication: Carlos Lacasta

## 4 Petal Program

The petal concept follows very closely that of the stave. It is, in fact, a wedge shaped stave. Unfortunately the similarity is only _geometrical_ as can be seen in Fig. 1, where it is evident that, contrary to the situation in the barrel stave we have many different flavors of the different components of the petal.

The petal is also formed by a core made with honeycomb, carbon fiber facings and the cooling pile inside the structure as show in Fig. 2

XXXX petal prototypes have been built and they have extensively measured and a number of thermo-mechanical tests have been carried out on many of them. No electrical tests have been to up to now on a petal structure given its complexity and a program for building a smaller object to carry out electrical tests is ongoing.

Fig. 3 shows a generic assembly process of the different petal components and in this respect the procedure is not very different to that of the barrel.

Figure 1: Sketch of a petal showing the six rings of sensors and the nine different types of hybrids with an also different number of ASICs on each of them.

Figure 2: Exploded view of a petal.

### Results

As already said, only thermo-mechanical measurements have been done on the petal prototypes. We have measured the prototypes in a CMM, as shown in Fig. 4, proving that planarities in the order of 100 \(\upmu\)m can easily be achieved.

3-point bending tests have been performed to estimate values for the modulus of elasticity in bending E\({}_{t}\) flexural stress \(\sigma_{t}\) flexural strain \(\varepsilon_{t}\), and the flexural stress-strain response of the material. This is shown in Fig. 5. However the standards, and formulii used to derive these properties are for rectangular shapes and we are in the process of how much a wedge shape would alter these results.

Figure 4: Metrology measurements on a CMM machine (left) on both sides of the petal.

Figure 3: Different steps of the petal assembly starting from the components, at the left, and finishing with a fully assembled petal at the right.

Figure 5: 3-point bend tests have been made by varying the spans for different loads. The curve shows the longitudinal strain measured for different loads..

Figure 6: Vibration tests made to measure the natural frequency modes.

Fig. 6 shows the results of the vibration analysis made on one of the prototypes to obtain the natural frequencies.

An open CO\({}_{2}\) cooling system has been used to study the thermal properties of the petal. Fig. 6 shows an image taken with an infrared camera and the temperature profiles at different points of the petal.

Finite Element Analysis (FEA) are being performed and we are in the process to validate them with the data of the thermo-mechanical measurements.

These test will have to be repeated when the petal is populated with dummy silicon sensors, heaters simulating the power consumption of the readout electronics.

Figure 8: Dummy silicon pieces cut in shape to emulate the sensors placed on top of one of the petal prototypes. Also the bus cable is shown at the right. The bus cable will be glued to the core and the sensors on top of the cable.

Figure 7: Thermal image of the petal with the CO\({}_{2}\) at -25 \({}^{o}\)C along the pipe (top) and temperature profiles across the petal (down-left) and along the pipe (down-right).

### R&D program: the Petalet

As is evident from the previous sections the petal is too complex an object to built a prototype. It would be unaffordable for the collaboration. This is the reason why an R&D program has started to build a smaller object which would allow to test the features, mainly electrical, of the petal that makes it different from the barrel stave.

Fig. 9 shows a schematic view of a petalet. It will consist on a small core having three sensors on each side in a configuration that resembles that of the petal, that is, a single column of sensors splitting in two at about half of the height.

The sensors will be manufactures in 4" wafer requiring only to mask sets as shown in Fig. 10 where one can identify the three big sensors together with other smaller sensors that will serve to test other issues which are specific of the petal, like for instance either very small or very large strip pitch values, ranging from 65 \(\upmu\)m to about 100 \(\upmu\)m.

Another issue which the endcap may have to cope with are very large bonding angles. To overcome that problem several approaches are being considered and are also implemented in these detectors. One is the implementation of a second metal layer to provide a kind of embedded fan-in that reduces the bonding angles as shown in Fig. 11. Other options are rotated pads as shown in Fig. 12. The first will certainly require a dedicated irradiation campaign to study possible effects of this extra metal layer in the efficiency as has already been observed in LHCb.

From the electrical point of view these object will require to handle two separate hybrids for the two upper sensors. Here, again, several options will be explored:

1. Bus cable carrying both signals and power wrapping around the upper part of the petalet and connecting the other _small_ sensor on the opposite side or,
2. Signals and power on different cables, one on each side of the petalet. That will require that we somehow connect or daisy-chain the two hybrids.

Figure 9: Petalet.

Figure 11: Embedded fanins implemented in a second metal layer together with the “normal” pads, which are design to be parallel to the strips to help in the bonder landing.

Figure 10: Two mask sets for the petalet sensors.

Figure 12: Rotated pads.

3.3. Mechanical Bus Co-Cure: Georg Viehhauser and Carl Haber

Development of a Co-cure Process to Integrate Bus Tapes with Carbon Fiber Facings

11-July-2012

Carl Haber

work carried out also by: Tom Johnson, Mario Cepeda, Georg Viehhauser, M.Gilchriese

This note discusses the co-cure R&D carried out at LBNL. Other work carried out at UK institutes could be covered in a separate note.

Co-curing is the process of curing carbon fiber (CF) facings together with kapton/conductor bus tapes. There are a number of advantages to the co-cure process.

1. The step of gluing the bus tape to the cured and laminated CF facings is avoided.
2. Less adhesive is used thereby reducing material.
3. The finished surface of the bus tape is more uniform and better supports wire bonding.
4. Co-cure is needed if the bus tapes are to be embedded within the CF lay-up

There are a number of issues with the process as well.

1. Depending upon the resin fraction of the pre-preg, and the extent of compaction before cure, it can be that the bond between kapton and CF may fail after the cure is complete.
2. CTE mismatch between CF and the bus tape materials can lead to residual stress and deformations in the cured laminate. This will be different also depending upon whether, for example, a three layer build uses the lay-up 0-90-0 or 90-0-90.
3. Due to CTE mismatch the bus tape may shrink or elongate in the process.

The first co-cure experiments done at LBNL used a 90-0-90 layup and a cable design shown in cross-section in Figure 1. At that time it was believed that this would optimize thermal conductivity across the laminate. The result is shown in Figure 2. Later we decided to use 0-90-0 since that represents a better use of material for the purpose of stiffness. In this case the cured laminate bends across the short direction as shown in Figure 3 left and Figure 4. To compensate for this we designed a curved fixture in order to compensate for the stress during the cure cycle. This is shown in Figure 3 middle, Subsequent cures have been done with this approach. The results are shown in Figure 3 right.

The overall co-cure process is shown in a long figure sequence which is included as an appendix to this note.

Measurements have been made on bus tapes before and after cure. It has been found that bus tapes are typically short coming from the manufacturer, in the range 50-100 microns/10 mm. This can lead to an undersize by as much as 1 mm and is a concern for the basic bus tape manufacturing process. Once it is completely documented the design files may be modified to compensate for this. It is also notable that after co-cure, some of this elongation is compensated for in the stress balance. This before/after effect is shown in Figures 5 and 6 for the 90-0-90 and 0-90-0 constructions respectively.

A third generation co-cure process involves placing the bus tape between the pre-preg. In this case we may remove the aluminum layer in the bus tape in hopes that the top CF layer will act as an electrical shield. Without the aluminum layer the stresses significantly reduced and it is no longer necessary to cure inside a curved form. The design and result is shown in Figures 7 and 8. For experimental purposes some aluminum was left in place and this is shown in the figures. This would not however be a permanent feature of an actual design based upon the embedded configuration.

In conclusion, the co-cure process is shown to be viable in a variety of configurations. It could be the basis of a stave design. Care must be taken to understand an monitor the bus tape elongation and shrinkage throughout the manufacturing and co-cure process.

Figure 1: Materials stack-up for bus tape. The Kapton\(+\)adhesive layers are a total of 50 microns each and are composed of Dupont LF0100\(+\)Shinetsu CA333. the aluminum thickness is 50 microns, and the copper thickness is 18 microns. The full stack measures 175 microns. When co-cured to the CF facing there is no explicit glue line between the CF and the kapton.

Figure 4: Results of a fit to the shape shown in Figure 3 left.

Figure 3: A 0-90-0 facing after co-cure. On the left is shown a rigid deformation across the face. The cable is facing down towards the metal block in this image. In the middle is shown that the cure-process can be performed on the inside of a cylindrical pipe with the cable side facing down. On the right is the result, a flat co-cured facing.

Figure 2: Co-cure results with a 90-0-90 CF stack. The resulting cable coils up but is also easily flattened with small weights.

Figure 5: Results on the length of the bus tape before (B2-01, B2-02, TM-B2-02) and after (Stave SS, Stave TM) co-cure. For this set a 90-0-90 configuration was used. What is plotted are the distances between reference points along the cable. Each difference ”Module Spacing” is nominally 98 mm. Initially they are all short by 50-150 microns. After cure they between 50 microns long and 75 microns short.

Figure 6: Lengths after co-cure for cables on facings with a 0-90-0 layup. Figure 6: Lengths after co-cure for cables on facings with a 0-90-0 layup.

Figure 8: This image shows the co-cured facing which contains the bus tape laminated within. The bus tape was shieldless, meaning there was no aluminum layer except in one position as shown below. It was co-cured flat but some residual stress appears at the edge of the aluminum. Otherwise the facing flat.

Figure 7: Design of a co-cure lay-up which included the bus tape laminated inside the CF.

Appendix: Full co-cure process, in this case for 90-0-90, shown in a sequence of images.

Figure 1: - Use ScotchBrite pad to Abrade Backside of Cable.

- Clean with Alcohol-Part is layed up on a glass plate covered with A4000 release plastic.

-0 deg py on bottom and 90 deg py on top.

-The white is the paper backing of the prepreg.

-Once layed out they are taped together to hold in place and covered with another layer of A4000. (4,5)

-Plys are then compacted under vacuum to stick the plys together. (6)

- After compaction, flip part so the 90's are down against the glass.

- Remove the paper backing from the 0 py. (1)

- Stack the next 90 deg py the same as the previous 90 py. (2)

- Tape together, A4000 release plastic and compact (3,4)- After compaction remove the exposed paper backing.

- Apply a single layer of pea - After compaction, Flip the entire stack so the cable is now against the flat glass surface. (1) -Cover with a fresh piece of A4000 making sure to have no wrinkles. (2)
- Add layer of breather (no wrinkles) and put under final vacuum bag for cooking. (3)
3.4. P-type Sensor Development: Nobu Unno, Hartmut Sadrozinski: see sensors backup documents 3.5. Cooling Studies: Georg Viehhauser: see integration backup documents 3.6. Development of the ABC-next 130 nm Chip: Francis Anghinolfi: see electronics backup documents 3.7. Development of the Hybrid Controller Chip: Mitch Newcomer

**I)**: **Introduction**

The Hybrid Controller Chip (HCC) is currently under development in the IBM CMOS8RF 130nm process as a sister project to the ABC130. It is an integral part of the upgraded strips readout architecture. The HCC is the interface between the stave service bus (stave side) and the front end ASICs on the SCT hybrids (hybrid side). Each hybrid in the inner barrel will service one half of a sensor, 2560 strips with 10, 256 channel FEIC's (ABC130).
**\(\bullet\)**: Five, hard wired, hybrid address bits (A0-4) uniquely identify each HCC on the stave.
**\(\bullet\)**: All active control and data lines use a form of Low Voltage Digital Signaling (LVDS like).
**\(\bullet\)**: Stave side control lines are HCC input signals generated by GBT Elinks at the End Of Stave (EOS) and bussed to all stave resident HCC's (up to 24). Control signals are constructed at the driving end of the fiber in USA15. No stave specific intelligence is required at the end of stave (GBT) to construct HCC control signals.
**\(\bullet\)**: Stave side control signals are received, interpreted and redistributed as required to the hybrid by the HCC.
**\(\bullet\)**: Hybrid side control signals are bussed to all ABC130 and have a single differential pair termination. The HCC differential signal drivers will be current programmable in 8 steps to allow the circuit to be adapted to load and receiver conditions in various implementations.
**\(\bullet\)**: Two independent control signals are time multiplexed (phase encoded) onto each differential I/O pair at 80Mbps such that each control signal has a 40Mbps update rate.
**\(\bullet\)**Commands** - the HCC interprets stave side commands downloaded on the CMD_L0 input and responds to a subset of these for its setup and response to monitoring requests. Unrecognized commands are sent through to the hybrid side.
**\(\bullet\)**Stave Side Clock**- The HCC monitors the stave side (40MHz) BC_Stave signal generated sent on a single pair to all HCC chips on the stave by the GBT at the EOS.
**\(\bullet\)**Hybrid Side Clocks** - The HCC will implement a rad tolerant PLL that will create multiple frequencies for use in providing the data clock and phasing of the ABC130 pipeline to be in time with the arrival of interaction particles at the location of the hybrid.

The HCC will provide both a Beam Clock (BC) and a separate hybrid level data readout clock (DRC) with a common phased offset remotely programmed into the HCC. The HCC clocks may be turned off to operate the FEIC's in a Power reduction mode.
* **Hard reset** is made possible by holding the R3_L1 in the true state for 16 or more BC.
* 3mA. For low latency operation the data rate can be as high as 320Mbps corresponding to receiving data from both hybrid side data loops at 160Mbps.
* Data Formatting: When the hybrids are serially powered the operating voltages between the EOS and the HCC will vary by position, a difference of up to 30V may be realized depending on the length of the serial chain. AC coupled stave side communications will be necessary. The HCC receivers will use hysteresis to ensure memory of the last state on the AC coupled side. The HCC data drivers sending data to the GBT will also need AC coupling capacitors. Since the GBT has no provision for hysteresis, area balanced communication techniques will be required to prevent common mode drift of the AC coupled GBT receivers. Either scrambling or the more constrained 8b/10b encoding will likely be used. It is foreseen to make the implementation of the coding technique selectable using a bit in a status register.
* The HCC can report errors/reduce power (interlock) and by request upload monitor data.

**II) Brief description of HCC I/O**

**a. Stave Side HCC Inputs and Outputs:**

**(1) BC_Stave -** 40MHz GBT Clock**

**(2) CMD_L0 -** (80Mbps) Time multiplexed CMD (@40Mbps) and the beam syncronous L0 Trigger(40Mbps update capable).

**(3) R3_L1 -** (80Mbps) Time multiplexed Regional Readout Request (R3) and second Level Trigger (L1), each@40Mbps.

**HARD RESET-** Holding **R3_L1 True for 16BC** initiates a **HARD RESET.**

**(4) Data_I and Data_II -** Stave side point to point output DATA (80 or 160Mbps) from each HCC to the EOS (GBT). Data I and Data II are separately programmable output drivers that may be individually enabled.

**(5) Address Bits -** (A0-4) Hard wired static address bits to uniquely identify each hybrid on the Stave bus.

**b. Hybrid Side Inputs and Outputs:** Shared among all ABC130 chips on the Hybrid. All signals are sent with the same clock phase as the BC by the HCC. Control signals will be encoded on both edges of edges of the 40MHz local clock.

**(1) BC - Beam crossing clock phase shifted by programming the HCC used for BCID counting / Pipeline clocking / Command Phase Mkr.**

**III)**: **GBT Generated Signals:**

* **BC_Stave -** 40MHz BC clock. Used as the base clock for all HCC and ABC130 operations. A PLL in the HCC will provide a 640 MHz internal clock to be used for phasing the clock going to the Hybrid in steps of 1.6ns.
* **CMD_L0 (80Mbps)*
* 1. **CMD (40Mbps) -*
* Issued on the rising edge of the incoming BC_Stave clock (First half cycle of the BC clock.) This signal channel includes commands for both the ABC130 and HCC. The HCC command list is under development.
* **L0 (40Mbps) -** Issued on the falling edge of the BC clock (Second half cycle of the BC). L0 is a beam synchronous signal sent at a fixed number of BC following the event of interest such that the data from that event are

Figure 7: Block diagram above of the Hybrid Controller Chip (HCC) and related I/O lines in the SCT architecture.

[MISSING_PAGE_FAIL:28]

## 4. **Hard Reset -** Switching the **R3_L1** line true for 16 BC's will initiate a Hard Reset.

## 5. **Idle - R3s_L1** will be low while no L1 or R3 data is being transmitted.

## 6. **Hybrid Side Common Signals (All phase adjusted for a common delay).**

**a. BC** - A 40MHz beam synchronous clock, phase adjusted to account for the time of flight from the interaction point to the local sensor positions to ensure a common BC for event data. BC also serves to provide the phase information for time multiplexed control signals.

**Low Power Mode -** The BC may be turned off to reduce power dissipation in the hybrid.

**DRC - (Data Rate Clock)** A selectable 80 or 160MHz clock used to clock serial data transmission between ABC130's and the HCC.

**c. CMD_L0 -** Phase shifted version of the CMD_L0 signal on the stave side. HCC commands may be removed from this stream although it may not be necessary.

**R3s_L1** - R3s is a shortened version of the stave side signal R3 the HCC will strip off the module address field (12 bits) once it recognizes a match with it's physical address. The total length of **R3s** is 12 bits. It is phase adjusted an sent out to the ABC130's. L1 is phase adjusted also and sent to the ABC130's.

## 8. **Idle - R3s_L1** will be low while no L1 or R3 data is being transmitted.

**Reset** - Hard reset will be passed through to the HCC to the ABC130's by holding the **R3s_L1** Line True for 16 consecutive beam crossings.

## 10. **V) Hybrid Side Data collection -**

**FEIC Data -** Data received from the FEIC's must be sorted into a single output stream and routed to the selected encoder as shown in Figure 2. Priority encoding is used to ensure that data collected from the various hybrid side streams is gathered uniform rates.

**D.** Data from the HCC monitor and control and status registers must be interleaved with Hybrid FEIC data.

3. **Transmit address mode - A send ID mode may be invoked to allow proper identification of the hybrid data stream all the way through the DAQ chain. This may be sufficient to allow the hybrid address bits to be dropped from the output during normal data taking.**
4. **Steve side Data Out - The HCC houses** two data drivers that are available on the stave side for data transfer. Either or both may be programmed to output data to the Stave. It is expected that their outputs will be coupled in parallel to a single stave side data pair to minimize mass. The Stave side drivers will set a common mode output via internal resistors at \(\sim\)\(0.6\mathrm{V}\). These drivers will transmit data at 160 or 320Mbps.
5. **Autonomous Monitoring -** The HCC will contain a voltage based analog monitoring block with 2mV sensitivity from 0 to 1.1 Volts. (9 bit) for two internal and four external values. Each monitored quantity will have a programmable upper and lower limit that will be downloaded through the HCC command decoder. An out of limit value will set a monitor flag and have the possibility to reduce the power in the hybrid by turning off the BC clock to the FEIC's. Operationally the monitor block will use a counter driven linear ramp generator as a reference to compare with monitored voltages. When the reference exceeds the sensed value the counter value will be compared with the upper and lower limit and be recorded in the monitor registers.

Figure 8: Block diagram of the HCC data concentrator under development by University of Geneva. Two loops of ABC130 ASICs on the hybrid may be programmed to send data to the HCC through any of 4 input ports. The diagram above indicates the function of the Data Concentrator block to organize the hybrid FEIC data for transmission out to the stave side driver.

3.8. Development of the DC-DC Conversion ASIC and PCB Package: Georges Blanchot: see modules and electronics documents

3.9. Hybrid: Ashley Greenall: covered in the Modules backup document

3.10. Module: Tony Affolder covered in the Modules backup document

3.11. Stavelet Test Program: Peter Phillips covered in the modules backup documennt

3.12. Petal Electrical Program: Ingrid Gregor 3.13. Digital Data Transmission on the Stave and the BCC Chip: Carl Haber Strip Tracker R&D: Digital Data Transmission on the Stave and the BCC Chip

A. Description

This R&D program is aimed to address issues of digital data transmission on the stave. As envisioned, the stave includes up to 12 modules per side, each containing 2 hybrids. In order to reduce the cable plant all the LVDS trigger, timing, and control signals need to be distributed to the 24 hybrids in parallel. In addition, for a serial powering scheme, each hybrid needs to be AC coupled to the TTC bus. Multidrop AC coupled LVDS is a departure from the nominal LVDS standard but has been discussed and studied already in a number of contexts[1]. In addition, the higher current M-LVDS standard also exists.

The integrated electro-thermal-mechanical stave concept includes a laminated copper kapton bus structure for distributing the TTC signals to the hybrid. The stave bus was designed as a controlled impedance structure. The bus is shown in Figure 1 and the impedance structure is shown in Figure 2. The calculated impedance is about 70 ohms. In order to properly interface signals from the bus, LVDS or M-LVDS receivers and drivers are employed, In early versions of the stave, COT bare die transceivers were used. For the ABCn-250 nm chipset a dedicated interface chip, the BCC[2] was developed as a key part of this R&D. The BCC, augmented with certain external components, was designed to handle AC coupled TTC signals. The BCC and its support components were mounted on a dedicated PCB which could be bonded both to the bus and to the corresponding hybrid. This scheme is shown in Figures 3 and 4.

Placing 24 of these units on the bus presents two main questions to the R&D. The first is the quality of AC coupled data received by the BCC and the effect of signal dispersion and signal degradation on the bus. The second is the quality and timing of data signals transmitted back from the BCC to the end-of-stave card and the DAQ.

In order to address these questions, the entire digital bus was constructed with 24 dedicated BCC boards and a set of corresponding probe and loopback boards. This system was furthermore powered with a serial current regulator per step. The BCC signals were driven from an M-LVDS driver at the end-of-stave. The last BCC in the chain was terminated in 60 ohms while the other 23 were open. The driver was back terminated in 100 ohms. The digital stave test system is shown in Figure 5 and 6.

B. Results

The BCC chip was fabricated in a 250 nm process. In order to test the BCC a dedicated test system[3] was built. Each BCC was tested on its dedicated PCB as shown in Figure 3. The basic yield was \(\sim\)90%. The BCC V1 had issues with AC coupled operation at start-up and had to be biased in a particular way to overcome this. It was replaced by BCC V2. The BCC V2 was found to have a subtle timing issue in the 40-80 MHz clock multiplier which was marginal. The chip could be used in a multidrop system but required additional trimming. It was replaced by the BCC V3 which was improved with regards to the clock multiplier issue and is considered the "production" version of the BCC for use with the planned full length ABCnext-250 nm stave.

In order to properly receive AC coupled LVDS signals the BCC inputs are biased as shown in Figure 7. In the multidrop system the signal rise-time is seen to disperse as we move down the bus. This is shown in Figure 8. The output of the BCC clock receiver, in any case, is able to recover the full clock waveform as shown in Figure 9. In the multidrop system, due to the series resistance of the bus, signal amplitude degradation is also seen as we progress down the bus. This is shown in Figure 10. None-the-less the signal amplitude and dispersion are within an acceptable range for operation of a full stave.

The BCO outputs from the BCC were looped back and fed into the BCC data inputs and the retransmitted down to the end-of-stave, buffered and then processed by an FPGA to determine timing offsets. Using FPGA vernier delay resources it was possible to time stave of data in simultaneously[4].

References

[1] National Semiconductor LVDS Users Manual 2008 national.com/LVDS

[http://www.ti.com/general/docs/lit/getliterature.tsp?baseLiteratureNumber=slIa108](http://www.ti.com/general/docs/lit/getliterature.tsp?baseLiteratureNumber=slIa108)

[2] [https://twiki.cern.ch/twiki/bin/viewauth/Atlas/BufferControlChip](https://twiki.cern.ch/twiki/bin/viewauth/Atlas/BufferControlChip)

[3] Wicht, J. and Fischer, H., "Test of Buffer Control Chip by FPGA", EIF Fribourg, Bachelor Thesis, 2009, available from chhaber@lbl.gov

[4] Nasrallah,O, and Keunlin, S., "Test of Module/Stave System in ATLAS by FPGA", EIF Fribourg Bachelor Thesis 2010, available from chhaber@lbl.govFigure 1: Shows the layout of traces on the stave bus cable.

Figure 2: Build up and impedance calculation for the stave bus cable.

Figure 4: The BCC PCB as mounted adjacent to a hybrid on the stave.

Figure 3: Aspects of the BCC chip. Upper left is a block level schematic of the BCC chip. At right is the layout of the BCC PCB. At lower left is the BCC PCB mounted on the dedicated test system used to check all basic function of the chip before use on the stave.

Figure 5: The full digital test stave.

Figure 6: Detail of the digital test stave shown the BCC Board, the Loopback board, and the Serial Power Regulator board for the first few stations.

Figure 7: The input bias network for the BCO clock on the BCC. The system works best with R23 and R24 at 1 Meg ohm and R22 at 10 K ohms.

### Power Protection and Serial Powering: David Lynn and Mitch Newcomer

Power Protection and Serial Powering Studies

Serial powering for the SCT has been under study since 2007 when Carl Haber's group at LBL instrumented a 24 module serially powered system using LHC modules equipped with 5V powered ABCD front end chips (FEIC's). Their successful proof of principle of the serial powering concept instigated a continued investigation in subsequent upgrade prototyping efforts.

The benefit of the serially powered system is that only one cable with the capacity to carry current for one module is required to power a string of modules, greatly reducing the mass of the cable plant. The price is that the voltage across the serially powered string is slightly greater than the voltage drop across each module times the number of them. AC coupled communications are required for operational control and data retrieval. The voltage across each module is maintained by a regulator that shunts sufficient current around the FEIC's to maintain

Figure 8: Top shows the full digital test stave with all 24 BCC loaded. Waveform show the BCO clock as received at the input to the BCC for four positions along the stave.

Figure 10: The BCO input to the BCC amplitude versus position. Even though the amplitude drops along the bus it remains sufficient for LVDS reception at all inputs.

Figure 9: The BCO clock out from the BCC at position 2, however all positions are similar.

the desired module voltage. The shunt transistors may be in one location or distributed among the FEIC's a distributed shunt system.

The distributed shunt and other serial powering techniques have been studied through simulation and physical implementation since 2008 when the ABCn, currently used for SCT hybrid and module prototyping was fabricated. Comprehensive studies with physical devices has been carried out largely by two UK groups, at Liverpool, Rutherford. While there have been no serial power operational issues and the intrinsic noise of the quiescent system is as good as with parallel powering, a noise pickup issue, dubbed double trigger noise, has been examined in detail concerning simultaneous readout while taking data for modules connected to a sensor. This issue has been significantly remediated so that it is feasible to consider operating a serially powered system witha 3000e threshold in a high rate environment. However it will require additional study to final the system hookup details.

### Serial Powering Studies -

The basic serial powering scheme is shown in Figure 1. By including a shunt transistor on every ABCn, controlled by an external regulator circuit the need for a large radiation hard bypass transistor is eliminated. The physical implementation for this distributed shunt approach is shown in Figure 2. An increase in mass of.03Xo has been calculated by Tony Affolder for this approach. The control circuitry shown in the yellow box in Figure 2 consists of a commercial op-amp and voltage reference and several R-C filter elements. This area will be reduced to about 1/4 of what is shown with the SPP ASIC ( 2X2.5mm) and the single resistor and capacitor required for independent power and command processing.

The measured current handling capacity is more than enough to cover twice the quiescent hybrid current of 3.5Amps. as shown in the Liverpool measurements in Figure 3 below. In the current design each ABCn has two shunt circuits with individual control lines. This allows redundant operation. The two traces in the plot in Figure 3 show the current steering capability with only one and both control circuits operational. It can also be seen that the voltage

Figure 10: A 20 chip ABCn module is shown above. Each ABCn houses 2 shunt transistors each capable of shunting more than 250mA of current. A commercial plastic packaged op-amp an support circuitry in the yellow rectangle comprise the additional circuitry required for current prototypes. In a final design the components in the yellow box would be replaced by a single wire bonded die and several resistors. No new technology is required beyond that used already in the ABCn.

Figure 9: In the basic serial powering scheme current is passed from one module to the next ( Right side). A shunt within the hybrid or module directs current around the variable impedance load as required to maintain a constant voltage, Vraw here.

increases gradually as the shunt circuit is overwhelmed with excess current, again well beyond the design requirement of ~4 amps.

noise (2 hybrids powered serially) when measured in quiescent operation is similar to that of a parallel powered module as shown in Fig

Figure 11: Voltage measured across a serially powered hybrid using the distributed shunt approach. Each ABCn has two shunt transistor blocks with separate control inputs. The red curve shows the response when only one control circuit is used, blue when both are used. The horizontal section of each curve shows the range of excess current handling capability: Six amps when both sets of shunt blocks are used.

Figure 12: The equivalent input noise of a module, conventionally parallel powered on the left and serially powered on the right is shown in the figure above with the module superimposed on the figure to give a physical relationship to the plots of noise vs channel number. Further testing revealed a noise issue when data readout occurs during data taking.

Current with Serial powering R&D concerns optimization of the hookup of the power and control circuitry in a two hybrid module. We have found significant extra noise when data taking is active during readout. A sensor attaches to two hybrids, together the unit is called a module. When the two hybrids are serially powered, only one can directly attach to the sensor. Digital current modulation during readout affects primarily the hybrid that is AC coupled to the sensor. Figure 5 shows the AC difference in the reference voltage between two hybrids instrumenting the same sensor during readout. The green trace in the top shows the L1 signal that triggers the readout. These differences between hybrids, both low frequency and high frequency will need to be addressed further in additional R&D studies to mitigate the hybrid readout noise issues for serial powering. An work around alternative is to serially power modules instead of hybrids. This reduces the serial power ratios forcing twice as much current in the serial powering cable, but still gives a ratio of ~12:1 instead of a possible maximum of 24:1 when powering the 24 hybrids on a stave.

### Power Protection -

One issue with serial powering is the ability to remotely shut down a module or hybrid to reduce its power consumption significantly. This shut down may be required due to a failure of the voltage regulation circuits, an over temperature condition or simply as a diagnostic procedure. A shut down condition is achieved by creating a near short across the serially powered element reducing the voltage to a few hundred millivolts while allowing the current required by the other modules in the serial string to continue to flow. There are a variety of ways to accomplish

Figure 13: Measurement of the difference in reference voltages between two hybrids mated to the same sensor using a differential probe. Both the low frequency “10mV and high frequency ”5mV components can be very important in creating a significant pickup difference between the two hybrids. It should be noted that the hybrid that is AC coupled to the sensor is always noisier.

this, in fact a module might have two different shut down mechanisms implemented in parallel. One technique demonstrated in a working version by BNL employs primarily commercial componenhtsa latchup circuit to that maintains a low voltage across the module once triggered.

This circuit is currently implemented on a power protection board that delivers serial power to hybrids used for module testing. See Figure 2. It has been shown to shut down the system reliably within 100ns of a detected overvoltage and in \(\sim\)10uS after sending a shut down command through a one wire serial interface. The plots in figure 3 show

One benefit of this approach is that once triggered the power is not required for the protection board.

Figure 14: A discrete component prototype circuit to provide addressable shorting of a serially powered module and provide an autonomous shutdown if the module’s voltage regulation fails.

Figure 15: Power Protection Board lined up for bonding onto an ABCn Hybrid ( photo from A. Grenall). The multi-purpose connector can be used to attach different serial powering control and shunt options.

A similar capability is has been designed into the Serial Power and Protection chip described in section 3.9. This ASIC has been simulated extensively using realistic load models with strings of up to 12 hybrids including parasitic inductances and power filter capacitances. Each hybrid is modeled with ten front end ASICs that mimic both the linear and non linear power dependence on voltage. Module shut down scenario's examined the effects of shorting across one module while leaving the others in an on state.

Figure 16: Results from an early test of power protection on a 9 element mockup serial power system. The superimposed results are shown in the plots below. An over voltage condition is sensed and shut down in ~100ns ( Plot on left) and a remote command is acted on within 10uS.

# System implications of the different powering distributions for the ATLAS Upgrade strips tracker

S. Diez

sdiezcornell@lbl.gov

on behalf of the ATLAS Upgrade Collaboration

Lawrence Berkeley National Laboratory (LBNL), 1 Cyclotron Rd, Berkeley (CA), USA, 94720

###### Abstract

This paper compares the two novel approaches for the power distribution of the ATLAS Upgrade strips tracker modules, serial and DC-DC powering, from the point of view of a system. Numerous variables have been taken into account, such as total power dissipation and power efficiency, system reliability and protection, noise performances, impact on the material budget of the tracker, and services needs and re-usability.

keywords: ATLAS Upgrade, Strip tracker, Power distribution, Serial powering, DC-DC powering +
Footnote †: journal: Journal of High Energy Physics

## 1 Introduction

At the next-generation tracking detector proposed for the High Luminosity LHC (HL-LHC), the so-called ATLAS Upgrade, the instantaneous luminosity will be higher by as much as a factor of ten, up to \(1\times 10^{35}\ cm^{-2}s^{-1}\)[1]. The new detectors must be faster, more highly segmented, cover more area, be more resistant to radiation, and require much greater power delivery to the front-end systems. At the same time, they cannot introduce excess material which could undermine performance. The ATLAS Upgrade tracker will consist of several layers of silicon particle detectors. The innermost layers will be made of silicon pixel sensors and the external layers will be made of silicon strip sensors. Highly modular structures are being studied and developed, called'staves' for the central region (barrel) and 'petals' for the forward regions (end-caps) on the strip tracker. The powering scheme used to power the front-end electronics of the stave and petal modules must comply with a very limited number of cables, due to material budget constraints and the minimal space available for additional services in the upgraded tracker. Two different powering distributions have been proposed for the stave and petal front-end electronics [2]: serial and DC-DC powering. This work consists of a comparison between both powering schemes from the point of view of a stave/petal system. Numerous variables have been taken into account, such as total power dissipation and power efficiency, system reliability and protection, services needs and their re-usability, noise performance, and impact on the material budget of the tracker. The study points out the work performed so far concerning these system issues, as well as the advantages, drawbacks, and potential issues of each powering option. Several approaches have been followed by the different groups of the collaboration in order to build stave and petal prototypes. This analysis will be focused on the approach in which tmodules are glued in a stave core with embedded cooling pipes and in which each side of the stave is powered independently [3; 4].

## 2 ATLAS silicon strips tracker: stave and petal modules

The design of the ATLAS Upgrade tracker has been described in [5]. The strips region of the tracker will be made of staves in the barrel region, and petal structures in the end-cap regions. In total there will be 472 staves for the barrel. Each stave will be 1.2 \(m\) long and will be populated with sensor modules on both sides, mounting 12 sensor modules per side (24 modules in total for a stave). There will be two types of sensor modules in the staves:'short' (\(\sim\) 2.4 \(cm\)) and 'long' (\(\sim\) 9.6 \(cm\)) strip sensors. The petals in the end-cap regions will be arranged in disks. There will be 320 petals in total for the end-caps. Like the staves, each petal will be double-sided. In total, there will be 9 modules per petal side (18 modules per petal). There are 8 different types of end-cap sensor modules.

There will be 16960 strip modules in total in the tracker, accounting for more than 47.3 million readout channels. In order to better understand the challenges of powering the upgraded tracker, one could compare this number with the current ATLAS Semiconductor Tracker (SCT), which has \(\sim\) 6.3 million channels [6]. That means an increase by a factor of 7.5 in the number of readout channels to be powered. This study is mainly focused on the barrel short strip modules, which are the most demanding in terms of power. The module prototyping program has been primarily focused on the short strip modules [5], and for that reason the amount of results already obtained makes these modules the most suitable for this study. A more detailed description of the different sensor modules present in the ATLAS Upgrade strip tracker can be found elsewhere [4; 7]. Figure 1 shows a'stavelet', a stave prototype populated with 4 short-strip sensor modules with ABCN-25 ASICs, and a sketch of a petal.

In the short strip barrel modules, the readout and powering Application-Specific Integrated Circuits (ASICs) will be integrated into circuit units called 'hybrids'. Each of these hybrids will host 10 readout chips (the so-called ABCN-13 or ABCNext chips), plus a controller chip (Hybrid Controller Chip, HCC) and the power circuitry [8]. The power circuitry will depend on the powering scheme used and will be detailed later in this paper. The target technology for the readout electronics of the tracker is 0.13 \(\mu m\) CMOS, or below. The use of 0.13 \(\mu m\) CMOS technology is still a 'conceptual' idea, since current hybrid and module prototypes, which are already being tested for the different groups of the Collaboration, work with the preliminary 0.25 \(\mu m\) version of the readout chips (the ABCN-25 chips, each with 128 channels) and without HCC chips. Instead, the so-called Basic Control Chip (BCC) is used, a short-term solution to fill in for the missing HCC chip.

### Power consumption estimates

The ABCN-13 chips, currently under design, will allow the binary readout of 256 strip channels. The latest design of the ASIC considers the same operating voltage for the analogue and digital parts, \(V_{data}=V_{add}=1.2~{}V\). The most recent estimation determined the current consumption of the analogue front-end at \(V_{data}=1.2~{}V\) equal to \(40-60~{}mA\) per ASIC (\(\sim 190-290~{}\mu W\) per channel), depending on the current to be applied on the input transistor, and \(\sim 135~{}mA\) for the digital part of the ASIC at \(V_{add}=1.2~{}V\) (475 \(\mu W\) per channel) [9]. Those numbers are still preliminary, and one can expect that they will change significantly until the final design and fabrication of the ABCN-13 ASIC is complete. The power consumption estimates used in this study for the ABCN-13 ASIC have been \(I_{a}=60~{}mA\) at \(V_{data}=1.2~{}V\) for the analogue part, and \(I_{d}=135~{}mA\) at \(V_{add}=1.2~{}V\) for the digital part. That results in a power

Figure 1: (Left) A serial-powered ‘stavelet’ [4]. (Right) Sketch of an end-cap petal [7]. Location of buck converters for DC-DC powering are indicated with the green squares at the bottom.

consumption of \(P=235\)\(mW\) per ACBN (\(\sim 920\)\(\mu W\) per channel). Latests estimations of the power consumption for the HCC, which have also been used in this study, show a value of \(I_{hcc}=150\)\(mA\), operating at \(V_{hcc}=1.2\)\(V\) (\(180\)\(\mu W\) per HCC) [10].

## 3 Power distribution architectures

The front-end electronics of the current ATLAS Semiconductor Tracker (SCT) are powered by an independent power line for each detector module [11]. One could think that the straightforward solution for the upgraded tracker would be a similar power scheme. However, this approach fails for several reasons. First, it will mean a significant increase in the overall power consumption of the tracker: although some power consumption per channel could be saved with respect to the current SCT modules, the increased number of channels per module will finally result in an excessive power increase. Second, given the increased number of modules, a very significant increase in the number of cables would be needed. Finally, independent powering in this case would imply a dramatic decrease in the power efficiency, given its quadratic dependence with the current in the cables. This, and additional thermal losses in the cables would in turn require higher cooling needs and hence more material. For these reasons, novel approaches for the power distribution have been considered.

Two different powering distributions have been proposed for the stave and petal hybrids and are currently under development by several groups within the ATLAS Upgrade collaboration [2]. The first option is based on serial powering, in which all the hybrids of each stave/petal are powered in series. The (constant) current of the serial power chain is determined by the current required for each single hybrid. The voltage is equal to the total voltage required by a single hybrid multiplied by the number of hybrids in the serial chain. The other proposed scheme is based on DC-DC conversion, in which one ASIC performs a step-down voltage conversion for each hybrid of a stave/petal module (or for both hybrids of the module), delivering lower voltage and higher currents to the front-end electronics. Figure 2 shows an schematic view of both powering schemes for a single-sided stave, along with independent powering for each module.

### Serial powering

In serial powering, a constant current source provides current to a series of modules. The baseline approach would be to provide current to a complete single-sided stave, comprising a chain of 12 modules. The power circuitry in each module would include local shunt regulators and shunt transistors to provide the voltages needed in the ASICs. The basics of serial power can be found in references [4; 12; 13]. In short, the shunt regulators at each hybrid, along with the shunt transistors, convert the current to the local voltage needed to power the ASIC, while adjustable on-chip Low-Dropout (LDO) linear regulators provide the low-noise, high quality voltage levels required for the ASICs. The constant current along the serial chain (\(I_{s}\)) would be equal to the current \(I_{h}\) needed for a single hybrid, \(I_{s}=I_{h}\), while the total voltage across the chain (\(V_{s}\)), would be the voltage required for a single hybrid (\(V_{h}\)) times the number of hybrids in the chain, \(V_{s}=n\cdot V_{h}\). The hybrids would be at different potentials with respect to ground, and for that

Figure 2: Sketch of the different power architectures. (Top) Independent powering. (Bottom left) Serial powering. (Bottom right) DC-DC powering.

AC coupling is required for the control and data lines. Different, complementary configurations can be considered for this scheme, depending on the number and location of shunt regulators and shunt transistors per module [2; 4]. In comparison to independent powering, this scheme provides great advantages: first, the total current needed to feed \(n\) hybrids is equal to the current required for a single hybrid, \(I_{h}\), in opposition to \(n\cdot I_{h}\), needed for independent powering. Second, only one power cable pair is needed to power the serial chain, instead of \(n\) cables in the case of independent powering. Finally, because of the latter cable count, power losses in cables, given by \(I^{2}\cdot R\), are \(n\) times lower for serial powering than for independent powering. Prototype systems powered with this scheme have already been tested for strip and pixel detectors [12; 13; 14].

### DC-DC powering

DC-DC powering uses a different, more conventional approach than serial powering. In this case, 12 modules in a single-sided stave are powered in parallel, via a constant voltage source and several voltage conversion steps. A first conversion step is performed in each module by means of a custom buck DC-DC converter ASIC. In this case, the constant voltage of the stave (\(V_{s}\)) would be equal to \(V_{s}=r\cdot V_{ABCN}\), in which \(V_{ABCN}\) is the operation voltage of the ABCN-13 ASICs, while \(r\) is the total voltage conversion ratio. The total current at the end of the stave (\(I_{s}\)) is given by \(I_{s}=n\cdot(I_{h}/r)\). More detailed information about this power scheme and its particular components can be found in [15; 16]. Again, the advantages of this scheme with respect to the independent powering of each module are obvious: a great reduction in the stave current and cable power losses, and \(n\) times less cable count, as in the case of serial powering. DC-DC powering has been tested with strip prototypes for the HL-LHC trackers, both for ATLAS and CMS experiments [15; 17].

## 4 Power efficiency of the different architectures

### Power requirements per stave/petal

The baseline of both powering architectures for the staves, as previously mentioned, is to power the 12 modules of a single-sided stave with one single power line that minimizes power consumption and cable loses. That means one would like to power all the readout ASICs plus the HCCs of a single-sided stave. The overall efficiency of each powering scheme can be calculated taking into account the efficiency of each of the components of the powering circuit, i.e., shunt regulators and LDOs in the case of serial powering, and buck converters in the case of DC-DC powering. The DC-DC power scheme also considers to power the control components at the end of the stave, the so-called End of Stave board (EoS), or alternatively, Super Module Controller (SMC). The baseline architecture for serial powering did not consider the EoS boards in the serial powering chain. In addition, the EoS development is still in a very early state and it is too early to predict reliably its power needs. In order to make the most realistic comparison, they are not included in the power efficiency calculations shown here.

With the power consumption estimates for the ABCN-13 and HCC ASICs detailed previously in section 2.1, the nominal power per single-sided stave \(P_{Ns}\), without taking into account the EoS/SMC boards, is given by:

\[P_{Ns}=((I_{d}\cdot V_{ddd}+I_{a}\cdot V_{dda})\cdot N_{abcn}+I_{hcc}\cdot V_{ hcc})\cdot N_{h}=60.5\ W \tag{1}\]

in which \(I_{d}\) and \(I_{a}\) are the nominal currents required for the digital and analogue parts of the ABCN-13 ASICs, \(V_{ddd}\) and \(V_{dda}\) the operating voltages for the digital and analogue parts of the ABCN-13, and \(I_{hcc}\) and \(V_{hcc}\) are the nominal current and operating voltage of the HCC ASIC. \(N_{abcn}=10\) is the number of ABCN-13 ASICs per hybrid, and \(N_{h}=24\) the number of hybrids per stave.

Module prototyping studies in the case of the end-cap modules are not as mature as in the case of the stave modules [7]. Nevertheless, it is still possible to make a preliminary estimation of the power consumption of the end-cap petals. In this case, there are 11 different hybrids per single-sided petal to be powered in the same chain: depending on the number of strips (channels) per sensor, 6 of those hybrids will host 8 ABCN-13 ASICs, 4 of them will host 6 ASICs, and one of them will host 10 ASICs. Besides, each hybrid will read out sensors with different strip lengths, ranging from 2.2 to 5.8 \(cm\). That implies different input loads, and hence different power needs for the readout ASICs, depending on the hybrid in which they are located. As a first approximation, in this study all the ABCN-13 ASICs in the petals are considered to be identical to the ones in the short strip staves. The nominal power per single-sided petal \(P_{Np}\) will be in this case given by the following expression:

\[P_{Np}=(I_{d}\cdot V_{ddd}+I_{a}\cdot V_{dda})\cdot N_{ICs}+(I_{hcc}\cdot V_{ hcc})\cdot N_{h}=21.2\ W \tag{2}\]

in which \(N_{ICs}=82\) is the total number of ABCN-13 ASICs _in the whole petal_, and \(N_{h}=11\) is the number of hybrids per petal.

### Serial powering

For the serial powering scheme, the shunt regulator circuit delivers a local voltage equal to \(V=1.3\ V\) to each hybrid. From that voltage level, the low-noise, high quality analogue and digital voltages for the ABCN-13 ASICs, \(V_{dda}=V_{ddd}=1.2\ V\), as well as the HCC voltage (\(V_{hcc}=1.2\ V\)) are then provided by low-dropout linear regulators. Figure 3 sketches this implementation of the serial powering distribution. The power efficiency of the shunt regulator circuit is estimated to be \(\epsilon_{sr}\sim 85\%\)[13]. The efficiency of the linear regulators is given by \(\epsilon_{lr}=V_{out}/V_{in}=92\%\).

#### 4.2.1 Barrel short strip staves

The constant current of the serial power chain, (the one at the shunt regulators) will then be given by the expression:

\[I_{s}=I_{N}/\epsilon_{sr}=2.47\ A \tag{3}\]

in which \(I_{N}\) is the nominal current per hybrid, given by \(I_{N}=(I_{d}+I_{a})\cdot N_{abcn}+I_{hcc}\). The total voltage across the single-sided stave, calculated as steps of \(1.3\ V\) per hybrid in the serial power chain, is equal to \(V_{s}=24\cdot 1.2=31.2\ V\). The dissipated power will then be \(P_{dis}=V_{s}\cdot I_{s}=77\ W\). The total efficiency of the serial power scheme for a single-sided short strip stave is then:

\[\epsilon_{sp}=\frac{P_{Ns}}{P_{dis}}=78\% \tag{4}\]

Cable losses and resistive losses in the Cu bus tape along the stave are not taken into account in the previous expression. It can be found that, using an internal Cu tape of \(0.07\ mm^{2}\), Cu bus tape losses represent an additional dissipated power equal to \(P_{Cu}=1.6\ W\)[18]. A very preliminary estimation of the losses in the long cables from the detector to the power supplies, using a total resistance of the cables equal to \(R=0.5\ \Omega\), a typical value for the HL-LHC trackers (Cu cross-section \(\sim 3.5\ mm^{2}\), \(\sim 100\ m\) length), shows a dissipated power in the cables equal to \(P_{cable}=I^{2}\cdot R=3.1\ W\). All this would lead to a total efficiency \(\epsilon_{sp+cable}\) equal to:

\[\epsilon_{sp+cable}=P_{Ns}/(P_{dis}+P_{Cu}+P_{cable})=74\ \%. \tag{5}\]

Figure 3: Sketch of the implementation of both powering distributions on a short strips stave. (Left) Serial powering. (Right) DC-DC powering.

#### 4.2.2 End-caps petals

The constant current of the serial powering chain for a single-sided petal is determined by the hybrid with the highest current, that is, the hybrid with 10 ACBN-130 ASICs. This means that, as in the short strip staves, the current in the serial power chain will be \(I_{p}=2.47\ A\). Since there are 11 hybrids per petal, the total voltage of the serial power chain will be \(V_{p}=14.3\ V\). This gives a total power consumption for a single-sided petal equal to \(P_{dis}=V_{p}\cdot I_{p}=35.3\ W\). With these numbers, the total efficiency of the serial power scheme for a single-sided petal is given by the following expression:

\[\epsilon_{sp}=\frac{P_{Ns}}{P_{dis}}=60\% \tag{6}\]

in which cable and Cu tape losses are not included. As a first approximation, an additional \(P_{Cu}=1.6\ W\) can also be added due to Cu tape losses. Cable losses would represent \(P_{cable}=I^{2}\cdot R=3.1\ W\). This would lead to a total efficiency \(\epsilon_{sp+cable}\) equal to:

\[\epsilon_{sp+cable}=P_{Ns}/(P_{dis}+P_{Cu}+P_{cable})=53\ \% \tag{7}\]

As it can be seen, serial powering architecture as currently designed is significantly less efficient for the petals than for the staves. This is caused by the non-uniformity of the serial power chain: power requirements are different for each of the hybrids of the chain, and current on the serial line must be the one required for the hybrid with the highest current (10 ASICs). This causes very high power losses in the regulators of the remaining hybrids, shunting all the excessive current, which is finally thermally dissipated.

### DC-DC powering

The DC-DC powering architecture assumes a constant \(V_{s}=12\ V\) voltage line at the input of the buck DC-DC converters. There will be one buck converter per module, in which a voltage conversion step going from 12 to 1.2 \(V\) will be performed, providing the desired voltage levels for the analogue and digital sections of the ABCN-13 ASICs, as well as for both of the HCCs of the module. Figure 3 sketches this implementation for the DC-DC powering distribution. The power efficiency of the buck DC-DC converters depends strongly on the voltage conversion ratio to be applied. The different components of the custom buck converter circuit were initially optimized for a voltage conversion ratio in the range of \(4-6\), and an input voltage equal to \(10\ V\). At the desired conversion range for this application, efficiencies of \(\epsilon_{bc}=75\%\) can be achieved with these converters [16].

#### 4.3.1 Barrel short strip staves

The constant voltage of the DC-DC powering scheme will be equal to \(V_{s}=12\ V\) for the short strip staves. This is the input voltage of the buck DC-DC converters. There will be 12 buck converters in a single-sided stave, one per module. The output voltage of the buck converters will be \(V_{abc}=1.2\ V\). The total output current of the buck converters going into each hybrid (\(I_{h}\)), and the current fraction at the input of the buck converters, i.e., at the input of each module (\(I_{m}\)), can be calculated with the following expressions:

\[I_{h}=(I_{ddd}+I_{dda})\cdot N_{abca}+I_{hcc}=2.1\ A\qquad\qquad I_{m}=\frac{2 \cdot I_{h}\cdot V_{obc}}{V_{s}\cdot\epsilon_{bc}}=0.56\ A \tag{8}\]

\(N_{abca}=10\) is the number of ASICs per hybrid. The current in the power line will be increasing along the stave after each module. At the end of the stave, the current will be equal to \(I_{m}\) multiplied by the number of modules per single-sided stave, \(N_{m}=12\), that is: \(I_{s}=I_{m}\cdot N_{m}=6.72\ A\). The dissipated power at the end of the stave will then be equal to \(P_{dis}=I_{s}\cdot V_{s}=80.6\ W\). The total efficiency of the DC-DC power scheme for a single-sided short strip stave is then:

\[\epsilon_{dc}=\frac{P_{Ns}}{P_{dis}}=75\% \tag{9}\]

Cable losses and Cu tape losses are not included. Calculation of the resistive tape losses is more complex than serial powering, since the current is not constant in this case, increasing along the stave as more and more modules are powered. The Cu tape will also be designed with increasing cross-section along the stave (from 0.02 to 0.4 \(mm^{2}\)), keeping similar power dissipation requirements in the different steps as in the case of serial powering. In the end, it can be found that resistive losses in the bus tape account for \(P_{Cu}=1.3\ W\)[18]. Given the higher current at the end ofthe stave observed for the DC-DC powering scheme in comparison to serial powering (6.72 \(A\) versus 2.47 \(A\)), cable losses become a major issue in this case. As an indication of this, total cable losses could be estimated in a similar manner as serial powering, turning into \(P_{cable}=I^{2}\cdot R=22.5\ W\), with \(R=0.5\ \Omega\). In this case, this would lead to a total efficiency \(\epsilon_{dc+cable}\) equal to:

\[\epsilon_{dc+cable}=P_{Ns}/(P_{dis}+P_{Cu}+P_{cable})=59\ \%. \tag{10}\]

#### 4.3.2 End-caps petals

Power efficiency of the DC-DC powering scheme for the end-cap modules can be calculated in a similar manner as for the short strip staves. The current architecture also considers a constant voltage of the DC-DC chain equal to \(V_{s}=12\ V\). The buck DC-DC converters perform the conversion step from 12 down to 1.2 \(V\). The 11 petal hybrids can be powered with a total of 6 buck converters, grouping similar hybrids together, as shown in figure 1: 3 converters for the 6 hybrids with 8 ASICs, 2 converters for the 4 hybrids with 6 ASICs, and one converter for the hybrid with 10 ASICs. Each hybrid type requires different current values. The total current at the end of the petal will be equal to \(I_{p}=2.35\ A\). The dissipated power at the petal is then \(P_{dis}=28.2\ W\). The total efficiency of the DC-DC power scheme for a single-sided petal is then:

\[\epsilon_{dc}=\frac{P_{Ns}}{P_{dis}}=75\% \tag{11}\]

Cable and Cu tape losses are not included. An additional \(P_{Cu}=0.3\ W\) dissipated on the Cu bus tape was calculated [19]. In this case, total cable losses would be equal to \(P_{cable}=I^{2}\cdot R=2.8\ W\) with \(R=0.5\ \Omega\). That gives a total efficiency \(\epsilon_{dc+cable}\) equal to:

\[\epsilon_{dc+cable}=P_{Ns}/(P_{dis}+P_{Cu}+P_{cable})=68\ \% \tag{12}\]

## 5 Noise studies

Power regulation circuitry is a possible noise source in the detection and readout systems. Good noise performance must be demonstrated for the powering schemes used on the module (hybrid+sensor) and multi-module (staves, petals) levels. In the case of serial powering, critical noise issues that require special attention are the design of the shunt and linear regulator circuits, the use of different potentials with respect to ground for the modules along the stave and the AC coupling of clock and data lines, among others. In the case of DC-DC powering, some of the critical noise issues relate to switching noise turning into output ripple noise coming from the buck converters, air coil fringe field coupling and other sources of electromagnetic interferences. Significant R&D efforts have been dedicated to address these questions: serial and DC-DC powering schemes reveal very comparable input noise performances in individual short strip modules, of the order of \(\sim 600\ e\) per channel in both cases [3]. Noise studies are currently under development from the point of view of multi-module prototypes (such as the'stavelet' prototype) [3; 4]. For an in-depth discussion of experimental results see references [3; 5; 15].

## 6 System protection and reliability

The powering of numerous sensor modules in series or in parallel induces a risk of loosing many of those modules simultaneously if a problem occurs in the power circuit. In particular, serial powering should be protected against an open circuit in the power loop, that would eventually cause the loss of all the modules in the chain. A similar effect would be caused in the DC-DC powering architecture with the creation of a short circuit. Many studies are currently under development in order to address those questions. In the case of serial powering, a whole program for the design, fabrication and test of a Serial Power Protection ASIC (SPP ASIC) is underway. An initial prototype, the so-called Power Protection Board (PPB) and Serial Power Interface (SPI) circuits, have already been designed, fabricated and tested in short strip module and stave prototypes [4; 20]. The PPB circuit allows real-time and slow control bypass of each individual hybrid in the serial powering chain. One SPP ASIC per hybrid will be required, plus an additional power line at the highest serially powered voltage and 240 \(mA\) at most per single-sided stave. In the case of DC-DC powering, numerous protection elements have been implemented in the latest buck DC-DC converter ASIC prototype (AMIS 4), such as over-current, over-temperature, and input under-voltage protection, as well as a state machine for a reliable start-up procedure [16].

## 7 Material budget

Powering components introduce additional material in sensitive regions of the detector, degrading its tracking performance. Thus, it is of critical importance to minimize the material of the power circuitry. With the current understanding of both powering schemes, the radiation length associated to the material needed for the power circuitry of the short strip stave modules has been recently estimated for both cases [21]. The aim of that study is to perform a comparison exclusively between the power circuitry for each powering option at the level of a stave, and hence material coming from external cables is excluded. The starting point of this calculation is the current 'Liverpool' version of the short strip modules, (ABCN-25 readout ASICs, 20 ASICs per hybrid) [5]. Extra bus tape and stave core materials (carbon-based stave core and facing materials, glue layers,...) have also been excluded from the study, as it is expected that those elements will be very similar for both power schemes.

In the case of serial powering, one shunt regulator per ABCN-25 chip, one control, and one protection ASIC per hybrid has been taken into account. Extra hybrid area is also needed to place the power components, as well as the AC-coupling capacitors. These two latter elements are the ones that contribute the most to the radiation length associated to this powering scheme. The study estimated a 0.03% percentage radiation length to a single-sided stave coming from the serial power components.

In the case of DC-DC powering, one buck DC-DC converter is included per short-strip module. In this case, a 0.15% percentage radiation length to a single-sided stave has been estimated. 34% of this material comes from the passives of the buck converter, 27% from the converter PCB, 20% from the inductor shield, and 19% from the custom inductor [21; 22]. Studies are underway in order to reduce all this material further, such as using \(AI\) instead of \(Cu\) for several components of the converter (which is partially implemented already in the inductor coil and shield), implementing the converter on the power bus tape, without any additional PCB, or using one converter to power more than one module. However, all these possible implementations may have a significant impact on the performances and reliability of the circuit.

## 8 Cable needs and reuse

As stated in the previous sections, service needs of the different powering schemes will be of great importance, in terms of overall power efficiency, noise, and material budget. Strong R&D activities have started recently in order to determine if the reuse of the existing Semiconductor Tracker (SCT) and Transition Radiation Tracker (TRT) cables in the inner detector is possible or not. The different powering architectures presented here will have a strong impact in the feasibility of the Low Voltage (LV) cable reuse. Thus, it is important to determine the LV cable needs of each powering scheme.

In the case of serial powering, a single power cable pair (line+return) per single-sided stave and per single-sided petal is needed for the LV power of the modules. The total current to be driven by those power lines, calculated in section 4, is equal to \(I_{s}=2.47\ A\) for the short strips barrel and the endcaps. A total of 944 LV lines for the barrel, and 640 LV lines for the end-caps are needed, in total 1584 LV pairs. However, 512 of those lines correspond to the long strips staves of the barrel (outer regions). In those lines, given the reduced number of channels in the region, the current needs will be significantly lower [5]. In addition to those lines, the serial power protection (SPP) ASICs of each stave/petal require an additional independent power supply. In terms of cabling it will be a single wire to the end of stave and then a trace on the bus tape, driving \(>31\ V\) and a maximum of \(240\ mA\). The returns of those lines will be ganged together with the LV cable returns. That requires 1584 additional wires for the staves and petals [20]. Finally, the End of Stave boards, located at the ends of each stave/petal, are not included in the serial power line. They will be supplied separately, with an additional power pair per single-sided stave/petal. A very preliminary estimation of the EoS boards determined a total of \(0.8\ A\) at \(2.4\ V\) for each of those boards [8]. That will add again 1584 cable pairs to the cable count for the serial powering scheme with the current implementation will be equal to 3168 pairs plus 1584 single wires. The current needs of those lines will differ depending on the element they supply, and on the region of the detector they are used. In order to reduce the cable count of the serial power scheme, latest discussions have raised the possibility to include the EoS/SMC boards in the serial powering chain: this could be implemented, for example, with an additional \(1.2\ V\) step in the serial power chain plus a step-up charge pump converter at the EoS board, at the expense of a \(\sim 2\%\) additional inefficiency of the system. This would reduce the cable count in 1584 pairs.

In the case of DC-DC powering, a single LV power pair per single-sided stave and per petal would be needed. Those lines will drive 6.72 \(A\) in the case of the short strip staves, and 2.35 \(A\) in the case of the end-caps. That makes a total of 1584 LV pairs. This cable count is significantly lower than in the case of serial powering (half the number of lines if the EoS/SMC boards are included in the serial power loop). However, in the case of the barrel modules, the total current expected in the LV DC-DC power lines is significantly higher than in the case of the serial powering (6.72 \(A\) versus 2.47 \(A\)). For that reason, recent studies demonstrated that the total Cu cross-section required for DC-DC powering is comparable with the one required for serial powering [23].

Two different cable reuse scenarios are currently under study: reuse of SCT cables, and/or reuse of TRT cables. These studies are still in a very early state, and no final conclusions have been reached yet. However, preliminary results showed that, from the point of view of total Cu cross-section, both serial and DC-DC powering architectures allow the reuse of the existing LV cables [23].

## 9 Alternative powering architectures

This study focused on the current serial and DC-DC power configurations detailed on section 3. However, both powering architectures offer alternative implementations, with advantages and drawbacks with respect to the current options. Figure 4 represents several of the alternatives being considered for the serial and DC-DC power architectures. An alternative powering architecture considered for serial powering would be to implement the serial power chain as a chain of modules, performing 12 voltage steps instead of 24 in each stave side (option SP A). For DC-DC powering, another alternative would be to power both the EoS board and HCC ASICs with separate power lines with respect to the ABCN-13 ASICs (option DC-DC A). Another possibility, coming from the ABCN-13 designers, is to power the analogue and digital section of the ABCN-13 ASICs at different voltage levels, \(V_{data}=1.2\)\(V\), \(V_{add}=0.9\)\(V\). This would reduce significantly the nominal power of the strip tracker, and change the most suitable options for both powering configurations. However, this option is unlikely due to the higher sensitivity of the digital section of the ASIC to Single Even Upsets (SEUs) at lower voltages. Still, some of the alternative options consider this possibility. In the case of serial powering, the required voltage levels would be achieved with the use of the shunt regulator circuit plus either step-down LDOs on the digital side and the HCCs (option SP B), or with step-up charge pump regulators on the analogue side (option SP C). In the case of DC-DC powering, a second conversion step could be performed with on-chip step-down switched capacitor converters after the buck conversion stage, with different conversion ratios

Figure 4: Sketch of alternative serial (top) and DC-DC (bottom) powering distributions. (Top Left) Chain of modules. (Top middle) Shunt regulators + LDOs. (Top right) Shunt regulators + charge pumps. (Bottom left) HCC and EoS in a separate line plus additional converter at EoS. (Bottom middle) 1 buck converter + 2 types of switched capacitors. (Bottom right) 2 buck converters + 1 type of switched capacitors.

for the analogue and digital side (option DC-DC B), or with two different buck converters and identical switched capacitors for both sections of the ASICs (option DC-DC C). Table 1 summarizes all those alternatives and some of their main advantages/drawbacks.

## 10 Conclusions

Serial and DC-DC powering architectures have been explored. Both options seem feasible for its application on the powering of the readout components of the ATLAS upgraded strips tracker: strong R&D efforts are currently underway to determine the most suitable option and no final conclusions have been reached yet. In order to reduce R&D, engineering, and manpower costs as much as possible, an scenario with the same powering architecture for the barrel and end-caps is preferred, although a combined power architecture is not dismissed. Upcoming prototypes will allow a more straightforward comparison between both alternatives. In particular, the final design, fabrication and test of the firsts ABCN-13 and HCC prototypes will constitute a major step forward in this sense.

## References

* (1) F. Gianotti et al., Eur. Phys. J. C 39 (3) (2005) 293-333.

* (3) A. A. Affolder, This issue (2011).
* (4) J. Matheson, J. Inst. 6 (1) (2011) C01019.

* (6) The ATLAS Collaboration, J. Inst. 3 (08) (2008) S08003.
* (7) C. Lacasta, in: ATLAS Upgrade Week (2010) URL: [https://indico.cern.ch/sessionDisplay.py?sessionId=55&confId=75718#20101110](https://indico.cern.ch/sessionDisplay.py?sessionId=55&confId=75718#20101110).
* (8) P. Farhouat, Tech. Rep. ATU-SYS-ER-0004, CERN (2010).
* (9) F. Anghnelti et al., in: ATLAS Upgrade Week (2011). URL: [https://indico.cern.ch/contributionDisplay.py?contribId=55&confId=108365](https://indico.cern.ch/contributionDisplay.py?contribId=55&confId=108365).
* (10) M. F. Newcomer, in: ATLAS Upgrade Week (2011). URL: [https://indico.cern.ch/contributionDisplay.py?contribId=122&confId=108365](https://indico.cern.ch/contributionDisplay.py?contribId=122&confId=108365).
* (11) P. W. Phillips, in: Topical Workshop on Electronics for Particle Physics (2007), pp. 365-368.

* (15) B Allongue et al., J. Inst. 5 (11) (2010) C11011.
* (16) F. Faccio et al., J. Inst. 5 (11) (2010) C11011.
* (17) K Klein et al., J. Inst. 5 (11) (2010) C1101.
* (18) TCB-2221 Generic Standard on PCB Board Design, Institute for Interconnecting and Packaging Electronic Circuits (1998).
* (19) J. Bernabeu, in: ATLAS Upgrade Week (2010). URL: [https://indico.cern.ch/conferenceDisplay.py?confId=112275](https://indico.cern.ch/conferenceDisplay.py?confId=112275).

* (21) A. A. Affolder, in: ATLAS Upgrade Week (2011). URL: [https://indico.cern.ch/sessionDisplay.py?sessionId=19&confId=116547#20110331](https://indico.cern.ch/sessionDisplay.py?sessionId=19&confId=116547#20110331).
* (22) G. Blanchot, in: ATLAS Upgrade Week (2011). URL: [https://indico.cern.ch/contributionDisplay.py?contribId=216&confId=108365](https://indico.cern.ch/contributionDisplay.py?contribId=216&confId=108365).
* (23) S. Wenig, in: ATLAS Upgrade Week (2011). URL: [https://indico.cern.ch/contributionDisplay.py?contribId=2&confId=108365](https://indico.cern.ch/contributionDisplay.py?contribId=2&confId=108365), 2011.

\begin{table}
\begin{tabular}{l l l l}
**Alternative** & **Description** & **Advantages** & **Drawbacks** \\ \hline SP A & Chain of modules & Single GND/module & Twice \(I_{s}\) (\(\sim\) 5 \(A\)) \\  & & Half \(V_{s}\) (15.6 \(V\)) & (high cable losses) \\ \hline SP B & Shunt regulators & Lower nominal power & Lower efficiency (\(\sim\) 70\%) \\  & + LDOs & (\(V_{ddd}\) = \(V_{hcc}\) = 0.9 \(V\)) & \\ \hline SP C & Shunt regulators & Lower nominal power & Additional ASIC per ABCN-13 \\  & + charge pumps & (\(V_{ddd}\) = \(V_{hcc}\) = 0.9 \(V\)) & LDOs may be still necessary \\ \hline DC-DC A & HCCs and EoS & High efficiency (\(\sim\) 80\%) & Additional buck converter at EoS \\  & in separate line & & Additional cables and Cu traces for HCCs \\ \hline DC-DC B & 1 buck converter & High efficiency (\(\sim\) 80\%) & Higher switching noise \\  & +2 switched capacitors & Lower nominal power & Additional ASIC per ABCN-13 \\ \hline DC-DC C & 2 buck converters & High efficiency (\(>\) 82\%) & Additional ASIC per ABCN-13 \\  & + 1 switched capacitor & Lower nominal power & Twice material budget \\ \hline \end{tabular}
\end{table}
Table 1: Alternative serial and DC-DC power distributions.

* 3.16 Hybrid Assembly Process: Ashley Greenland covered in modules backup document
* 3.17 Module Assembly Process: Tony Affolder covered in modules backup document
* 3.18 Steve Mounting Process: Martin Gibson

Stave Mounting Process

* A) Description

The target is to be able to place 12 modules on a stave core per side, at a rate of 1 side per day with the ability to expand to 16 modules per side. The expected alignment tolerances are +-5 microns in Y and 20 in X, Z being a function of the flatness/smoothness of the stave core. To achieve this, and to minimise operator errors the system is semi-automated. A set of crossed linear stages provides X (along the length of the stave),Y (across the stave) and Z motion (perpendicular to the stave) to an optical system linked to a camera. Custom software places the optics in the correct position and provides the operator with instruction to allow them to manually position each silicon detector in XY. Z is defined at manufacturing time by a two part vacuum jig that allows the silicon to float in Z at a fixed distance from the kapton surface regardless of the absolute position of that surface while maintaining the XY position and hence providing a parallel adhesive joint. A laser alignment system provides monitoring of the stage performance in the Y direction. Each stave core is mounted in a frame that contains reference fiducials for the optical alignment system.
* B) Status

A simple manual prototype of the above has been in existence for some years and has been used to construct a full size 24 module double sided thermo-mechanical stave and two electrical single sided stavelets.

Development of a full size system capable of the above performance is in the design/ construction stage. (Figures 1 and 2).The final linear stages and optics are temporarily installed on a standard laboratory table in our clean room. (Figure 3). A laser alignment system has been prototyped and the final solution is under construction. Delivery of a custom granite table is expected mid February 2012. Some software is written such as auto-focus, fiducial finding and laser spot centralising. (Figure 4). Ancillary items such as a safety interlock system, (based on a light curtain). Stave/stavelet storage has been designed and constructed. The distributed vacuum system and fume extraction, necessary to comply with health and safety legislation, is under development.

Figure 1 shows the overall schematic of the final installation. The table size has been increased to 2.4 meter overall to provide the 16 module stave capability.

Figure 2 shows a schematic of the bridge structure that supports the module. This provides X, Y, theta and Z, via the floating vacuum jig.

12 (or 16) of these mounted in parallel allow a whole side to be assembled in one operation.

Figure 3 shows the current temporary installation on a standard laboratory table. The surrounding frame acts a support for the safety light curtain (visible as the yellow object in the top left hand quadrant) and the storage system, for which one sample box is visible on the RHS. The controlling computer is mounted on a mobile trolley with twin screens and is visible on the far side of the frame.

Figure 4 is a screen dump of the laser spot viewed through the alignment optics. The screen covers an area of silicon approximately 200 x 200 microns. The two graphs are the X and Y profiles.

### 3.19 Low Mass Tape Development: Tony Weidberg and Roy Wastie

Stavelets and Staves

Stavelets and staves are being designed and produced at Oxford. Full length mechanical grade staves have been produced for various tests of the stave assembly procedure. The aim of the design is to produce the minimal radiation length tape which has good noise performance. Therefore the screen layer is made from Al/kapton which has two advantages: firstly it can use 25 um Al (as opposed to 50 um for simple Al foils) and the Al can be etched resulting in further material savings. Recent tests have shown that the main function of the "screen" layer is to act as a good ground reference between the two hybrids of a modulei. The signal layer layout is shown in Figure 1. The upper tracks are the data lines and temperature monitoring as well as the bus for the multi-drop TTC. The lower tracks are the serial powering and HV lines with the thicker serial power return line in the middle of the tape. The Al screen layer is shown in Figure 2 and the tape build-up is shown in Figure 3.There is a solid Al connections from one hybrid to the other for all modules. There are different options for the screening for the four modules

1. No screen
2. Hatched screen with 33% fill factor
3. Hatched screen with 66% fill factor.
4. Full screen.

The Al and Cu layers are integrated into a single tape using a press. The tape will be integrated into a stavelet at Liverpool and then have modules mounted at RAL. Noise studies will be made to compare the different screening options. In particular double trigger noise will be measured.

Figure 17: Signal layer for stavelet.

Figure 18 Al screen layer.

Figure 19 Tape build-up.

Figure 18: Al screen layer.

Figure 20 Flying probe system for tape QA.

Figure 20 Flying probe system for tape QA.

3.21. Alignment R&D: Richard Nickerson

ATLAS Upgrade Tracker Hardware Alignment

_Summary_

The emerging consensus based on experience with the current ATLAS tracker is that a hardware alignment system would be of value in the upgrade tracker. This document outlines briefly the programme that is envisioned to define and realise the requisite system.

_Requirements_

The original philosophy on alignment for the existing SCT in ATLAS was that it would be assembled and surveyed in the surface building using x-ray tomography. A geodetic grid of 'absolute' length measurements within the detector would then keep track of any changes in shape, including during installation in the experiment. The geodetic grid is based on use of over 800 interferometers using frequency scanned interferometry, a technique invented for the ATLAS application. A suitable tomograph was designed and built but scheduling pressures meant it was not used. The ATLAS SCT therefore was installed un-surveyed, but with an interferometer grid.

The detector alignment has been extracted using a global chi-squared method to fit track data. The FSI network is operated in 'dithered mode', which makes \(\sim\)10nm accuracy measurements of motion. After extensive experience with alignment and operation it is understood that the detector tends to be very stable except when there are significant events such as a loss of cooling or a magnet ramp. The software team has found that some alignment constants are easy to extract and others difficult, in particular those termed 'weak-mode' which are global motions difficult to measure using track fitting. Alignment also benefits from a hardware system which can detect motion quickly, defining periods of stability which the track based alignment can use as a block of data. In addition it is clear that it would be of significant benefit if some absolute measurements were available from the hardware system, which would mean it must be capable of a limited survey of the detector rather than just track motions.

The proposal for the upgraded tracking detector is that a limited hardware system is implemented which is designed specifically to work with the planned alignment software, providing input to the parameters which are hard to extract using track-based alignment. These will be planned as absolute rather than differential measurements. The global structure and the alignment system will be designed together to cope with weak modes in a way which simplifies the track-based alignment.

This is discussed further in the LoI backup document associated with the tracker integration.

Task 1:Define the requirements - expect these to evolve with the detector design

_Implementation_

_Which hardware systems will be used will be determined by the study of global support structures and alignment systems. Where alignment is hard structures will be rigid. When rigidity is too expensive a measurement will be employed. The techniques of FSI, capacitive sensing, strain gauges, amongst other absolute measurement systems will be explored._

[MISSING_PAGE_EMPTY:64]

**

Draft version 01-01-01

**ATLAS NOTE**

March 9, 2012

**ITK LOI: ROI R&D**

Author List\({}^{1}\)

\({}^{1}\)_author's institute_

## 1 Roi R&d

A two-level L0/L1 trigger that uses tracking information is under consideration for the Phase-2 upgrade. This system consists of an L0 trigger system that examines all 40 MHz of beam crossings and accepts a rate of order 300 KHz. The full tracking data cannot be readout at the full beam-crossing rate or event after an 300 KHz L0 trigger. The regional readout design relies on the L0 trigger and then only extracts a subset of the data corresponding to regions of interest, RoIs, defined by the L0. This is similar to the current design of the ATLAS L2 trigger. The bandwidth required can be calculated in terms of the equivalent full detector readout events as

\[\mathrm{Bandwidth} = \mathrm{L1~{}Rate}+\mathrm{L0~{}Rate}\times\mathrm{fraction~{}of~{} data~{}in~{}RoIs} \tag{1}\] \[\approx 70~{}\mathrm{KHz}+300~{}\mathrm{KHz}\times 10\%\approx 100~{} \mathrm{KHz},\]

where the second line shows a possible scenarios with a 70 KHz L1 rate, a 300 KHz L0 rate, and RoI fraction of 10%. These numbers have been chosen so that the total bandwidth is consistent with the 100 KHz expected to be supported by the upgrade tracker. The ultimate choice of parameters will effect the required readout bandwidth and acheivable latency.

The sequence of events in such a scenario is shown in Figure 1. After an L0 trigger, the data in the front-end chips are copied to a second buffer and labeled with an L0-Id. Sometime later a RoI map device would use information from the L0 to identify which modules should be readout and send an regional readout request, R3, to the detector front-ends. They would then send their data to the ROD, which would split out the R3 data from the L1 accepted data and send it to a track finder, described in Section **??**. After the track finder a combination with the output of the L1Calo and L1Muon would be made and used for a final L1 decision. The main limiting factor in this process is the time required to readout the regional data.

In order for such a system to work all systems must support the large L1 latency or L0 rate. Most systems in ATLAS are expected to be upgraded, but there are some muon systems that are difficult to reach and cannot have their on detector electronics replaces. Two different solutions to this problem have lead to the consideration of two different latency designes: a fast version that extracts the data with a latency of order 5 \(\mu\)s and takes a total of less than 15 \(\mu\)s for the L1 trigger, and a slow method with as much as 100 \(\mu\)s of available readout and processing time. In important R&D task in the near future is to understand the relative impacts of the two scenarios on the tracker readout system.

In either case, a second buffer would need to be added to the front-end electronics. These buffers are relatively small. For given latencies they are

\[\mathrm{L0~{}Buffer~{}length~{}(in~{}events)} = \mathrm{L0~{}Latency}\times\mathrm{Beam-Crossing~{}Rate} \tag{2}\] \[\mathrm{L1~{}Buffer~{}length~{}(in~{}events)} = \mathrm{L1~{}Latency}\times\mathrm{L0~{}Rate}.\]

Because the L0 rate is much less than the beam-crossing rate, the required L1 buffer length is smaller than the L0 buffer. Using the 300 KHz L0 rate scenario above, the required L1 buffer length would be only 5 events for the fast option and 30 for the long option, as compared with order 128 for the L0 buffer (and similar for the pipelines in the current system).

The on-going development activity for the split trigger includes

* Optimization of the readout architecture for the low latency option
* Design of the logic blocks on the ABCN chip necessary for implementing the two-buffer scheme

[MISSING_PAGE_EMPTY:68]

### 3.23 Level-1 Track Trigger R&D Self Seeded: Maurice Garcia-Sciveres

Silicon tracking detectors consist of a number of sensing layers. Each charged particle crossing a sensing layer produces a hit with near 100% probability. Normally, all hits from a beam crossing of interest (which is to say after a trigger decision) are read out for off-detector pattern recognition. It is not technically feasible at the LHC to record all the hits from every beam crossing. The number of hits read out in current LHC tracking detectors is less than 1% of the total number generated by all charged particle crossing their sensing layers.

The self-seeded track trigger concept is based on near real-time, local filtering of hits directly on the detector layers to select of order 1% of all hits for readout, not based on knowing which are the beam crossings of interest, but rather based on knowing which hits are interesting. For trigger purposes, interesting hits are those consistent with being produced by high momentum tracks form the interaction point. Once such hits have been selected and read out, off-detector pattern recognition is still required to find real high momentum tracks. Such pattern recognition could easily be carried out by a associative memory hardware similar to FTK. The minimum number of layers with such real time filtering (trigger layers) needed for efficient identification of real high momentum tracks (as opposed to random combinations of background hits passing the filter selection) has been determined to be three.

A measurement of the azimuthal angle at which a charged particle crosses a sensing layer is sensitive to the transverse momentum of the particle, due to the curvature in the magnetic field. This only applies to particles form the interaction region. Secondaries originating in the detector material can cross a layer at any angle regardless of their momentum, and constitute the source of background hits passing the local filtering. The angular precision required depends on the layer radius and the desired transverse momentum threshold. To measure the track angle, the ATLAS proposal uses two silicon sensors closely spaced in the radial direction and correlates the hits in these two sensors. This is structure is referred to as a coupled layer. For sensitivity to 20 GeV transverse momentum at layer radii between 50 and 100cm, using strip sensors with 80 micron pitch, the radial separation between the sensors must be of order 5mm.

The arrangement described above is mechanically similar to the normal strip stave structures proposed for the regular (not trigger) upgrade layers. The most significant difference is that for the angular measurement to work, both sides of the sensor must have axial strips, instead of one side axial and the other small angle stereo. The substitution of three axial-stereo staves for double axial coupled layers for has implications for offline track reconstruction that are being evaluated with simulation. The effects on pattern recognition, fake rates, extrapolation to thecalorimeter, and conversion finding and brem recovery must be evaluated. Additionally, the selected hits to be used in fast trigger finding have minimal z information (only from the module z-segmentation). Therefore if tracks with well measured polar angle are needed for triggering, double axial strip coupled layers would be inadequate. Another consideration for using trigger staves is that a castellated layout (symmetric between positive and negative tracks) works better than a tilted stave layout.

In addition to the question of double axial vs. axial-stereo, a coupled layer stave must have real time data communication between both sides, in order to form the hit correlations that provide the needed angular information. The proposed method for ATLAS is to first select 1 or 2-strip clusters within the readout chip and output their addresses for every beam crossing on fast LVDS outputs. These will be called prompt hits. Only 1 or 2 strip clusters are consistent with high momentum particles from the interaction region. In a second step, pure digital "correlator" chips located along the stave edge correlate the prompt hits from both sides of the stave and output the coincidences within the desired angular cut. The needed circuitry to output prompt hits is being included in the 130nm ABC chip design, and the pure digital correlator chip is being designed at the verilog level. Interconnection of prompt outputs and correlator chips will require a different hybrid design than for regular, non-trigger staves, but otherwise the same sensors, module format, and module assembly can be used. The same stave core could be used for conventional saves or trigger staves, but the stave cable would require extra lines to bring correlator chip outputs to the GBTX devices at the end of stave. At the level of the GBTX communication, correlator outputs and regular module data outputs can be received in the same way and treated without distinction. At a given layer radius, a trigger stave is estimated to need twice the data output bandwidth of a conventional stave operating at 100KHz Level 1 trigger rate (this includes the trigger hits as well as the regular triggered hits). Such a bandwidth requirement is the same as that of a conventional stave at smaller radius, so it does not require new technology or new end of stave designs. It does require more data lines.

The double axial concept described above for barrel layers can also be implemented in disks using sensors with radial strips. A tapering of the disk core thickness is required to obtain an unbiased track angle measurement by correlating hits from the front and back of a disk. As for barrel layers, if track eta must be well determined for triggering, double radial disks would not be adequate. In both cases, a solution to provide 3D space points as well as coincidence angular measurements would be to couple

axial (radial) strips on one side of a stave (disk) with a pixels on the other. This is a more ambitious scheme that has not been analyzed as much as the double axial strip model. In addition to conventional hybrid pixels, it has been proposed that monolithic active pixels could be used in the lower radiation environment of outer layer and disks. A strip plus pixel scheme actually simplifies the implementation in the disk region, making it possible to use regular strip sensors instead of radial strips, and making it unnecessary to taper the disk mechanical core.

3.24 R&D on a supermodule design for the strip tracker 

**LoI: Silicon Strip Tracker R&D Supporting Document**

University of Geneva and KEK

###### Contents

* 1 Super-module description and features
* 2 Super-module electrical program
	* 2.1 Service buses
	* 2.2 Super-Module board (SMB)
	* 2.3 BCC board
	* 2.4 DAQs
	* 2.5 Electrical results
		* 2.5.1 Mitigation of EMI emissions
		* 2.5.2 Input noise
		* 2.5.3 Noise occupancy
* 3 Design optimization integrating the 130 nm technology FE

Super-module description and features

The super-module prototype program is working towards a silicon micro-strip tracker satisfying all the HL-LHC electrical, mechanical and thermal requirements. Maintaining the excellent design of the current ATLAS micro-strip tracker, while addressing some of its short-comings, the feasibility of constructing double-sided micro-strip modules supported on a light but very stable carbon-fibre support is close to being established.

In this super-module concept, individual short-strip (SS) or long-strip (LS) double-sided stereo modules are attached to a light, stable carbon-fibre local support that is inserted into the overall tracker support structure. The local support holds at least 12 modules depending on the layout. This section describes the current prototype design for the modules and super-modules, while in Section 3, planned and on-going evolutions of module and super-module designs towards a pre-production ATLAS implementation are discussed. Section 2 discusses the electrical performance of a prototype electrical super-module.

The basic individual prototype SS module is a symmetric double-sided module of Fig. 1[1, 2]. Two \(96\times 96\,\mathrm{mm}^{2}\) n-on-p silicon micro-strip sensors are glued to a central Thermal Pyroiltical Graphite (TPG) base-board, four bridged hybrids (each holding two columns of ten 128-channel readout ABCN25 ICs fabricated in CMOS6 technology) are located as pairs on both sides of the module and four aluminum nitride (AIN) facings are located at each end of the base-board. The sensors of the existing design (not necessarily the production design) are divided into four segments, two with axial and two with stereo strips inclined by 40 mrad. The strip-length in each segment is \(\sim 2.4\) cm and the strip-pitch is 74.5 \(\upmu\)m. The total number of strips per segment is 1280. The TPG base-board provides mechanical stability and ensures good thermal contact for heat dissipation to cooling blocks. The LS module is of identical design, but with less channels.

The advantages of this module design include:

* The two sensors are mounted back-to-back allowing accurate space point reconstruction with a relative sensor alignment at the 1 \(\upmu\)m level. The modules are then centred and aligned precisely on a local structure.

Figure 1: Components of the double-sided short strip module.

* The hybrid and sensor thermal paths are independent and the use of low thermal expansion materials with good thermal conductivity minimizes deformations during temperature cycling. Detailed finite element calculations indicate a maximum longitudinal deviation of only 1.4 \(\,\mathrm{\SIUnitSymbolMicro m}\) for a temperature change between room temperature and \(-35^{\circ}\mathrm{C}\). For a local support loaded with cooling tubes and cooling blocks as described below, the sensor temperatures on the existing module prototype can be maintained with a temperature difference of 11-13\({}^{\circ}\mathrm{C}\) with respect to CO\({}_{2}\) cooling tubes at -35\({}^{\circ}\mathrm{C}\). FEA calculations indicate an additional temperature increase of 3\({}^{\circ}\mathrm{C}\) if the hybrid is directly glued to the sensors (a design choice).
* The modules are optimized for easy handling during prototyping and quality assurance (QA) studies, this being important for large-scale production.

Although the super-module design will evolve, it is crucial to verify the concept mechanically, thermally and electrically. The electrical performance of prototype modules is discussed in Section 2, both for individual modules and for (so far) 4 modules powered together in a super-module arrangement. Fig. 2 shows a schematic of the super-module prototype layout. Modules are attached to a light but stiff carbon fibre support, consisting of a thin tube supporting cross beams. On each side of the support, high conductivity cooling blocks provide mechanical attachments for the modules and a thermal path to cooling tubes connected with high conductivity grease to minimize thermal stress. On one side of the support, also in thermal contact to the cooling, a multilayer cable bus transfers signals from each module to a super-module board (SMB). A photograph of the mechanical super-module prototype is shown in Fig. 3.

Figure 2: Schematic of the existing super-module prototype showing the main components after assembly.

Feature of the super-module concept include:

1. Hermiticity. The individual modules of the super module system provide full hermiticity in both both \(\phi\) and \(z\). The z-overlap along the local support structure is possible by mounting the upper or lower modules on a the thin cooling plate structure in contact with the cooling loop. One cooling unit set holds 4 modules that are precisely mounted onto the local support structure.
2. Precision. The back-to-back module precision is of order 1 \(\upmu\)m and the proximity of the sensors allows full space point reconstruction (see above). Individual modules can be attached to the cooling blocks with a precision of order 10 \(\upmu\)m, limited by the CNC machining precision of the jigs. Similarly, the local support mounting accuracy will be driven by the machining of the barrel structure and flanges which will be optimized to reach the best possible precision.
3. Stability. A key feature of the existing ATLAS tracker is its long-term stability, and this design aims to maintain that stability, over a larger structure. Although only 0.18 X\({}_{0}\) averaged over the active area, the super-modules provide an extremely stiff structure. However, because of the mechanical decoupling of the different components, thermal stresses are limited, even when cooled from room temperature to -40\({}^{\circ}\)C before powering the modules. The cooling plates (currently aluminum but carbon-carbon in the design), the local support and the overall barrel structure have a low and compatible coefficient of thermal expansion (CTE). The titanium cooling pipes (CTE of 8 ppm) are mechanically decoupled from the cooling plates with a thermal grease (see next point). The service bus (CTE approximately 25 ppm) is also mechanically decoupled, minimizing thermal stress. The pig-tail connections from the module to the service bus are adapted for minimum stress.

Figure 3: Photograph of mechanical super-module prototype with an aluminium frame replacing a carbon fibre support cylinder. The modules and cooling plates are mounted onto the carbon fibre wings.

4. Thermo-mechanical. Good thermal contact is maintained between the module and cooling pipes using thermal grease. The most promising grease identified is a non-silicon zinc oxide loaded grease, Electrolube HTCP, currently used for the ATLAS IBL. Its viscosity properties have been measured before and after an irradiation of \(10^{15}\,\mathrm{n_{eq}\,cm^{-2}}\); the module elasticity and displacement is affected only by a factor of 3, well within tolerance. Thermal properties are described earlier, and are well within specifications. This input will be used for thermo-mechanical FEA calculations and evaluation of the effects on a second generation super-module structure.
5. Modularity. The super-module consists of one light carbon fiber local support (Fig. 2), 8 carbon-carbon cooling blocks, 1 titanium pipe for the cooling loop, 12 double-sided modules, two service buses (one per side), and two SMBs holding the Gbit transmission link chips. Each part can be mounted or dismounted at any stage of the assembly, allowing for enormous flexibility of rework or component versioning. This limits both the cost and duration of the R&D and the pre-production periods. The local support design allows for end-insertion during barrel integration, and this has been validated with a low-stress 3-point locking mechanism. It allows the rework or replacement of modules or super-modules until the last stage of integration and commissioning.

The current super-module prototype [3] consists of a structure that can hold up to 8 modules on a jig that is compatible for the module mounting and the electrical tests. The 8 modules are supported by aluminum cooling plates which are in contact with 2.3 mm outer diameter titanium pipes. A dedicated support frame has been made to hold the BCC boards that are in interface with the module pigtails, the DC-DC boards and the service buses. The super-module prototype is hold onto 2 plates that can be turned up-side-down for the access on the other side. Aluminum side panels with service feed through are then installed in order to seal the box for light tightness and for dryness when it is in operation (see Section 2).

Super-module electrical program

An 8-module Super-Module (SM) electrical prototype has been developed, aimed to demonstrate the feasibility of the tracker design based on the double-sided strip module concept explained in Section 1. The main components of the current prototype together with a photograph of the real object are shown in Fig. 4. The overall support frame is made in aluminum, with inlets and manifolds for both liquid cooling and dry-air flushing to reduce humidity for the top and the bottom sides. Four double-sided modules have been already installed in the SM, with alternating sides to allow for an overlap between neighboring modules. Aluminum lids ensure a light-tight environment. The heat generated from the FE electronics and the detectors is transferred to the cooling pipes running along the lateral sides of the structure. The same cooling circuit is implemented for the top and bottom side in a symmetric configuration. A single Huber Chiller was found to be sufficient for the current system. The maximum temperature difference between hybrids, as determined from a NTC thermistor implemented on top of each hybrid flex, was measured to be \(\sim\)3.5 \({}^{\circ}\)C (for a chiller temperature of 5 \({}^{\circ}\)C).

The signals required to control the ASICs and the power-lines needed to bias the silicon sensors are driven through dedicated multi-layer service buses. The buses are connected to BCC (see section 2.3) boards (one per module side, 16 in total for the SM). The digital voltage for the readout ASICs is provided by prototype SM01C DC-DC converters is provided by DC-DC power converters. The analog voltage for the front-end chips is obtained from the digital voltage via the ABCN25 on-chip linear voltage regulators. A Super-Module Board (SMB) receives each multiplexed data-stream coming from up to 16 BCCs and it interfaces them to the external Data Acquisition (DAQ) system.

### Service buses

The service bus is currently split in three \(\sim\)765 mm length independent double copper-layer flexes: the High-Voltage (HV) bus, the Data bus and the Low-Voltage (LV) bus. The main parameters of the buses are listed in table 1. Their design and production has been made at CERN. The distance between the two layers is 200 \(\upmu\)m. The HV bus provides the HV supply and return for up to 8 silicon sensors. The LV bus provides the 10-12 V voltage required to operate the DC-DC converters, and the 3.3 V supply for the different components of the BCC board. The 10 mm-wide LV bus Cu bottom-plane is a ground plane common to the 10-12 V and 3.3 V supplies, able to stand a maximum current of \(\sim\)16 A. The Data bus has 16 LVDS pair lines (2 per module side for the data return) connected point-to-point from each BCC board to the SMB, and three multi-drop LVDS lines from the SMB to each BCC (clock and command signals). The width of the LVDS traces has been optimized from simulations with Cadence OrCAD Signal Explorer [4] in order to achieve a line impedance of 120 \(\Omega\), being the termination resistor of 100 \(\Omega\) (best results in terms of maximum signal amplitude and minimum reflections). Additional lines include a 1-wire bus, the reference voltage for the thermistor located in each hybrid and the corresponding voltage (_i.e._ temperature) return line. All bus connections to the BCC boards are made with Samtec connectors1. In a next version, the service bus will be optimized for space and material.

Footnote 1: Samtec CLE-103-01-G-DV, Samtec SSM-103-S-DV and Samtec CLE-107-01-G-DV for the HV, LV and data-bus respectively.

### Super-Module board (SMB)

The Super-Module board (SMB) interfaces the off-detector high and low-voltage power lines and external clock and command LVDS signals to the service-buses. A single SMB (see figure 5a) serves one side of the SM, _i.e._ one side of up to 8 double-sided modules. The high-voltage is driven through coaxial cables with LEMO-00 connectors. The control and data LVDS signals are interfaced to the external DAQ through 0.050" 40/50-pins Samtec connectors. The board implements 16 LVDS buffers, one for each data-line connected point-to-point from each BCC-board to the SMB. Three M-LVDS DS90C031TM LVDS drivers are used for the multi-drop LVDS signals. The adoption of the M-LVDS driver was motivated by the quality of the multi-drop LVDS signal along the data-bus (see figure (b)b). An RJ11 interface located in the backplane of the SMB is directly connected to the control PC via an iButton DS9490R USB-bridge to control the 1-wire network.

Figure 4: (a) Components of the super-module prototype (only top-side shown). The same components (SMB, service buses, BCCs and DC-DC converters) are installed on the bottom side (see text for details). (b) Photograph of the super-module with four double-sided modules already installed.

### BCC board

The BCC board (see Fig. 6) is the final interface to to the silicon module. It implements two Buffer Control Chip (BCC) ASICs (one per hybrid) packaged in a \(7\times 7\) mm\({}^{2}\) LLP48 (Lead-less Lead-frame Package). The BCC chip multiplexes the data coming from the two columns of ten chips of a single hybrid into a single data stream at a maximum rate of 160 Mbps. A DS2408 1-wire chip allows to monitor and control the state line (enable / disable) of each individual DC-DC converter through a custom LabVIEW application. The clock and command signals coming through the data bus pass through LVDS drivers-repeaters before reaching the hybrids for an optimum signal quality. A low-power comparator is used to implement a logic circuit that disables the DC-DC converters if the hybrid temperature (as measured with a thermistor located in the hybrid flex) is above a given threshold.

### Daqs

\(\bullet\) HSIO is described elsewhere within this document or another one (please add reference as appropriate)

\begin{table}
\begin{tabular}{c c c c} \hline  & **HV** & **Data** & **LV** \\ \hline Total number of layers & 2 & 2 & 2 \\ Total number of traces: & & & \\ \(\bullet\) Layer 1 & 8 & 28 & 2 \\ \(\bullet\) Layer 2 & 8 & 28 & 1 \\ Trace width (mm) & 0.2 & 0.1 - 0.2\({}^{\dagger}\) & 2.2 - 9.5\({}^{*}\) \\ Copper layer thickness (mm) & 0.035 & 0.035 & 0.2 \\ Min / Max bus width (mm) & 9.6 / 22.3 & 16.0 / 26.0 & 10.0 / 10.0 \\ \hline \end{tabular}
\end{table}
Table 1: Parameters of the service buses. \({}^{\dagger}\) Data bus trace widths (mm): 0.10 (point-to-point), 0.12 (multi-drop) and 0.20 (rest). \({}^{*}\) LV bus trace widths (mm): 6.8 (10-12 V), 2.2 (3.3 V) and 9.5 (GND).

Figure 5: (a) SMB board (\(104\times 84\) mm\({}^{2}\)). (b) Eye-diagram of the LVDS 40 MHz clock signal at drop-point 8 (furthest from the SMB) with a standard LVDS driver (top) and with a M-LVDS driver (bottom) in the SMB.

\(\bullet\) Seabas

A DAQ system for the SM prototype has been developed by using a Soi Evaluation BoArd with Sitcp (SEABAS) [5, 6] as shown in Fig. 7. SEABAS has been developed as a DAQ board for a general purpose of tests of chips. Its size is 12.4 cm \(\times\) 22.4 cm. The SEABAS board has two FPGAs (Virtex-4 XC4VLX25-10FF668) for User-FPGA and SiTCZZ[7]. Data from the chips is processed with a User-FPGA and transferred to a computer via Ether-net with the SiTCP protocol.

SiTCP is a technology to realize direct access and transfer of the data in the memory of User-FPGA from the PC by utilizing TCP/IP and UDP communication with a dedicated FPGA. SiTCP adopts the minimum protocol set required by a PC for communication by using standard OS socket functions without special tuning. These specifications of SiTCP allow users to focus on only development of their specific firmware in the User-FPGA without taking care of technical issues of communication with the PC.

The interface card of the SEABAS was developed to connect it with two SMB

Figure 6: BCC board.

Figure 7: The SEABAS with the interface card to connect the SMB board.

both the firmware implemented in the User-FPGA and the software used to operate the DAQ system with the PC have been developed. Both the data reception and decoding is done simultaneously in the software, and the hit information is extracted and stored event by event into a ROOT data-file. The data analysis is done off-line within the ROOT framework. The circuit block to read 16 temperature monitors on each hybrid also has been prepared in the firmware, and they can be read at anytime independently of the readout of the front-end chips.

### Electrical results

#### 2.5.1 Mitigation of EMI emissions

Since the SM prototype remains a complex system with many electrical components susceptible to transmit externally generated noise, it remains of particular importance to minimize the electromagnetic interference (EMI) from the High-Frequency (HF) emissions from both the surrounding equipment and the DC-DCs into the system under test. It was concluded that connecting the ground planes of both the DC-DC converter modules and the BCC boards to the SM aluminum support-frame (hence providing a common reference potential) helped to significantly reduce the radiated common mode noise (the long return current paths created along the service bus flexes, at the origin of large ground loops, were got shorter). The addition of ferrite coils around the LV input lines and the connection of the DAQ-GND to the SM frame resulted in improvements of the conducted noise. Fig. 8 shows the input noise measured for the readout ASICs being powered "directly" (_i.e._, digital voltage supplied directly from an external supply) and from the DC-DC converters. The DC-DC modules show a very good performance, with just a slight noise increase if compared with direct-powering.

Additional tests were performed with a custom pluggable module containing a Low-dropout (LDO) linear regulator. The LDO power module aimed to emulate the same connectivity as the DC-DC power converter by providing the same output regulated voltage (2.5 V) from the same 10-12 V input line coming along the LV service bus. No improvements were observed in this case. Contrary to the DC-DC converters, the LDO power module lacked of an LC filter at its current input, resulting in radiated noise not being filtered adequately and possibly resulting in additional conducted noise being transmitted into

Figure 8: Comparison of the input noise obtained from “direct” powering, DC-DC powering and DC-DC powering with additional ferrites around the input LV lines. A single column of ten ABCN-25 ASICs is shown.

the system.

#### 2.5.2 Input noise

The performance of the super-module prototype has been evaluated using both SEABAS and HSIO DAQ systems. Fig. 9 shows the average gain and noise values for 10 ABCN chips in each link of the hybrids. The sensors were biased at 250 V and the data output rate from the ABCN chips was set to 40 MHz, being the corresponding data multiplexing from the BCC chips at 80 MHz. It was checked that the results are compatible with a readout rate of 80 MHz for the ABCN chips (160 MHz readout multiplexed rate from the BCC chips.) The gain and equivalent noise charge (ENC) of each readout channel in the ABCN chips was evaluated.. The gain values were 110-115 mV/fC and the ENC values were 560-620 ENC.

Figure 11 shows the noise for all 20 chips of two hybrids of one of the modules installed in the SM prototype [1] from the HSIO DAQ. Two cases are compared: just the module under test being powered, and the same case with in addition the two adjacent modules also being powered. In both cases DC-DC converters were used to supply the voltage to the readout ASICs. Although one hybrid is intrinsically slightly noisier than the other, no significant differences are observed. Both radiated and conducted noise from the DC-DC converters are well filtered in the current setup.

With two hybrids per strip-module side, each of the two sides of the SM (namely SM-top and bottom), accounts for a total 8 hybrids of 20 ABCN-25 ASICs each. Fig. 12 shows the noise results for all hybrids within the system [2]. The SM-top and bottom sides are shown separately. The silicon sensors were biased at 250 V and a readout clock of 80 MHz was used. A chiller temperature of 5 \({}^{\circ}\)C was set and dry-air was flushed in both sides of the SM. In addition to reduce the relative humidity to avoid any condensation on the sensor surface, the dry-air was also found to help achieving a more uniform temperature distribution across hybrids, contributing by convection to the active liquid-cooling. DC-DC power converters were used in all cases with the optimized ground scheme as explained previously. The noise of each hybrid corresponds to the average noise of that of its corresponding ASICs. Two general cases are compared: a single side of the SM being powered alone and both sides of the SM being

Figure 9: Gain (left) and input noise (right) as a function of column number for all 16 hybrids within the super-module prototype obtained with the SEABAS DAQ. The horizontal \(x\)-axis in the histograms follows the format convention [module, hybrid]. Hybrid 1 of module 8 (SM bottom-side) was disabled in one of the tests.

powered together. A relatively noise increase (\(\sim\)40 ENC) is observed in the SM-bottom side with the latter configuration if compared with the SM-bottom side being powered alone. Further investigations are needed to determine the origin of that difference. No significant differences are observed in the SM-top side though. In any case an excellent noise performance is achieved overall, with noise values ranging between 580 and 625 ENC. When powering each side of the SM-separetely, the results obtained are in very good agreement with those measured while testing the modules in individual test-boxes during standard electrical tests performed after module assembly.

#### 2.5.3 Noise occupancy

Fig. 13 shows the occupancy (number of signals above the threshold divided by the total number of triggers sent) as a function of the discriminator threshold for all hybrids of the SM-top side [2]. All 32 hybrids from the SM-top and bottom sides were powered simultaneously. In all cases the NO reaches \(10^{-8}\) for a threshold of \(\sim\)100 mV. The same level of occupancy is achieved at \(\sim\)80 mV while testing the modules individually in single module test-boxes. Very similar results are obtained for the hybrids of the SM-bottom side. It is worth mentioning that the trimming points, _i.e._, the threshold values selected to perform the individual channel threshold corrections, and corresponding to 1 fC charge, are in the range of 140-160 mV (depending on the hybrid). No common-mode noise (coherent noise increase in a large number of channels) was observed while powering all modules.

Figure 11: Noise values for the 20 chips of hybrid 1 (left) and hybrid 0 (right) of one side of a double-sided silicon module powered with DC-DC converters. Noise is given in ENC.

Figure 10: Measured noise values of three modules (results for one side, _i.e._ two hybrids) are shown. The labels in the x-axis follow the convention [_module_, _hybrid_, _column_]. Noise is given in ENC.

Figure 12: Input noise as a function of column number for all 16 hybrids within the super-module prototype. The horizontal \(x\)-axis in the histograms follows the format convention [module, hybrid]. Hybrid 1 of module 8 (SM bottom-side) was disabled in one of the tests.

Figure 13: Occupancy versus threshold from a Noise Occupancy test for all 16 hybrids in the SM.

Design optimization integrating the 130 nm technology FE

Using prototype n-on-p silicon strip sensors, and the prototype ABCN-25 front-end IC, the Super-Module R&D project is close to demonstrating the advantages of using double-sided modules with a light carbon fibre end-insertable support, for the ATLAS ITK.

Electrically, the performance is as expected in term of noise and functionality. The various module characterizations, either in a single module box or when combined on a common structure with up to 4 modules, show consistent results even when the DC-DC conversions stages are used close to the module and strips.

Members of the super-module R&D are also fully engaged in the independent front-end and sensor R&D developments. The next R&D evolution will take into account design evolutions aiming towards a full pre-production super-module that includes the 256-channel ABCN-13 IC and Hybrid Controller IC (HCC), both in 130 nm CMOS technology and now under design.

* Because of the increased channel number, the hybrid design is being revised, with a with reduction by a factor 2 and hence a significantly reduced material budget.
* The hybrid power unit will be integrated as close as possible to the two hybrid rows and also close to the module facing, to optimize the heat exchange to the cooling plate. The two hybrids of the module will have a common electrical supply and U-shaped connection holding the power unit. The interconnection of the module will be made by one pigtail per side that will directly connect to a service bus running along the super-module and towards the super-module controller (SMC) card (see Fig. 14).
* Subject to functionality of the above components, at least 12 double-sided modules (depending on the layout at that time) of the new pre-production design will be fabricated and tested before and after irradiation. At the same time at least 12 non-electrical thermal modules (depending on the layout at that time) will be fabricated. While the thermal load is expected to be reduced because of the reduced ABCN-13 power consumption, the robustness of thermal management remains an important issue that influences the detailed design.

In addition to the above, several second-generation local support structures will be fabricated, together with their services. One structure will be loaded with non-electrical modules for extended thermal

Figure 14: (a) Module design concept with ABCN130 and shielded DC-DC power unit. (b) Integration and overlapping of 12 double sided module together with the service bus and the SMC card at the two sides.

studies. A second structure will be used for integration studies. At least one structure will be fully loaded with qualified double-sided modules for extended electrical and mechanical tests.

The most important outstanding R&D issue is the development of a very compact and low mass service bus, allowing an integration of the super-module rows without any clash at all radii. The design being evaluated foresees a significant width reduction by implementing all electrical lines within 20 mm. The design will benefit from the development and production of the IBL stave flex which is a mixture of aluminum and copper, significantly reducing the material budget. The first design is of 5 layers: two aluminum layers for the LV supply and 3 copper layers for the data, slow-control (DCS) and high voltage. At each connection area a stiffener will ease insertion and extraction of the electrical coupling. It will additionally allow a reinforced mechanical coupling of the two service bus sides without an external support frame. More than one iteration of the service bus may be expected, in part to optimize the electrical and mechanical performance, in part because of uncertainties of the front-end powering (serial powering or DC-DC), and in part because of evolving specifications for the sensor HV multiplexing. This demonstrates a major advantage of the super-module approach: parallelism of the R&D developments resulting in reduced cost, man-power and time.

A second important design issue is to minimize the total material budget per layer as already noted above. This will concern all items, including the modules, the local support, the mechanical and electrical services, and the global support structure, averaged over the active area, while maintaining the mechanical stability required for the support structure. The current estimate is between 0.022 X\({}_{0}\) and 0.024 X\({}_{0}\) depending on the detailed design choices.

In conclusion, the design evolution is essentially focusses on the hybrid layout, the service bus and the location of the powering unit (either serial powering or DC-DC conversion), with constant attention to a reduced material budget. Most design issues will be incremental to an largely demonstrated design. Nevertheless, detailed attention to'mundane' issues remains important. As an example, grounding and shielding studies allowing improvement in the case of identified electromagnetic perturbation will be an important aspect of the next series of super-module prototypes.

## References

* [1] S. Gonzalez-Sevilla et al., _Double-sided silicon strip modules for the ATLAS tracker upgrade in the High-Luminosity LHC_, Proceedings of Topical Workshop on Electronics for Particle Physics (TWEPP-11), Vienna (Austria) (2011). Journal of Instrumentation JINST 6 C11002.
* [2] S. Gonzalez-Sevilla et al., _Electrical performance of a silicon micro-strip super-module prototype for the High-Luminosity LHC collider_, Proceedings of the 8th International "Hiroshima" Symposium on the Development and Application of Semiconductor Tracking Detectors (HSTD8), Taipei (Taiwan) (2012). To be published.
* [3] A. Clark et al., _Development of the silicon-microstrip super-module prototype for the HL-LHC_, Proceedings of the 8th International "Hiroshima" Symposium on the Development and Application of Semiconductor Tracking Detectors (HSTD8), Taipei (Taiwan) (2012). To be published.
* [4] Cadence(r), _OrCAD Signal Explorer_.
* [5][http://rd.kek.jp/project/soi/SEABAS](http://rd.kek.jp/project/soi/SEABAS).
* [6] Y. Takubo et al., _Development of SiTCP based DAQ System of Double-sided Silicon Strip Super-Module_, Proceedings of the 8th International "Hiroshima" Symposium on the Development and Application of Semiconductor Tracking Detectors (HSTD8), Taipei (Taiwan) (2012). To be published.
* [7] T. Uchida et al., _Hardware-Based TCP Processor for Gigabit Ethernet_, IEEE Trans. Nucl. Sci. (2008). NS-55 (3) 1631.