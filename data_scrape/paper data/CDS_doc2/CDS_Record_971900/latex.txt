# Endcap Module Production for the ATLAS Silicon Tracker (SCT) at CERN and the University of Geneva

M. Chamizo Llatas, A. Christinet, A. G. Clark, D. Ferrere, A. Guipet, M. Iglesias

M. Mangin-Brinet, B. Mikulec, S. Moed1, G. Pelleriti, A. Sfyrla, B. Toczek2, T. Vu Anh

M. Weber, M. Willenbrock, X. Wu

_DPNC, University of Geneva_

P. J. Bell, S. Chouridou, I. Ilyashenko3, S. Roe, P. S. Wells

_PH Department, CERN_

Footnote 1: Corresponding author: email Shulamit.Moed@cern.ch

Footnote 2: Visitor from AGH-University of Science and Technology, Cracow, Poland

Footnote 3: Visitor from Ioffe Physico-Technical Institute, St.Petersburg, Russia

July 25, 2006

###### Abstract

This note describes the infrastructure, procedure and quality assurance for the construction of approximately one third of the endcap modules for the ATLAS Semiconductor Tracker (SCT) by groups from the University of Geneva and CERN.

## 1 Introduction

The ATLAS Semiconductor Tracker (SCT) [1] is an integral part of the tracking system of the Inner Detector (ID) for the ATLAS experiment [2]. Figure 1 shows the layout of the SCT, which consists of 4 cylindrical barrel layers and 18 endcap disks (a total of 4088 modules or 6279168 readout channels). The modules are fabricated from single-sided p-on-n silicon sensors, with most modules consisting of 4 sensors (2 sensor pairs) glued back-to-back on a support structure with a 40 mrad stereo angle. Each channel of the module is read out by custom made ASICs based on the radiation hard DMILL technology.

Each SCT endcap consists of 9 carbon-fibre disks of about 1.2 m in diameter. Each disk is plated with up to 132 modules arranged in 3 rings: an "outer" ring of 52 modules, and "middle" and "inner" rings of 40 modules each. There are a total of 1976 endcap modules. Modules within a ring, as well as different rings on the disk, are overlapped to minimize gaps in the acceptance.

The mass production of the 1976 SCT endcap modules began in mid-2003 at production sites in Melbourne (Australia), Manchester (UK), Freiburg and Munich (Germany), Nikhef (The Netherlands), Valencia (Spain) and the University of Geneva. At the Geneva facility, 655 modules for the outer rings were assembled and tested. The module quality assurance was subsequently made at CERN and the modules were then assembled onto the disks at Nikhef and Liverpool (UK). This note describes the assembly task in Geneva and quality assurance tests performed at CERN. In particular, this note summarizes the production yield and performance.

## 2 Endcap Mechanical Description

The silicon microstrip sensors [3][4] for the SCT endcap module are wedge-shaped p-on-n detectors, \(285\,\mu\)m thick with 768 readout strips. The strips are approximately \(6\,\)cm long. The two outer module sensor geometries (called W31 and W32) are shown in Figure 2.

The sensors are daisy-chained to yield approximately \(12\,\)cm long strips that are AC-coupled to 12 custom designed 128-channel ASICs (the ATLAS DMILL binary chip "ABCD" [5]) on a seperate hybrid [6]. Each readout channel provides preamplification, shaping with a time constant of \(25\,\)ns, comparators with trimmable thresholds for each channel, a 132 cell deep digital pipeline to allow for data storage while a first level trigger decision is made, data compression and readout buffers. In this way signals from the sensor are converted to binary hit information in the front-end and the data are transmitted by binary optical links.

The silicon sensor pairs are glued back-to-back on a mechanical support structure _(spine)_ with a \(40\,\)mrad stereo angle providing two-dimensional position information. The spine is made of thermal pyrolithic graphite (TPG) with an in-plane thermal conductivity of approximately \(1700\,\)W/mK to carry the heat from the detectors to the cooling points at the end of each module.

A schematic of the module components is presented in Figure 3. Other parts of the module and their mechanical functionality include:

Figure 1: An r-z projection of the ATLAS Inner Detector layout, comprising the pixel layers, the barrel and endcap SCT, and the TRT (Transition Radiation Tracker)

- this is a precision locator for the alignment of the module when mounted onto its disk.
* _the far-end washer_ -this washer provides the mounting precision in the \(y\) direction when mounting the module onto its disk.
* the SCT endcap modules have a pitch mismatch between the modules and the SCT endcap modules.

Figure 2: Geometry of the Hamamatsu W31 and W32 silicon sensors used for outer modules of the SCT endcap built in Geneva.

the sensor pad locations and the pad location of the readout chips on the hybrids. The adaptation of these connections is made via a glass plate with metal tracks, called a pitch adapter. In addition to providing electrical connectivity the pitch adapters provide a mechanical connection between the hybrid and sensor parts of the module, while maintaining an effective barrier to heat flow between these parts.

## 3 Module Production Overview

The module assembly, metrology and initial electrical quality control were made on the basis of rigid collaboration-wide mechanical and electrical specifications described in later subsections [7].

The module assembly, module metrology and module bonding at the University of Geneva were made in a clean room environment. The intermediate electrical quality control and initial thermal cycling steps were performed in an adjacent "grey room". The assembly and bonding steps were made by a team of 6 trained technicians, the Geneva ATLAS group ensured the procurement, metrology and quality control steps.

Subsequently, at CERN and before shipment for assembly onto endcap disks at the University of Liverpool and Nikhef,the modules were subjected to extensive burn-in and quality assurance tests at both room temperature and nominal operating conditions, again in a "grey room" environment.

### Assembly facilities

Both the 38 m\({}^{2}\) clean room and the 48 m\({}^{2}\) grey room at the University of Geneva are equipped with a slight over-pressure air filtering system having controlled temperature (\(\pm 1\,^{\circ}\) C) and humidity. The clean room is specified as class 10,000 (better than 10,000 particles per cubic

Figure 3: The different parts composing an SCT endcap module; W31 and W32 refer to the silicon sensor types.

inch for 0.5 \(\mu\)m particle size) but throughout the production the room was measured to be better than class 1000. Air from the clean room was transferred to the grey room. Where necessary, manipulations in the grey room were made in a laminar flow cabinet.

The clean room areas were equipped with the necessary furniture, machines and assembly tools:

1. A MicroVu [8]. coordinate measuring machine (CMM - Figure 4) is equipped with six miniature stages for both the detector alignment and the module metrology. LabView software was used to control the movement of all nine axes in order to automate and secure the detector alignment system.
2. A volumetric robotic glue dispenser was used for spreading the an Aldite glue over the spine and fanins. The operating parameters were optimized to ensure at least a 70% glue coverage with a nominal 90 \(\mu\)m thickness [9].
3. A small custom built probe station (Figure 5) was used for the detector and the module IV scans. LabView software enabled communication with the SCT production database and a comparison of the current results with existing quality control data.
4. A H&K 815 bonding machine [10] was used to bond up to 3 modules per day.
5. A climate chamber (Bia Climatic - Figure 6) was used to make an initial thermal cycling of the modules in the grey room. This chamber operates at temperatures between \(-40^{\circ}\) C and \(+200^{\circ}\) C. The relative humidity inside the chamber was controlled using nitrogen.
6. Storage cabinets were used to maintain the sensors and completed modules at between 20% to 30% relative humidity.

The MicroVu CMM provides an x- and y travel of 14 x 14 ins. Using a granite table, together with air bearings and linear servo motors, a measurement repeatability of 0.5 \(\mu\)m is achieved, with an absolute accuracy following an optical rule calibration of approximately 1 \(\mu\)m:

The H&K 815 bonding machine was used to make connections between each pair of silicon sensors and from the silicon sensors to the readout electronics via pitch adapters (a total of \(\sim\)5000 wires per module). For this project, 25 \(\mu\)m bonding wire (99% aluminum and 1% silicon) was used. An optimisation of the bonding parameters (bond force and ultrasonic power) was essential at the beginning of the production using relevant pad samples: chip, glass-fanin and silicon detector. This optimisation consisted of a destructive test on each sample using different bonding parameters to obtain an optimal result in terms of the pull force for breakage when pulled by a hook. The average vertical pull strength was 14g with an rms. spread of 1.5g, much higher than the required 6g for 25 \(\mu\)m wires. Nevertheless the bonding parameters were slightly adjusted when necessary, depending of the surface quality which could vary from batch to batch. The routine bonding time for each outer module was approximately 2.5 hours. Bond failures occasionally occurred. The most severe problem was due to pad contamination. To avoid bad wire bonds, contaminated pads were systematically identified and cleaned before the bonding operation. All defective bonds were recorded in the SCT production database for later correlation with possible readout problems.

Both machines were located in the clean room where temperature stability was maintained.

Figure 4: MicroVu Metrology machine in the clean room

Figure 5: A silicon sensor mounted on the probe station. This setup allows the measurement of the leakage current as a function of the reverse bias.

Figure 6: The climate chamber used for thermal cycling of the modules

### Module Assembly Tooling

A set of assembly jigs has been developed [11] to allow the construction of reliable electrical modules within tight mechanical alignment tolerances [7]. The module mechanical tolerances essentially concern the relative alignments of the two sensors of the top side with respect those on the bottom side and the precision mounting pins. The front and back side detectors are rotated with respect to each other by a 40 mrad angle with a tolerance of \(\pm 130\,\mu\)rad. A stronger constraint on the tolerance results from the average position of the front side detectors relative to the back side detectors, which is required to be within \(\pm 5\,\mu\)m  of the nominal value in the y-axis (normal to the strip orientation). The tolerance in the detector plane (z-axis) is \(\pm 115\,\mu\)m  and non-conformant spine twisting can result in profiles outside this specification.

The alignment tooling uses a system of vertical alignment dowel pins to locate two sensor pairs. The MicroVu CMM, equipped with pattern recognition software and the miniature x-y-\(\theta\) stages, is used to align the detector pairs (Figure 7). Vacuum detector transfer plates are used to assemble the baseline spine to the detector pairs during the gluing phase. The gluing base, on which the detectors are glued to the spine, has the same precise diameter dowel pins as the alignment jigs.

To ensure a good contact between the horizontal pins and the dowel pins, two screws are tightened in the perpendicular direction using a torque gauge screwdriver. The contact is made for the top side and back side detector transfer plates which is essential for the relative alignment between the 2 sensor pairs and to the V-tongue of the spine. Any lack of precision in the dowel diameter, or a lack of perpendicularity of the dowel pin in the detector alignment would be visible as a systematic shift of several microns.

The procedure was successfully validated and metrology surveys confirmed a very good detector alignment (see Section 6.2) throughout the production period of May 2003 until June 2005.

The assembly jigs have been fabricated using Alplan, a stress free material with the same

Figure 7: Alignment system with the x-, y- and \(\theta\) stages and the dowel pins for the referencing the detector transfer.

thermal expansion coefficient (CTE) as standard aluminum.

There are two phases in the module assembly sequence:

* the spine and sensor assembly, referenced to a glueing base.
* the assembly of the hybrid with the fanin pieces and the precision pad locator to the sensor-spine assembly.

The successive assembly steps with their appropriate jigs are noted below:

* The W31 and W32 sensor pre-alignment and alignment jigs are fixed on the \(x-y-\theta\) stages that are mounted on the CMM.
* A detector-transfer plate exists for each of the top and bottom sensor pairs. The sensor strip sides are in contact with a Teflon surface (Figure 8)
* The spine frame allows a transfer from the glue dispensing system to the gluing base (Figure 9). It also allows the transport of glued sensors to the probe station for an I-V scan. This jig integrates the module thickness shims of 1.25 mm, that subsequently impose a glue thickness of 90\(\mu\)m between the detectors and the spine.
* The gluing base and its reference dowel pins are precisely machined in diameter and are mounted perpendicular to the detector-transfer plate plane. They receive three jigs: two detector-transfer plates and the spine handling-frame.

In the second phase, the module assembly base (turning plate) allows the assembly in a single step of the glued detector-spine object to the hybrid via the fanins and the precision washer (Figure 10).

* The hybrid wishbone is used to handle the hybrid throughout the assembly and is integrated into the assembly to the spine and detectors. The hybrid is first aligned into the wishbone thanks to precision pins and then fixed to its position on the turning plate.

Figure 8: Aligned detectors to be fixed on the gluing base.

* Two fanin jigs are used for the top and the bottom side. Once the fanins are pre-aligned relative to their cutting edges they are transfered onto a jig serving as a bridge between the hybrid and the spine.
* The precision washer arm jig (Figure 10) is guided to the precision pin to be glued between the hybrid and the spine. This is the last item that is added to the module assembly.
* Once the module is fully assembled, the bonding jig allows the wire bonding of the 2 sides in a secure way. The module is turned by handling the module on the wishbone side.
* The metrology frame was designed to fit on the MicroVu CMM. The use of 3 glass

Figure 10: Turning plate on which the sensors and spines are glued to the hybrid via the fanins.

Figure 9: Photograph of a spine on its spine handling frame

fiducials that are fixed on the frame (Figure 11) allows a full 3-dimensional front- and back-side metrology of the module.

### Component selection

All module components to be assembled were subjected to a visual inspection and/or electrical characterisation prior to assembly:

1. The _spine_ is a mechanically fragile object [12] that was visually inspected prior to assembly. The inspection verified that the aluminum nitride (AlN) V-shape was not damaged, that no damage was observable on the TPG bar, that the spine wings were not broken, that there were no openings in the insulating polyamide material (especially on the TPG area) and that the aluminium high voltage HV strip for the detector bias was correctly positioned.
2. The (separated) right and left _fanins_[13] shown in Figure 12 were carefully examined for any chips or cracks on the cut edges, and the surfaces were checked for possible processing contamination.
3. The _washers_ are essential as reference points during the module assembly. For this reason, the quality and metrology were carefully checked; In particular the washer hole diameter was required to be \(3mm\pm 10\,\mu\)m.

Figure 11: An SCT endcap module placed in a metrology frame.

Figure 12: Left and right fanins

* The _hybrid_[6] (Figure 13) is a flexible 6 layer copper/polyamide circuit laminated onto a carbon-carbon substrate that serves as a heat sink. It is equipped with SMD components and with the 12 wire-bonded ASICs. Each hybrid was initially subjected to extensive burn -in and subsequent quality assurance in Cracow [16]. Following delivery to CERN, each hybrid was visually inspected using a 500x microscope to ensure that the ASICs chips were correctly wire bonded, that the connectors were correctly placed and that there was no visual damage such as scratches or dirt on the hybrid or chips. A sequence of "confirmation" electrical tests, described in detail in 5.2, was made to confirm the digital and analog functionality.
* previously subjected to extensive quality assurance studies in Prague [17]
- was remeasured up to 500 V bias voltage in 10 V steps prior to assembly and sorted for compatibility with other sensors of the same module.

Results from each component test were stored in the SCT production database [14].

During assembly, I-V scans were also made after detector and spine gluing (Phase 1 assembly), after hybrid gluing (Phase 2 assembly) and after wire bonding (I-V measurements after hybrid gluing were discontinued later in the production). After bonding, the total current of the module was systematically compared to previous measurements and stored in the data base. Figure 14 shows the I-V curve obtained following successive assembly steps for a typical module.

All modules fabricated in Geneva used Hamamatsu sensors [4]. Their I-V behaviour was very uniform, with typical leakage currents of approximately 500 nA at 500 V for the 4 sensors combined.

Figure 13: The SCT hybrid for the endcap modules.

### Assembly sequence

Successive steps of the assembly procedure are described below.

* The first sensor pair is automatically aligned using the CMM machine (Figure 4) and then transferred to the transfer plate. The second sensor pair is then aligned using the same automatic procedure and is transferred to its own jig.
* After the spine is fixed into a handling frame (Figures 9, 15, 16), Araldite 2011 glue is spread on it using the glue dispensing robot. The bottom side detector pair, the glue-spread spine and the top side detector pair are stacked on the gluing base. The detector transfer plates are screwed against the dowel pins once the spine has been correctly positioned and clamped.
* Once the four sensors are glued to the spine an I-V measurement is made for each sensor on the probe station (Figure 5 ).
* In the next alignment phase, the sensor-spine assembly is aligned on a turn plate jig using the V-tongue of the spine.
* The hybrid is pre-aligned in the wishbone tool using reference pins and is located on the same jig as the sensor-spine assembly.
* The fanin pieces are pre-aligned with reference pins and then transferred to a jig where Araldite 2011 glue lines are added using the glue dispenser. This jig is then fixed onto the turning plate, on top of the hybrid and spine. The same step is repeated for the second fanin pair.

Figure 14: I-V curves for a typical module. At different stages of assembly the currents of the four sensors are summed to give a total current for every applied bias point. The data obtained at each assembly step are compared with the curve obtained for the whole module after assembly is completed.

[MISSING_PAGE_EMPTY:13]

### Measurement after assembly

Following the completion of the assembly, the following tests were made for each module:

* An initial thermal cycling (Section 4.2);
* A metrology survey of the mechanical alignment and profile after thermal cycling (Section 4.1);
* Electrical readout tests at room temperature (Section 5).

These tests, together with both the mechanical and electrical tolerances, are described in the following sections.

### Module Production Rate

The module production rate was a key issue, because of the large number of constructed modules, the requirement for strict quality assurance and the resulting logistics. It was determined by the time needed for each production step together with the availability of infrastructure and manpower. Table 1 shows the time required to produce a module.

Taking account of parallel operations during the assembly process, an assembly time of between 155 and 175 minutes per module could be maintained. Including the metrology and intermediate electrical quality assurance steps, an average rate of 10 modules per week was achieved.

\begin{table}
\begin{tabular}{l|l|l} \hline Phase 1 & Time & Time \\  & (min, minutes) & (max, minutes) \\ \hline Alignment & 20 & 60 \\ Glueing and glue preparations & 30 & 30 \\ Assembly on jigs & 10 & 10 \\ Database+Traveler Document entries & 10 & 10 \\ Jigs dismounting + preparations for tests & & \\ +database and traveler document + visual inspection & 20 & 45 \\ \hline Total & 90 & 155 \\ \hline Phase 2 & Time & Time \\  & (min, minutes) & (max, minutes) \\ \hline Assembly and glue of the spine-detector assembly, the hybrid, the precision washer and the fanins with glue & 90 & 90 \\ Dismounting the jigs + inspection + DB entry & 20 & 40 \\ \hline Total & 110 & 130 \\ \hline \end{tabular}
\end{table}
Table 1: Estimated time for Phase 1 and Phase 2 of the module production. The maximum time takes account of problems encountered during assembly (e.g. visual inspection problems such as glue overflow).

## 4 Module Mechanical Specifications

### Metrology

The MicroVu CMM was used for both the alignment and the subsequent module metrology.

#### 4.1.1 The \(x,y\) survey

There are 13 parameters extracted from the measurement of the \((x,y)\) survey, allowing the measurement of the module \((x,y)\) profile. The points measured on the back of the module are transformed into the coordinate system of the front survey. The measured parameters are the following, see Figure 17:

* ("mhx, mhy");

* The stereo angle of the front sensor pair ("stereo")- defined as the angle between the line joining the two detectors and the x axis created by the hole and slot x positions. The stereo angle of the back pair is "stereo" by definition;
* The mid-point between the two front sensors and the two back sensors ("midxf, midyf");
* The separation between the two front sensors ("sepf") and between the two back sensors ("sebp");
* The orientation of the four sensors as described by the angles a1, a2, a3, a4 between their central axis and the line defining the stereo angle of that side.

The nominal values and tolerances of the 13 \((x,y)\) parameters are summarized in Table 2. Reference [15] describes how these values and tolerances are derived.

\begin{table}
\begin{tabular}{l|l|l} \hline parameter & tolerance & nominal value \\ \hline mhx(mm) & 0.020 & -78.136 \\ mhy(mm) & 0.020 & 0.0 \\ msx(mm) & 0.10 & 62.244 \\ msy(mm) & 0.020 & 0.0 \\ midxf(mm) & 0.010 & 0.0 \\ midyf(mm) & 0.005 & -0.04 \\ sepf, sepb(mm) & 90 & 155 \\ a1-a4(mrad) & 0.13 & 0.0 \\ stereo(mrad) & 0.13 & -20.0 \\ \hline \end{tabular}
\end{table}
Table 2: Nominal values and tolerances for the 13 points used to determine the module profile.

[MISSING_PAGE_FAIL:16]

After completion of the thermal cycling, a final survey of the module profile (metrology) is made and the module profile before and after the TC is compared.

## 5 Module Electrical QA

### Electrical Specifications

The key electrical specifications governing the behaviour of a module are listed below:

Figure 19: Scheme of the 50 points measured for the module \(z-\) profile on the module back side

Figure 18: Scheme of the 50 points measured for the module \(z-\) profile on the module front side

1. Operation guaranteed up to 500 V bias voltage
2. Maximum heat dissipation \(<7\) W per module
3. Channel gain 50 mV/fC
4. Signal linearity better than 5%
5. Signal peaking time \(<20\) ns
6. Signal charge 3.3 fC, signal to noise ratio \(>10\)
7. Noise \(<1500\) (1900) \(e^{-}\) ENC before (after) irradiation
8. Noise occupancy \(<5\cdot 10^{-4}\) for a discriminator threshold of 1 fC
9. Hit efficiency \(>99\%\) for a discriminator theshold of 1 fC
10. Time Walk \(\leq\) 16 ns, and bunch crossing resolution better than 99%

### Module Readout

Initial electrical tests were made in the Geneva grey room before shipment to CERN, to verify that each module met the designed specifications. As noted above, additional electrical tests

Figure 20: Surface gradient for the front (top) and back (bottom) sides of of a typical SCT endcap module.

were made during the component selection and assembly. A more thorough electrical test, including a long-term test, was made at CERN. Both laboratories were equipped with similar production test facilities, as described below.

The electrical tests at both sites used a PC-based module configuration and data acquisition package, SCTDAQ [18], built from a set of custom VME modules. A schematic diagram of the readout system is shown in Figure 24. In some early measurements, the ABCD3T ASICs were powered and read out using the electrical redundancy links, bypassing the optical ASICs and removing the need for an optical interface. To test the optical ASICs in the module readout, a scheme was devised to read up to six modules using the optical ASICs electrically while also testing the functionality of the module redundancy links. The readout hardware includes the following VME modules:

* The CLOAC (CLOck And Control) [19] master module provides the system-wide 40.08 MHz clock and generates fast commands such as the L1A trigger. Fast commands may be generated in response to an external trigger source or as a burst comprising a specified number of triggers at a designated frequency (for most electrical tests individual triggers are generated in response to VME commands).
* The SLOG (SLOw command Generator) [20] distributes the clock and fast command signals generated by the CLOAC to up to 12 detector modules. It also generates the slow command data needed to configure the detector modules.
* The AERO (ATLAS End-cap Read-Out) [21] card provides an electrical interface for

Figure 21: Thickness profile along the \(z\) axis of a typical SCT endcap module.

up to 6 End-Cap modules. Data communication to and from the modules is via their onboard optical ASICs - DORIC4A and VDC (data receiver and transmitter respectively). AERO encodes the module Clock and Command signals onto a single BPM carrier signal for transmission to DORIC4A. The two module data links are transmitted back to AERO via the VDC and then routed to MuSTARD. Configuration of the channel allows the module to be read out using either the primary (optical) or redundant data routes.
* The MuSTARD (Multichannel Semiconductor Tracker ABCD Readout Device) [22] receives data from up to 6 detector modules, or 12 data streams, decodes the events and creates histograms. Individual events may be transferred to the host computer if more detailed analysis is required.
* Each SCTLV module [23] provides low voltage power for two detector modules and reads out the NTC thermistors mounted on the SCT modules. The companion module SCTHV [24] provides detector bias for four detector modules up to 500 V.

The VME crate is interfaced to a PC running SCTDAQ. Within this package static libraries written in C handle the basic communication with the VME boards. Higher level functions are then implemented in a small number of C++ classes, linked with the static libraries and some libraries of the ROOT framework, to form a shared library.

Figure 22: On the left - 1D surface plot for a module (serial number 20220130000155) within the specified z-range. The tolerance from the z=0 reference plane is \(\pm 150\mu\)m. On the right - 1D surface plot for a module (serial number 20220130000079) outside specified z-range. This is not a typical module. In this particular case the shims which are used to restrict the module \(z\) thickness during the detector gluing procedure were forgotten. Such errors were extremely rare during the module production.

The aluminium test box (Figure 25) has two mechanical support points for the module and houses a patch card which conects the kapton data and power cables from the module to the data and power cables from the VME system. This patch card is also required to interface a single AERO channel to a module. The connections to AERO are made via two standard ethernet category 5(E) screened cables allowing separation of the primary and redundant data routes onto the individual balanced cables. Using screened twisted pair cables with differential signals provides low electromagnetic interference and good immunity to external noise.A Huber chiller is used to circulate a mixture of ethanol (20%) and distilled water (80%) through the test boxes. Whenever the hybrids are powered the chiller temperature is set to \(10^{\circ}\,\mathrm{C}\), resulting in module thermistor readings of between 24 and \(32^{\circ}\,\mathrm{C}\). Nitrogen flow through the test boxes ensured the dew point remained at a safe level of \(<\!40\%\).

### Functional Tests(Geneva)

Every module was required to pass the "confirmation sequence" of tests at Geneva before being shipped to CERN. Each test was designed to determine a certain set of parameters and/or to identify a number of specific defects or failure modes. The nature of the tests can be categorised as _digital_ or _analogue_. The digital tests, for example, verify the correct data passing between chips and also exercise the pipeline and redundancy schemes. The analogue tests are then used to characterise the response of the front-end chips to an injected charge. Used in conjunction with the SCT database query tool, these test results can be used to track points of failure and to evaluate yield statistics.

Figure 23: Left - 1D surface plots of module front and back (top and bottom) sides for a module subjected to thermal cycling without applying vacuum to constrain it in the z-axis. Right - the same plot for a module subjected to thermal cycling with vacuum applied.

The confirmation sequence includes the following tests:

* is a parameter that adjusts the relative phase between each input data stream (from a detector module) and the system clock. Its value is dominated by system considerations such as cable length; hence this test is usually performed only when setting up a readout system.
* the module is clocked and the power is switched on. Using an oscilloscope connected to monitor, the operator verifies that each datalink responds with CLK/2 and that, after the chips have been configured, the clock feedthrough signal stops. The analogue and digital currents are then recorded. Finally Hard Reset is issued to bring back the CLK/2 signal. This test verifies that the Clock, Command and Hard Reset signals are received correctly, that the chips can be configured and that the current is reasonable. The test will identify modules with severe failures and/or cases where

Figure 24: Schematic diagram of the SCT DAQ system.

Figure 25: Aluminium test box with a cooling outlet and a patch card to which the power cable and the data cable are connected.

devices have been connected incorrectly. Every module must pass this test without error.
3. Redundancy test (digital) - the chips are configured to return the contents of the Mask Register and a burst of triggers is issued for each of the Primary and Redundant Clock and Command options. Prior to each event, a different bit pattern is loaded in the Mask Register such that consecutive events are not the same. By comparing the received data with expectation it is verified that both the Primary and Redundant Clock and Command signals are received correctly and that the top address bit of each chip changes as the Clock/Command source is varied, as specified in the module design. This test will identify modules with faulty command reception or addressing errors. Modules with such defects would be considered to have failed pending further investigation and possible rework.
4. FullBypass test (digital) - a trigger burst is recorded with the module programmed to each of a number of different configurations, sufficient to exercise all data/token passing links between the chips. In each case the chips are configured to return the contents of the Mask Register which acts as a reference pattern. The test is repeated across a range of digital supply voltages to determine the minimum value needed for the correct functionality of each of the data/token passing links. Any link that did not work at the nominal supply voltage of 4.0V and which could not be identified as being due to a missing wirebond and subsequently repaired would be recorded as a module defect.
5. Pipeline test (digital) - a Soft Reset command is sent to reset the pipeline followed a certain number of clock periods later by a Pulse Input Register command and L1A trigger. In this way, a known pattern is injected into a given location in the pipeline. By varying the distance between the Soft Reset and Pulse Input Register commands it can be verified that each of the 11 blocks within the pipeline is free of defects. The pipeline is scanned twice: once with all channels enabled to identify dead cells and dead channels; once with all channels disabled to identify stuck cells and stuck channels. Modules with a large number of dead or stuck cells or channels will be rejected.
6. Strobe Delay (analogue) - this scan is performed to determine the correct setting of the Strobe Delay with respect to the time of the charge injection pulse, subsequently used during the analogue tests.
7. Three point gain - threshold scans are taken for three injected charges to allow a quick measurement of gain, noise and the discriminator offset. Pathological channels are categorized as FAULTY if the defect would result in the channel having a reduced but non-zero detection efficiency in ATLAS, or as LOST if the defect would result in the channel having zero efficiency. LOST channels are defined as those which are found to be dead, stuck, unbonded or noisy, whereas FAULTLY are those with low efficiency, low gain or which are partially bonded. Modules having any chips with abnormal gain or high noise will be rejected and put aside for potential rework, as will those with large numbers of pathological channels. The maximum number of defective channels should not exceed 1% per module (less than 15 channels).
8. I-V Curve - as already noted, this test records the leakage current as a function of the applied detector bias.

Modules were tested in parallel four at a time, and the results of the confirmation tests were uploaded to the ATLAS SCT database. In addition, a _Perl_ script uploaded a summary of the module electrical performance to the dedicated module webpage. Photographs of each side of the module are also put on the module webpage. In case the module had a problem or was repaired, the relevant photos are put on the module webpage next to comments and details describing the problem, repair and current status.

### Full Electrical Characterisation (CERN)

Modules classified in Geneva as either PASS or GOOD (refer to Section 6) in both the metrology and confirmation tests were shipped to CERN (Figure 26) to undergo further electrical quality assurance. This took place in a \(40\,m^{2}\) clean room, specified as a class 50000 facility. Typical conditions bettered the class 10000 limit.

On arrival at CERN, the modules first underwent a visual inspection in a safe ESD area under wide angle microscopes providing up to 80x magnification, to crosscheck the Geneva inspection and to check for any damage which may have occurred in transit. The electrical quality assurance on each module then commenced with a repeat of the confirmation sequence run in Geneva. The DAQ system (Figure 27) was similar to that described in section 5.2 and also capable of testing four modules in parallel; this was the usual mode of operation, following an initial ramping up period from the start of production.

Unlike in Geneva, the electrical testing at CERN was performed "cold", meaning that the operating temperature on the hybrid was kept at \(10\pm 5^{\circ}\) C. This was achieved by placing the modules located in their test boxes, cooled by a Huber chiller, inside a climate chamber. The Huber chiller and the climate chamber, plus temperature and humidity sensors located inside the test boxes, were controlled and read out via a LabView programme running on the same PC as the DAQ software. A constant dry air supply of less than 1% relative humidity at room temperature passing through the test boxes and climate chamber ensured the dew point remained at a safe level when operating cold; the Labview programme would automatically raise the temperature should a dew point problem occur. The PC was powered via a UPS system to provide a record of any power interruption, though the rest of the system was designed to fail safe in such an event.

Figure 26: A module that passed the electrical readout tests at the University of Geneva, packed in a transport box before being shipped from the University of Geneva to CERN.

On successful completion of the confirmation test the modules were "trimmed" (see below) before starting a long term test (LTT) of 24 hours. The LTT was intended to confirm the long term stabilities of the electrical and detector currents at low temperature. These currents, the temperature and the noise occupancy were measured every 15 minutes. In addition, every two hours a full confirmation sequence was performed. To allow a faster turnaround, the LTT duration was reduced from 24 hours to 18 hours approximately one third of the way through the production.

Following the LTT, the modules would enter the "final characterisation" sequence, comprising the following tests:

* _Confirmation sequence tests_: The same as described in 5.2.
* _The trimming procedure_: This minimized the channel to channel variations in the front-end response to a 1fC charge signal by applying individual corrections to the offsets in each channel, via a 4-bit DAC.
* _Response Curve_: This test is similar to the three point gain but employs 10 different values of injected charge in the range from 0.5 fC to 10 fC. The gain and input noise at 2 fC are then calculated by an exponential fit to the response curve. Figures 28 and 29 illustrate the result of a response curve test obtained from a typical module. The criteria for identification of bad channels and overall acceptance are the same as for the three point gain test.
* _Noise Occupancy_: A threshold scan in the absence of charge injection is used to obtain the variation of \(\ln(\text{occupancy})\) as a function of the square of the threshold in fC. An alternative measurement of the noise in ENC is then obtained from the slope of this curve. Furthermore, the crucial value of the noise occupancy at 1fC threshold is obtained (giving the probability for a strip to give a hit during a bunch crossing due to

Figure 27: The test setup for module quality assurance at CERN - 4 modules inside a climate chamber which allows “cold” tests of the modules.

noise).
* _Time walk_: In the final test of the module characterization the threshold is set to 1fC and a complementary error function is fitted to the falling edge of the efficiency versus the strobe delay, for injected charges in the range 1.25 to 10 fC. The timewalk is then defined as the difference between the 50% points observed for the 1.25 and 10 fC charges.

The system was raised to room temperature after the characterization and a further IV scan was made. Dry atmosphere sealed storage cabinets were used to hold the modules prior to shipping to the assembly sites for mounting on to the disks. A final visual inspection was performed just before the modules were packed for transport.

The results of all the tests at CERN, including any comments on the final visual inspection, were uploaded to the SCT production database.

## 6 Results of module production

### Statistics package

A package providing a statistical representation of the module production status in each of the ATLAS SCT institutes was developed at the University of Geneva [25].

All analyses of the module production and metrology survey are based on a query of the SCT production database. The collection query is a _Java_ application running on any PC having access to the database software. This package allows the user to define the type of modules, the manufacturer and the production period for which the data should be presented. The query produces different text files containing information about the following parameters for each module:

* The noise (in electrons) per chip;
* The noise occupancy per chip;
* The gain per chip;
* The module temperature read from the thermistor mounted on the hybrid;
* The number of defective channels found while testing the module;
* The module leakage current at 150 V and 350 V bias voltage;
* both the z-parameters and (x,y) profile parameters.

In addition, the query generates for each module a list of tests for which the information was not entered into the database. This provides an easy way to identify missing tests or problems with the tests uploaded to the database.

The data that are summarized in the text files can then be processed and visualized using ROOT scripts that are provided as a part of the package. For each parameter having a well defined specification the specified ranges are marked on the plots, so that entries outside the 

[MISSING_PAGE_EMPTY:27]

specifications are identified and quantified. The tool also provides an up-to-date summary of the production at different assembly or test sites (for example, the quality assurance tests on modules at the University of Geneva and CERN can be directly compared).

Figure 29: Results of the response curve test for one side (corresponding to 6 ABCD chips or 768 channels) of a typical module as presented by SCTDAQ. The top row of six plots present the chip averaged response curves: the 50pc point of the S-curves as a function of injected charge. The gain (slope of the response curve) for each chip is shown below this. The gain is then used to convert the average output noise into an input noise value in ENC for each chip, presented in the bottom plots.

### Module quality

Following assembly the modules were classified into 5 categories:

* _Good_: modules that pass all electrical and mechanical specifications;
* _Pass_: modules that fail one and only one of the metrology \(x,y,z\) parameters and that by not more than 50 %;
* _Fail_: modules that fail one or more of the electrical or/and mechanical specifications and for which further rework is not feasible;
* _Abort_: modules that are not completed because, as a result of known problems with the sensor-spine item, the hybrid has not been added;
* _Hold_: a special category that has been used at each stage of the production chain for problematic modules that could be reworked: following rework, such modules were reclassified in the _good_, _pass_ or _fail_ categories.

Of the 634 _good_ and _pass_ modules assembled and tested in Geneva, 4 modules subsequently failed at CERN during the full electrical characterization, or for visual defects such as ceramic cracks, or the existence of glue on the hybrid capacitors. A total of 19 fully assembled modules were classified into the _hold_ category and of these 10 modules were succesfully reworked. In addition, 6 modules were directly classified as _fail_ during the 2 years of production. Of 9 aborted modules at the assembly Phase 1 stage, 3 modules were reworked to allow a complete assembly; two modules in the _good_ category and one module in the _pass_ category.

Typical failures at assembly Phases 1 or 2 included:

* _Operator errors_: one illustration is shown in Figure 30 where an edge of the bottom left fanin was cracked during the manual reinjection of some glue with a syringe. The specified glue coverage below the fanins was not always guaranteed by the tooling, given the thichness variation of the various components. The reinjection of glue below the fanins was sometimes necessary to ensure the required stiffness for wire bonding;
* _Tooling problems_ leading to misalignment;
* _Component defects_ that were not detected before assembly, for example scratched detectors that later resulted in high leakage currents and the breaking of precision Al-pad washers (which could be later repaired).

Figures 31 to 35 show a summary of the module production statistics. It is noted that small variations of the number of entries in the displayed plots result from the fact that not all modules are fully characterised if they fail at an earlier stage. For example, a module that failed due to metrology problems is stopped in the production line and so may not have the electrical and IV results.

Five pre-series modules were produced using chips having one dead channel: these modules start with 12 potentially defective channels and bias the statistics around the specified limit of 15 masked channels. The remaining production used a maximum of two defective channels per hybrid. As shown in Figure 32 on average the assembly operation adds two additional

[MISSING_PAGE_FAIL:30]

Figure 31: Summary of module metrology. The upper figure shows the average z position and RMS for the front and back side of the modules: vertical lines indicate the specified tolerances. The lower figure on the right (top) shows the mid-x and mid-y values with specified limits while the lower figures indicate the distance between the mid-point and the hole position in (x,y) (see Figure 17). All measurements are in mm.

Figure 33: Summary of module electrical tests. The left figure shows average noise occupancy of the modules measured during electrical readout tests with a discriminator threshold of \(1\,\mathrm{fC}\). The right figure shows average noise for each module, measured in ENC.

Figure 32: Summary of the module production: the number of masked channels for each module. Specifications accept modules with less than \(1\%\) (15) defective channels.

Figure 34: The average gain of the modules measured during electrical readout tests

Figure 35: The average leakage current of the modules measured during electrical readout tests

Figure 37: A summary of the total module production divided into the different module acceptance categories.

Figure 36: Number of produced modules versus date during the production period (May 2003 - June 2005) at the University of Geneva.

Figure 37: A summary of the total module production divided into the different module acceptance categories.

## 7 Conclusion and Summary

There are three main criteria essential for acceptable module assembly at any given assembly site: good survey metrology, good detector and module current behavior and finally a satisfactory module readout with a low number of defective channels.

The CERN-Geneva assembly system succeeded in delivering the necessary yield of good modules within the time expected by the SCT Collaboration. A total of 634 modules 97.7%) satisfied the required mechanical and electrical specifications for modules operating in the LHC environment.

## References

* [1] ATLAS Collaboration, _ATLAS Semiconductor Tracker (SCT)_, see [http://atlas.web.cern.ch/Atlas/GROUPS/](http://atlas.web.cern.ch/Atlas/GROUPS/) ATLAS Collaboration, _ATLAS Inner Detector Technical Design Report_, CERN/LHCC 97-16 and CERN/LHCC 97-17(1997).
* [2] ATLAS Collaboration, _ATLAS Detector and Physics Performance Technical Design Report_, CERN/LHCC 99-14 and CERN/LHCC99-15(1999).
* [3] D. Robinson _et al_, _Silicon micro-strip detectors for the ATLAS SCT_, Nucl. Instrum. Meth A **485** (2002) 84.
* [4] Hamamatsu Photonics Co. Ltd., 1126-1 Ichino-cho, Hamamatsu, Shizuoka, 431-3196 Japan.
* [5] ABCD Chip Specification. Version 2.0 Dec.12 1998 W. Dabrowski, J. Kaplan, R. Szczygiel, _A Prototype Chip for Binary Readout of Silicon Strip Detectors_. Nucl. Instrum. Meth A **421** (1999) 303 F. Campabal _et al Design and Performance o the ABCD3TA ASIC for Readout of Silicon Strip Detectors in the ATLAS Semiconductor Tracker_, Nucl. Instrum. Meth A **552** (2005) 292.
* [6] L. Feld, _Forward Module Components_, ATL-IS-EN-0009, see also [https://edms.cern.ch/document/316211/1](https://edms.cern.ch/document/316211/1).
* [7] S. Snow, _Thermal and Mechanical Specifications and Expected Performance of the Forward SCT Module_, ATLAS Internal Note ATL-IS-EN-0007 (1992).
* [8] Micro-Vu Corporation, 7909 Conde Lane, Windsor CA 95492 USA. See [http://www.microu.com/](http://www.microu.com/)
* [9] For details, see [http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/module/](http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/module/) SCTSGmod/glue.html
* [10] Hesse & Knipps GmbH, Vattmannstr. 6, D-33100 Paderborn, Germany. See [http://www.hesse-knipps.com](http://www.hesse-knipps.com)
* Assembly Procedures_. ATLAS Internal Note ATL-IS-AP-0049 (2002). See [http://dpnc.unige.ch/atlas/ferrere/assembly/documents/GeAssmSystem.pdf](http://dpnc.unige.ch/atlas/ferrere/assembly/documents/GeAssmSystem.pdf)
* [12] NIIGraphite, Electrodnaya Street 2,111524 Moscow, Russia. NITAP, 1 May Street,103681 Zelenograd, Russia.
* [13] M. Ullan _et al_, _High Pitch Metal-on-Glass Technology for Pad Pitch Adaptation between Detectors and Readout Electronics_, IEEE Trans. Nucl. Science **51** (2004) 968.
* [14] A. Clark _et al_, _The ATLAS SCT Production Database_, ATLAS Internal Note ATL-INDET-2002-015 (2002).
* [15] J. Greenhalgh, S. Snow, _How to Survey an SCT Module_. See [http://www.hep.man.ac.uk/atlas/module/surv3.ps](http://www.hep.man.ac.uk/atlas/module/surv3.ps)