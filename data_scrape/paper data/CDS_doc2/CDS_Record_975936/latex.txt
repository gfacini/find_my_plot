# The ATLAS SCT Optoelectronics and the Associated Electrical Services

A. Abdesselam

 P.P. Allport

 R.J. Apsimon

 C. Band

 A.J. Barr

 L. Batchelor

 R.Bates

 P. Bell

 J.Bernabeu

 J. Bizzell

 R.Brenner

 T. Brodbeck

 P. Bruckman De Renstrom

 C.Buttar

 J.R.Carter

 D.G. Charlton

 A. Cheplakov

 A. Chilingarov

 M.L. Chu

 V. Cindro

 B. Demirkoz

 P.J. Dervan

 Z. Dolezal

 J.D. Dowell

 C. Escobar

 E. Spencer

 T. Ekelof

 S. Eckert

 L. Eklund

 L. Feld

 T.J. Fraser

 M. French

 R. French

 J. Fuster

 B.J. Gallop

 C. Garcia

 M.J. Goodrick

 A. Greenall

 A.A.Grillo

 J. Grosse-Knetter

 F. Hartjes

 N. P. Hessey

 J. C.Hill

 R.J. Homer

 L.S. Hou

 G. Hughes

 Y. Ikegami

 C. Issever

 K. Jakobs

 J.N. Jackson

 M. Jones

 R.W.L. Jones

 T.J. Jones

 D. Joos

 P. Jovanovic

 P. Kodys

 T. Kohriki

 G. Kramberger

 S.-C. Lee

 C.G. Lester

 S.W. Lindsay

 M. Lozano

 C.P. Macwaters

 C. A. Magrath

 G. Mahout

 I. Mandic

 E. Margan

 J. Matheson

 T.J. McMahon

 J. Meinhardt

 I. Mesmer

 M. Mikuz

 M. Morrissey

 A. Nichols

 R.B. Nickerson

 V. O'Shea

 S. Pagenis

 M.A.Parker

 J.Parzefall

 J. Pater

 H. Pernegger

 P.W. Phillips

 M. Postranecky

 P.N. Ratoff

 A. Robson

 A. Rudge

 K. Runge

 K. Sedlak

 N.A. Smith

 S. Stapnes

 B. Stugu

 M. Tadel

 P.K. Teng

 S. Terada

 A. Tricoli

 M. Turala

 M. Tyndel

 N. Ujie

 M. Ullan

 Y.Unno

 G.Viehhauser

 J.H. Vossebeld

 M.R.M. Warren

 R.L. Wastie

 M. Webel

 A.R. Weidberg

 P.S.Wells

 D.J. White

 J.A. Wilson

a Institute of Physics, Academia Sinica, Taipei, Taiwan b Centro Nacional de Microelectronica CNM-IMB (CSIC), Barcelona, Spain c Department of Physics and Technology, University of Bergen, Bergen, Norway d School of Physics and Astronomy, The University of Birmingham, Birmingham, U.K. e Cavendish Laboratory, University of Cambridge, Cambridge, U.K. f CERN, Geneva, Switzerland g Institute of Nuclear Physics PAN, Cracow, Poland h Physikalisches Institut, Albert-Ludwigs-Universitat Freiburg, Freiburg, Germany i Department of Physics and Astronomy, University of Glasgow, U.K. j KEK, High Energy Accelerator Research Organization Oho 1-1, Tsukuba, Ibaraki 305-0801, Japan k Physics Department, Lancaster University, Lancaster, U.K. l Jozef Stefan Institute and Department of Physics, University of Ljubljana, Ljubljana, Sloveniam Oliver Lodge Laboratory, University of Liverpool, Liverpool, U.K.

n Department of Physics and Astronomy, University College London, London, U.K.

o Santa Cruz Institute for Particle Physics, University of California, Santa Cruz,

California, USA

p Department of Physics, Manchester University, Manchester, U.K.

q NIKHEF, Amsterdam, The Netherlands

r Department of Physics, Oslo, Norway

s Department of Physics, Oxford University, Oxford, U.K.

t Faculty of Mathematics and Physics, Prague, Charles University, The Czech

Republic

u Rutherford Appleton Laboratory, Oxfordshire, U.K.

v Physics Department, Sheffield University, Sheffield, U.K.

w Physics Division, Uppsala University, Uppsala, Sweden

x Instituto de Fisica Corpuscular (IFIC), Universidad de Valencia-CSIC, Valencia, Spain

Abstract

The requirements for the optical links of the ATLAS SCT are described. From the individual detector modules to the first patch panel, the electrical services are integrated with the optical links to aid in mechanical design, construction and integration. The system architecture and critical elements of the system are described. The optical links for the ATLAS SCT have been assembled and mounted onto the carbon fibre support structures. The performance of the system as measured during QA is summarised and compared to the final performance obtained after mounting modules onto the support structures.

PACS: 42.88, 04.40N, 85.40, 85.60.

Keywords: LHC; ATLAS; SCT; Optoelectronics; Data transmission; ASICs.

## 1 Introduction

ATLAS will be one of two general purpose detectors operating at the CERN LHC. The LHC design goal is to have proton-proton collisions at a centre of mass energy of 14 TeV with a luminosity of \(10^{34}\) cm\({}^{-2}\)s\({}^{-1}\). The SemiConductor Tracker (SCT) will form the intermediate layers of the ATLAS Inner Detector[1]. The SCT consists of a barrel and endcap region. The barrel region contains four layers of co-axial cylinders and the endcaps contain 9 disks on each side of the barrel. A quadrant view of the ID is shown in Figure 1.

Optical links will be used in the SCT to transmit data from the detector modules to the off-detector electronics and to distribute the Timing, Trigger and Control (TTC) data from the counting room to the front-end electronics[1].

The optical links will have to operate in the hostile LHC radiation environment for 10 years. There will be very little possibility of maintenance for the on-detector components. All the on-detector components have to be low mass and use low Z

material in order not to degrade the performance of the SCT. The material should also be non-magnetic to avoid magnetic forces and to avoid distorting the magnetic field of the ATLAS solenoid. There are very tight requirements on the space available for the on-detector components. Therefore, custom packaging was developed for the optoelectronics.

The overall system architecture of the SCT optical links is reviewed briefly in section 2. The optical links are tightly coupled to the systems for the distribution of electrical power from patch panels PPB1 and PPF1 (see section 2.1) to the modules so these are also described in this paper. The detailed specifications of the optical links are given in section 2.1 and the specifications of the electrical services are summarised in section 2.2. The results of the radiation damage tests are very briefly reviewed in section 3. The on-detector opto-packages are described in section 4 and the associated ASICs are also briefly reviewed. The optical fibre connections and cable scheme are described in section 5. The off-detector optoelectronics is also reviewed in section 6. The performance of all on-detector components was measured during extensive Quality Assurance (QA) testing before mounting onto the carbon fibre support structures and a summary of the results is given in section 7. The results of the QA for the off-detector optoelectronics are also summarised in section 7.6. The performance of the optical links was measured after mounting onto the carbon fibre support structures and after module mounting. A comparison of the performance and a discussion of some problems that occurred are given in section 8. Finally some conclusions are drawn in section 9.

Figure 1: Cross section of the ATLAS Inner Detector showing a quarter of the barrel and half of one of the two endcap regions and the location of the fibre optic and electrical patch panels PPB1 and PPF1. The PPF0 patch panels are located at the edges of each of the 18 Endcap disks.

## 2 System Architecture and Specifications

The optical links and the electrical power distribution system for the SCT are tightly coupled on the detector. This paper therefore describes the on-detector part of the electrical power distribution as well as the full optical link system. The specifications and architecture for the optical links are described in section 2.1 and the specifications for the electrical services are given in section 2.2. The mechanical and thermal interfaces for the electrical and optical services are described in section 2.3.

### System architecture and specifications for the optical links

The optical links are based on GaAs VCSELs1 emitting light around 850 nm and epitaxial Si _p-i-n_ diodes. There are 12 ABCD ASICs[2] on each SCT[3, 4] module and each ABCD reads out the signals from 128 channels of silicon strips. The ABCD ASIC consists of 128 channels of preamplifiers and discriminators. The binary data from each channel is stored in a pipeline memory and the binary data corresponding to a first level trigger (L1) signal are read out. The data from each side of an SCT module are readout serially via the "master" ABCD[2].Two data links operating at 40 Mbits/s transfer the data from the two master ABCD ASICs on each SCT module to the two channels of the VDC ASIC[5] which drives two VCSEL channels[1]. The data are sent in NRZ2 format via radiation hard optical fibre[6] to the Si _p-i-n_ diode arrays in the Back of Crate (BOC) card3 in the counting room[7]. The electrical signals from the Si _p-i-n_ diode arrays are discriminated by the DRX-12 ASIC[7] which provides LVDS4 data used in the SCT Read Out Driver (ROD).

Footnote 1: Vertical Cavity Surface Emitting Lasers.

Footnote 2: Non Return to Zero.

Footnote 3: The BOC card provides the interface between the optical signals and the off-detector electronics in the Read Out Driver (ROD).

Footnote 4: LVDS: Low Voltage Differential Signals for Scalable Coherent Interface (SCI) Draft 1.3 IEEE P1596.3-1995.

Optical links are also used to send the TTC data from the RODs to the SCT modules. The BPM-12 ASIC uses biphase mark (BPM) encoding to send a 40 Mbits/s control stream in the same channel as the 40 MHz Bunch Crossing (BC) clock[7]. The outputs of the BPM-12 ASIC drive an array of 12 VCSELs which transmit the optical signal into 12 radiation hard fibres[6]. The signals are converted from optical to electrical form by the on-detector Si _p-i-n_ diodes[15]. The electrical signals from the Si _p-i-n_ diodes are received by the DORIC4A ASIC[5] which decodes the BPM data into a 40 MHz BC clock and a 40 Mbit/s control data stream.

The system is illustrated schematically in Figure 2. Some redundancy is built into the data links in that two independent links are provided for each SCT module. In normal operation each link reads out one side of a module but if one link fails then all the data can be read out via the working link5. This will reduce the bandwidth available but will not cause any loss of data at the expected rates. Redundancy is built into the TTC system by having electrical links from one module to a neighbour. If a module loses its TTC signal for any reason, an electrical control line can be set which will result in the neighbouring module sending a copy of its TTC data to the module with the failed TTC signal. For the barrel part of the SCT, the redundancy system is configured as a loop of 12, each connecting two adjacent barrel harnesses (see section 4.8.1). For theendcap the redundancy loops join detectors in a ring on a disk (see section 2.3.2) and consist of 40 or 52 modules (see section 4.6.3).

The locations of the optical and electrical patch panels are shown in Figure 1.

#### 2.1.1 System Specifications

Single bit errors in the data and TTC links must be at a sufficiently low rate as to give a negligible degradation of the detector performance. Single bit errors in the data links will cause the loss of valid hits from the silicon detectors or the creation of spurious hits. The upper limit on the Bit Error Rate (BER) is specified as \(10^{9}\), as an error rate at this level would give a negligible contribution to the detector inefficiency or to the rate of spurious hits. In practice, the error rate in the system has been measured to be much lower than this value (see section 7). Since the system involves a very large number (8176) of data links, it needs to be simple to set-up and operate with a minimal number of adjustments. Therefore, it is important that the system should work with low BER over a wide range of the adjustable parameters.

The specifications for the TTC links from the ROD to the detector are given in Table 1 below.

Figure 2: The ATLAS SCT optical links system architecture for the data links (top) and for the TTC links (bottom). Equivalent systems are used for the barrel and endcaps but for the barrel there is only one optical patch panel PPB1.

Single bit errors in the TTC links can cause a loss of level 1 triggers and it has been evaluated that a BER of \(10^{-9}\) would cause a negligible loss of data[8]. Using test beam data, it was estimated that at high LHC luminosity a BER of \(\sim 10^{-10}\) would be expected due to Single Event Upsets[8]. Therefore SEUs will not have any significant adverse effect on the quality of the SCT data. The BER for the TTC links has also been measured, without beam present, to be much lower (see section 7).

In the binary system used for the readout of the SCT detectors it is necessary to assign hits to the correct bunch crossing while allowing for the time walk of the signal in the front-end electronics. Therefore any jitter on the clock signal can decrease the efficiency of the binary system used for the readout of the SCT[1], which leads to the tight specification on the clock jitter. As for the data links, it is important that a low BER can be achieved for the TTC links over a wide range of the adjustable parameters.

#### 2.1.2 Detailed specifications for the data links

The specifications for the on-detector VCSELs are given in Table 2. The reliability requirement is set by demanding that the rate of failures after 10 years of LHC operation should be less than 1%. For the VCSELs, ageing only occurs when the current is being drawn, and since NRZ data is used, this only happens 25% of the running time6 (therefore the allowed failure rate is reduced by a factor of 4, compared to a system in which the VCSELs were on all the time).

Footnote 6: In order to reduce queuing losses, data will only be sent 50% of the time on average and there will be an approximately equal numbers of “0”s and “1”s in the data stream.

The specifications for the Si \(p\)-\(i\)-\(n\) diodes that receive the optical data signals in the back of crate (BOC) card are given in Table 3.

\begin{table}
\begin{tabular}{|l|l|l|l|l|} \hline
**Parameter** & **Minimum** & **Typical** & **Maximum** & **Units** \\ \hline BER & - & \(<\)\(10^{-11}\) & \(10^{-9}\) & - \\ \hline Jitter of & - & 0.1 & 0.5 & ns \\ recovered & & & & \\ clock (RMS) & & & & \\ \hline \end{tabular}
\end{table}
Table 1: Specifications for the TTC links.

\begin{table}
\begin{tabular}{|l|l|l|l|l|l|} \hline
**Parameter** & **Minimum** & **Typical** & **Maximum** & **Units** & **Comments** \\ \hline Wavelength & & 850 & & nm & Not critical \\ \hline Fibre coupled power at & 400 & & 3000 & \(\mu\)W & \\
10 mA & & & & \\ \hline Threshold current & & & 5 & mA & \\ \hline Forward voltage at 10 & & 2 & & V & \\ mA & & & & \\ \hline Reliability & & & 1400 & FIT7  & 15\({}^{0}\)C worst \\  & & & & case & case \\ \hline \end{tabular}
\end{table}
Table 2: Specifications for the on-detector VCSELs.

The attenuation of the fibre is measured to be less than 15 db/km and the fibre lengths from the detector to the off-detector optoelectronics are less than 100 m. The optical power budget for the data links is given in Table 4. A minimum excess power margin of 9.6 dB can be achieved and if necessary this can be further improved by increasing the VCSEL drive current from 10 mA up to a maximum of 20 mA.

#### 2.1.3 Detailed specifications for the TTC links

The specifications for the off-detector VCSELs[7] are given in Table 5.

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**Quantity** & **Value** & **Units** & **Comments** \\ \hline Minimum coupled power for VCSELs in opto-package & 0.8 & mW & I(VCSEL)=10 mA. Increase I(VCSEL) if required after irradiation. \\ \hline Loss for 2 MT8 connectors & 1.0 & dB & 2 connections for endcap and one for barrel. Assumes 0.5 dB per MT connection (using optical grease). \\ \hline Fibre attenuation & 1.3 & dB & Measured attenuation/km and longest fibre length detector \(\xrightarrow{\raisebox{-0.6pt}{\scalebox{0.8}{$\bullet$}}}\) ROD. \\ \hline Additional loss assuming 10 Mrad over 7m & 0.1 & dB & Conservative upper limit \\ \hline Minimum responsivity Si _p-i-n_ diode & 0.4 & A/W & \\ \hline Minimum signal at DRX i/p & 184 & \(\mu\)A & \\ \hline Minimum specified signal at DRX i/p & 20 & \(\mu\)A & \\ \hline
**Excess power margin (safety factor)** & **9.6** & **dB** & \\ \hline \end{tabular}
\end{table}
Table 4: **Optical Power Budget for data links.**

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**Parameter** & **Minimum** & **Typical** & **Maximum** & **Units** & **Comments** \\ \hline Operating wavelength & 820 & 840 & 860 & nm & \\ \hline Input optical power & & 1 & 3 & mW & \\ \hline Responsivity @ 820 \(-\) 860 nm and 5V bias & 0.4 & 0.5 & & A/W & \\ \hline Dark current & & \(<\)1 & 2 & nA & \\ \hline Reverse voltage & & 5 & 10 & V & \\ \hline Breakdown voltage & 15 & 20 & & V & \\ \hline Rise and fall times & & 1 & 2 & ns & 20\%-80\% values at 5V bias. \\ \hline Temperature range & 10 & 20 & 50 & \({}^{\circ}\)C & Condition for package not chip \\ \hline \end{tabular}
\end{table}
Table 3: **Specifications for the off-detector Si _p-i-n_ diodes.**The specifications for the on-detector Si _p-i-n_ diodes[15] are given in Table 6.

**Table 6. Specifications for the on-detector Si _p-i-n_ diodes.**

\begin{tabular}{|l|l|l|l|l|l|} \hline
**Parameter** & **Minimum** & **Typical** & **Maximum** & **Units** & **Comments** \\ \hline Sensitive wavelength & & 850 & & nm & not critical \\ \hline Responsivity before irradiation & 0.4 & & & A/W & \\ \hline Responsivity after irradiation & 0.3 & & & A/W & \\ \hline Maximum reverse voltage & & 10 & 20 & V & \\ \hline Reliability & & & 350 & FIT & 15\({}^{0}\)C worst case. \\ \hline \end{tabular}

The optical power budget for the TTC links is given in Table 7.

\begin{table}
\begin{tabular}{|l|l|l|l|l|} \hline
**Characteristics** & **Min.** & **Typical** & **Max.** & **Units** \\ \hline Wavelength & 820 & \(\sim\)840 & 860 & nm \\ \hline Output power coupled into 50\(\mu\)m core SIMM9 at 10 mA & 0.7 & 1.2 & - & mW \\ \hline Threshold current & & 3 & 6 & mA \\ \hline Forward voltage @ 10mA & & 2 & 2.5 & V \\ \hline Reverse voltage & & & 2 & V \\ \hline
20\%-80\% Rise and fall time & & 1 & 2 & ns \\ \hline Temperature range & 10 & 20 & 50 & \({}^{\circ}\)C (condition for package not chip) \\ \hline \end{tabular}

Footnote 9: SIMM: Step Index Multimode.

\end{table}
Table 5. Specifications for the off-detector VCSELs,

### Specifications for the electrical power distribution

An overview of the SCT power supply system is given in [9, 10]. The electrical power distribution has to provide the analogue and digital power for the SCT modules[11] and the high voltage[12] for the silicon sensors[3, 4]. The power for the on-detector VCSELs comes from the same digital power supply as used for the ASICs but there is a separate control voltage which is used to set the magnitude of the VCSEL drive current. The system also has to provide the bias voltage for the on-detector Si _p-i-n_ diodes. The system provides DC control signals used for reset signals for the front end ASICs on the modules and to turn on the TTC redundancy system for a module (see section 2.1). In order to correct analogue and digital voltages for the voltage drops in the distribution system, voltage sensing very close to the ASICs is used. This then requires 4 lines per module (analogue and digital voltages and their returns) to be connected back to the power supplies.. There are also temperature sensing signals, two for each barrel module and one for each end-cap module, carried on the electrical distribution system back to the temperature sensing circuitry in the power supply units The specifications [11, 12] are given in Table 8.

Due to severe space and material constraints, the electrical power distribution from the patch panels PPB1 (barrel) to each barrel detector module is incorporated within harnesses along with the opto transmission. For the endcaps, the larger clearances allowed the design of a system with separated electrical and optical harness. The design, construction and testing of this part of the electrical power distribution are, therefore, described in this paper. The description of the power supplies and cable systems from the power supplies to the patch panels PPB1 and PPF1 will be the subject of a future publication. The list of electrical signals from the modules to the PPB1 and PPF1 patch panels is given in Table 9.

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**Quantity** & **Value** & **Units** & **Comments** \\ \hline Minimum amplitude of coupled power for 12 way array VCSELs into ribbon fibre. & 1.0 & mW & I(VCSEL)=10 mA. Increase I(VCSEL) if required. \\ \hline Loss for 2 connectors & 1.0 & dB & Assumes 0.5 dB per MT connection using optical grease. \\ \hline Fibre attenuation & 1.3 & dB & Measured attenuation/km and longest fibre length detector ROD. \\ \hline Additional loss assuming 10 Mrad over 7m & 0.1 & dB & Conservative upper limit \\ \hline Minimum responsivity PIN diode & 0.3 & A/W & After maximum SCT irradiation fluence of \(~{}2~{}10^{14}\) n/cm\({}^{2}\). \\ \hline Minimum signal amplitude at DORIC input & 173 & \(\upmu\)A & \\ \hline Minimum specified signal amplitude at DORIC input & 40 & \(\upmu\)A & DORIC4A spec for signal amplitude \\ \hline
**Excess power margin (safety factor)** & **6.4** & **dB** & \\ \hline \end{tabular}
\end{table}
Table 7: **Optical power budget for the TTC links.**

### Mechanical and thermal interfaces

In order to design a hermetic detector with a minimal area of silicon, there is very limited space available for the optical and electrical services. The heat dissipated by the on-detector optoelectronics has to be transported efficiently to the cooling system, so as to avoid excess heating of the silicon detectors. These interfaces are described for the barrel in section 2.3.1 and endcaps in section 2.3.2.

#### 2.3.1 Barrel interfaces

The arrangement of the opto-flex on the smallest of the 4 SCT barrels (called barrel 3) is shown in Figure 3 (extracted from [13]), (see also the photograph of opto-flexes mounted on the barrel in Figure 12).

\begin{table}
\begin{tabular}{|p{113.8pt}|p{56.9pt}|p{56.9pt}|p{56.9pt}|p{56.9pt}|} \hline
**Voltage** & **Nominal voltage at module (V)** & **Maximum voltage at module (V)** & **Nominal current (mA)** & **Maximum current (mA)** \\ \hline Analogue & 3.5 & 3.7 & 900 & 1300 \\ \hline Digital & 4.0 & 4.2 & 572 & 1300 \\ \hline Detector HV & - & 500 & - & 5.8 \\ \hline PIN bias voltage & 6 & 10 & 0.2 & 1.1 \\ \hline \end{tabular}
\end{table}
Table 8: Power supply specifications

\begin{table}
\begin{tabular}{|p{113.8pt}|p{56.9pt}|} \hline
**Signal** & **High current** \\ \hline Analogue power supply & Yes \\ \hline Analogue power supply return & Yes \\ \hline Digital power supply return & Yes \\ \hline Analogue power supply sense & No \\ \hline Analogue power supply return sense & No \\ \hline Digital power supply return sense & No \\ \hline Si \(p\)-\(i\)-\(n\) bias Voltage & No \\ \hline Sensor bias & No \\ \hline Sensor bias return & No \\ \hline VCSEL current set control voltage & No \\ \hline Redundancy select line & No \\ \hline Hard reset line for ABCDs & No \\ \hline Temperature reading from top side of module & No \\ \hline Temperature reading from bottom side of module & No \\ \hline \end{tabular}
\end{table}
Table 9: List of electrical signals from patch panel PPB1 to the barrel modules. For the endcap modules only one temperature monitoring signal was used.

The SCT modules are mounted on carbon fibre brackets which are rigidly attached to the carbon fibre barrels. The optoelectronics components are mounted on the opto-flex cables, which are also attached to the carbon fibre brackets. The space envelope for the optoelectronics has a height of 1.6 mm and this provides a vertical clearance to the neighbouring module of 1.39 mm. This clearance is critical to avoid damage to exposed wire bonds on the modules. Therefore the thicknesses were measured at several stages during the assembly of the opto-package and opto-flex circuit. As a final check, after the assembly of the optical and electrical services to the barrel, mechanical "envelope" modules were mounted on each location to verify the clearances. The clearances at the end of the barrel are also tight, as can be seen in Figure 4 (extracted from [13]). Allowing for all the tolerances, the minimum clearance was calculated to be 1.8 mm. Therefore, the thickness of the Low Mass Tapes (LMTs) (see section 4.7) and the total height of the stacks of 6 double LMTs were checked during the assembly.

Figure 3: **Layout of opto-flex on barrel 3 showing the clearance between the top of the opto-package and the module above it. This cross section view shows the carbon fibre brackets attached to the carbon fibre cylinder at the bottom of the figure and the aluminium cooling block on the top right.**

The opto-flex cable has to be in thermal contact with the cooling block, however the cooling block will move when the detector is cooled down by a distance of up to 1 mm. Therefore the thermal connection was made using thermally conductive grease10 to allow for a sliding grease joint. A specially designed plastic clip was used to ensure that the opto-flex kept good thermal contact with the cooling block.

Footnote 10: Dow-Corning 340 thermal grease.

#### 2.3.2 Endcap interfaces

For the endcaps, the modules were mounted on 18 carbon fibre disks. A fully populated disk consists of an outer ring of 52 modules, and a middle and an inner ring each containing 40 modules. Partially populated disks consisted of the outer and middle rings or just the outer ring. For the endcap the opto ASICs were mounted on the endcap modules. There is an electrical connector on the SCT module and the endcap opto-package (see section 4.2) was designed to connect to this. Therefore the cooling of the optoelectronics was ensured by the cooling of the endcap module. The electrical power and DC control signals for the endcap modules were supplied by the kapton flex circuits described in section 4.5.

## 3 Summary of radiation hardness requirements and measurements

Over the expected 10 years of LHC operation the on-detector components will be subjected to a total ionising dose of up to 100 kGy(Si) and an equivalent fluence for silicon of up to 2 10\({}^{14}\) (1MeV n\({}_{\text{eq}}\)) cm\({}^{-2}\)[1]. All the on-detector components have been selected to achieve a sufficiently radiation hard and reliable system. In particular,

Figure 4: **Build up of stack of 6 pairs of LMTs at the end of the barrel showing the clearance to the SCT module.**

plastics were selected from the CERN list of suitable radiation hard plastics and only qualified radiation hard glues were used. Extensive radiation hardness and reliability studies have been performed for all the active components on the detector as well as some simpler tests of mechanical parts. The radiation and reliability tests of the VCSELs are discussed in [14] and equivalent results for the Si _p-i-n_ diodes are given in [15]. The radiation hardness of VCSELs in the opto-package was also verified to be the same as bare VCSELs demonstrating the correct choice of all mechanical components and glues for these parts. The design of the on-detector opto ASICs and the radiation tests are described in [5]. The radiation tests of the pure silica core Step Index Multi Mode (SIMM) fibre are described in [6]. As well as surviving the total radiation dose, the detector has to operate correctly whilst exposed to a high particle flux. This will result in Single Event Upsets (SEU) and the results of SEU studies are given in [8].

## 4 On-Detector Optoelectronics

The on-detector opto-packages have to be assembled from non-magnetic material, fit in the available space and contribute a minimum amount to the radiation length of the detector. The overall mechanical assembly, as well as the optoelectronics must be able to withstand the expected radiation from 10 years of LHC operation. Therefore custom opto-packages were developed. The on-detector opto-packages contain two VCSELs and one epitaxial Si _p-i-n_ diode. The opto-package for the barrel SCT is described in section 4.1. For the endcap, a variant of the barrel opto-package was used which is described in section 4.2. The associated ASICs are summarised briefly in section 4.3.

### Barrel Opto-Package

The key issues for the opto-packages are how to couple the light from the surface emitting VCSELs11 into the fibre and how to maintain the very low profile, so as to fit in the available radial space. These problems were addressed by using 45\({}^{0}\) angle polished fibres above the VCSELs and using the reflection on the cleaved surface to transfer the light to the fibre core. In a similar way 45\({}^{0}\) angle polished fibres were also used to transfer the light from the TTC fibres to the Si _p-i-n_ diodes12. The assembly of the barrel opto-package13 is illustrated schematically in Figure 5.

Footnote 11: TSD-8A12, Truelight, Taiwan.

Footnote 12: Apex 10, Centronic, UK.

Footnote 13: Radiantech, Taiwan.

The VCSELs and Si _p-i-n_ diodes are mounted on the small PCBs and wire bonded to tracks on the PCB. The fibres are located in v-grooves on the plastic build-up component. Active alignment is used to ensure that the optimal fibre positions relative to the VCSELs are achieved and a UV curing glue14 was used to fix the fibres in place. The cover is designed to protect the active components and the clamp at the back of the package ensures that the fibres are well strain relieved. The overall height of the package is only 1.46 mm, which is within the allowed space envelope. Extensive tests were performed to ensure that there was no significant optical or electrical cross talk between the VCSELs and the Si _p-i-n_ diodes.

Footnote 14: Epotech OG-124.

Any small amount of light leakage can lead to significant excess noise in the silicon detectors because silicon has a high quantum efficiency for radiation at 850 nm. The effect was observed during the first system test of the SCT[16] before suitable precautions had been taken to minimise light leakage. Therefore the fibres were placed inside 900 \(\upmu\)m diameter black furcation tubing15 in order to minimise light leakage from the fibres to the silicon detectors. In order to minimise the light leakage from the opto-package itself, custom plastic parts were manufactured. The parts were produced using plastic injection moulding and carbon fibre loaded PEEK16 was used which is known to be radiation hard. This material is black and strongly absorbs infra-red radiation. In order not to significantly reduce the vertical clearance, the top of the cover is made using 25 \(\upmu\)m thick aluminium foil (which also prevents the transmission of infra-red radiation). A drawing of the cover is shown in Figure 6.

Figure 5: **The barrel opto-package. The dimensions are in mm (inches).**

### Endcap Opto-package

The endcap readout used a similar opto-package to the barrel. However for the endcap an electrical connection was required to the module. Therefore, the endcap opto-package contained an 8 way 1mm pitch electrical connector17 which was used to connect the opto-package to the endcap module, as shown in Figure 7. In order to minimise light leakage, custom plastic covers were manufactured. For the endcap there was more vertical clearance but considerably less lateral clearance than for the barrel. Therefore a different opto cover had to be designed. The design is shown in Figure 8. These covers were also produced with plastic injection moulding using carbon loaded PEEK. A photograph of an endcap module showing an inserted opto plug-in is given in Figure 9.

Figure 6: **Two 3D views of the plastic cover for the barrel opto-package. The opto-package fits in the hole and aluminium foil is glued over the top of the opto-package. The two VCSEL fibres fit in the wider groove at the back of the cover and the one Si _p-i-n_ fibre fits in the narrow groove. The back of the cover fits over the opto-ASICs. The dimensions are in mm.**Figure 8: **Endcap Opto cover,** (a) base, (b) lid and (c) assembled base and lid. The dimensions are in mm.

Figure 7: **Endcap opto-package showing the pins of the electrical connector.**

### Associated ASICs

The LVDS data signals from the modules are converted to suitable signals to drive the VCSELs by the VDC ASIC[5]. The VDC ASIC has two control signals, which allows the current for each VCSEL in the associated opto-package to be set in the range 0 to 20 mA. The default current for normal operation was chosen to be 10 mA, but higher currents might be required to achieve faster annealing of radiation damage or to provide additional safety margin for the optical power budget. The BPM encoded electrical signal from the Si _p-i-n_ diode is fed to the DORIC4A ASIC[5]. The DORIC4A discriminates the electrical signal and decodes the incoming BPM data to produce 40 Mbit/s data and a 40 MHz clock. The resulting clock and data signals are output via LVDS drivers. If required for the operation of the TTC redundancy system, a redundant copy of the clock and data signals may be provided by toggling a control line.

### Barrel Opto-Flex

The opto-package and the opto-ASICs are mounted on a custom copper/kapton flex circuit (the "opto-flex"). The opto-flex carries multi-pin electrical connectors at each end. At one end, connections are made to the detector module itself. At the other end, connections are made to an interface PCB. The interface PCB is soldered to a pair of low mass tapes (LMT) (see section 4.7). All the electrical power and DC control signals for the SCT modules and the on-detector optoelectronics are brought in via the LMTs. The flexes were manufactured as 4 layer copper/kapton flexible circuits. The

Figure 9: **Photograph of part of an endcap module, showing the location of the opto plug-in.**build up is given in Table 10. The FR418 stiffener was glued to the flex in the region underneath the module connector. A 0.5 mm thick AlN ceramic was glued to the back of the flex to act as a stiffener under the opto-package and ASICs and to increase the thermal conduction from the opto ASICs to the cooling block.

Footnote 18: FR4 is the flame retardant version of PCB material made from woven glass reinforced resin.

**Table 10.****Opto-flex build up.**

\begin{tabular}{|l|l|} \hline
**Layer** & **Thickness (\(\upmu\)m)** \\ \hline Kapton & 25 \\ \hline Adhesive & 25 \\ \hline Cu & 22 \\ \hline Kapton & 25 \\ \hline Cu & 22 \\ \hline Kapton & 25 \\ \hline Kapton & 25 \\ \hline Cu & 22 \\ \hline Adhesive & 25 \\ \hline Kapton & 25 \\ \hline Adhesive & 25 \\ \hline FR4 & 800 \\ \hline \end{tabular}

A photograph of an opto-flex cable is shown in Figure 10. The connector to the module is visible at the top of the photograph, and the connector that mates to the interface PCB is visible in the bottom left. There is a ground area where the opto-ASICs and opto-packages should be mounted. There are two additional connectors for the TTC redundancy system. As part of the SCT grounding and shielding system there is a "shunt shield" flex circuit to shield the SCT module from any electrical noise on the cooling block. There is an electrical connector on the opto-flex in order to connect the shunt-shield to analogue ground.

There are 16 different flavours of opto-flex required to allow for:

1. There are high and low modules on the barrel.
2. Left and right handed cables for the two halves of each barrel (6 modules in each half row).
3. The modules on two of the four barrels (barrels 3 and 5) are mounted with a different orientation, compared to the other two (barrels 4 and 6).
4. Two directions of data flow in the TTC redundancy system (data flows in opposite directions for neighbouring harnesses, allowing redundancy (see section 4.6) loops to be implemented).

The opto-flex circuits were produced in industry19.

Footnote 19: CSIST, Taiwan.

### Endcap flex circuits

The endcap flex circuits supply analogue and digital power and detector bias to the modules as well as other low current lines (see section 2.2). The constraints are to minimise voltage drop on the high current lines, with minimal additional material, as well as to provide 500 V isolation for the detector bias line. In order to minimise the material, each of the 33 modules in a quadrant is supplied by an individual circuit, grouped in tapes of up to 3 circuits each. There are up to 12 such tapes per quadrant of each disc in the endcap.

Figure 10: Photograph of a barrel opto-flex cable. The upper left insert shows a zoom of the module connector and the lower left insert shows a zoom of the power tape connector.

The high current circuits are implemented in custom copper clad aluminium (CCA) twisted pair cables that are soldered to connectorised terminations on a copper-kapton flex circuit that carries the low current signals from PPF0 at the disc edge to the connector on each module. The twisted pair is 23 AWG20 in size and the copper cladding comprises 10% by volume of each strand. The copper lines on the kapton flex circuit were 35 m thick and the tracks were \(\sim\) 75 m wide and all tracks apart from the one carrying the detector bias had a \(\sim\) 75 m spacing. The detector bias track had a clearance of 800 m in the region in which there was a cover layer and a 2.5 mm clearance in the exposed region. This ensures safe operation at the maximum detector bias voltage of 500V.

The designs for each tape[17] were laid out from the data extracted from the 3-D model of the disc (see Figure 11)21. The kapton flex circuits and connectors22 were assembled with the CCA wires by an assembly company23, then bent into the required 3-D shape with special jigs at RAL. The completed tapes were then tested for

Figure 11: 3-D model used for the tape layout as well as a section of a disk equipped with tapes and other services.

electrical continuity, short circuits and high voltage insulation resistance before being mounted on the disks.

### Redundancy Circuits

#### 4.6.1 Requirements For Redundancy Circuits

In order to implement the TTC redundancy scheme it is necessary to provide electrical connections between neighbouring modules to carry the redundant 40 MHz clock and 40 Mbit/s control LVDS signals. There is also a "SELECT" line in order for one module to request the redundant TTC data from its neighbour. This SELECT line can be set high by the power supply system for a module requiring redundant TTC data. In addition in order to enable DC coupled LVDS communication between modules, it was necessary to electrically connect the ground levels between the neighbouring modules. For the barrel, this connection was done through a 100 \(\Omega\) resistor on each opto-flex cable.

#### 4.6.2 Barrel Redundancy Circuits

For the barrel system the redundancy connections were made by the "arms" on the opto-flex circuits (see section 4.4). For the end opto-flex circuit on a harness, there was insufficient room for one of the arms, therefore it was cut off and the alternative redundancy connector was used. In order to create a redundancy loop of 12 modules (connecting two adjacent half rows of 6 modules) in two barrel harnesses (see section 4.8.1), additional copper/kapton flexible circuits were used.

#### 4.6.3 Endcap Redundancy Circuits

For the endcap redundancy circuits, there was insufficient clearance at the module to use flexible copper/kapton circuits. Instead a woven wire technology was used to make more compact connector assemblies. These redundancy links24 were based on 6 woven copper wires25.

Footnote 24: Manufactatured by Tekdata interconnections, Staffordshire, UK.

Footnote 25: The thickness was chosen to be 42 SWG (Standard Wire Gauge,

[http://www.reade.com/Conversion/wire_gauge.html](http://www.reade.com/Conversion/wire_gauge.html)) in order to carry a maximum current of 20 mA.

#### 4.6.4 Effects on Module Noise

In principle the redundancy system affects the module grounding scheme and therefore could degrade the noise performance. From the barrel system tests, there is no evidence for any degradation in noise performance from the use of the redundancy system. However for the endcap system it was discovered that the addition of the redundancy interlinks did increase the measured noise for the modules. Further investigations showed that this excess noise could be reduced to a negligible level by shorting out the 5.1 k\(\Omega\) resistor connecting the digital grounds and by adding a copper foil around the redundancy interlink to provide a low inductance connection. A "drain" wire was connected to the digital ground pins on the connectors at the two ends of the circuit and the copper foil was wrapped around the circuit so that it was in good contact with the drain wire.

### Low Mass Tapes

In order to minimise the contribution to the radiation length inside the inner detector, aluminium on kapton power tapes were used to bring the power from the patch panel 

[MISSING_PAGE_FAIL:22]

### Opto-Harnesses

#### 4.8.1 Barrel Harness

The on-detector optoelectronics, fibres and the low mass aluminium tapes (LMTs) for 6 modules are combined into one opto-harness. A photograph of an assembled barrel harness is shown in Figure 12. A total of 352 barrel harnesses were required.

The harnesses require the correct length of LMT and fibre to extend beyond the end of the barrel and this creates the need for 46 different flavours of harness. The lack of modularity of the barrel harness proved to be a problem during production as it was very hard to achieve a high yield of harnesses that passed all the tests. The very large number of different flavours made production difficult and also made it impractical to make sufficient spares for each flavour. Sufficient spare sub-assemblies were manufactured and they were made into complete harnesses on request but this of course caused some delays in the assembly sequence.

\begin{table}
\begin{tabular}{|l|l|l|l|} \hline
**Parameter** & **Minimum** & **Maximum** & **Units** \\ \hline Line resistance for power lines (4.5 mm wide) & & 0.15 & \(\Omega\)/m \\ \hline Line resistance for narrow lines (0. 5 mm wide) & & 1.7 & \(\Omega\) /m \\ \hline Inter-line resistance & 100 & & M \(\Omega\) \\ \hline Resistance from HV line at 500V to grounded adjacent lines & & & G \(\Omega\) \\ \hline \end{tabular}
\end{table}
Table 11: **Electrical specifications for LMTs.**

#### 4.8.2 Endcap Fibre Harness

For the endcap fibre harnesses a slightly more modular scheme was used. The fibre harness was assembled separately from the electrical harness. Each endcap fibre harness consisted of between 4 and 6 endcap opto-packages (see section 4.2). The data and TTC fibres were separately ribbonised and fusion spliced to 12 way fibre ribbons. The individual fibres were protected by the same fraction tubing as used for the barrel harnesses (see section 4.8.1). Since the lengths of fibre ribbons are positioned very close to the SCT modules, it was necessary to prevent light leakage from the fibres reaching the modules. This was done by wrapping the fibre ribbons in aluminium foil. A total of 354 endcap fibre harnesses were required. The endcap SCT only required 7 flavours of fibre harness which simplified production (compared to the barrel harnesses) and allowed 20% spares for each flavour to be produced. A photograph of an endcap fibre harness is shown in Figure 13. A photograph of part of an endcap disk after the fibre harness, kapton flex circuits and cooling pipes have been mounted is shown in Figure 14. At this stage of the assembly the modularity of the system is lost as the kapton flex circuits and the endcap fibre harnesses are trapped under the cooling pipes and can not be easily replaced.

Figure 12: Photograph of part of a barrel harness after mounting onto a barrel. Four opto-flex circuits (out of six on the harness) and the associated fibres are visible.

Figure 13: Endcap fibre harness. The harness consists of 6 opto-packages and two fibre ribbons, terminated in MT connectors inside Infineon30 SMC housings. The two inserts show the electrical connector inside the opto cover and the end of the harness with two Infineon SMC housings.

## 5 Fibre Optic Connectors and Cables

The fibre used is a custom radiation hard fibre31. It is a step index multi-mode (SIMM) fibre with a pure silica core to ensure radiation hardness. More details about this fibre and the results of radiation testing are available in [6]. Single fibres from the opto-packages were ribbonised and fusion spliced to ribbon fibre. For the barrel harnesses (see section 4.8.1) which serviced 6 modules, the 12 data fibres were fusion spliced to a 12 way ribbon and the 6 TTC fibres were also spliced onto the 6 central fibres of a 12 way ribbon. In a similar way, the fibres from the endcap fibre harnesses (see section 4.8.2) were ribbonised and spliced to ribbon fibre. However since some of the endcap fibre harnesses consisted of only 4 or 5 opto-packages, this resulted in some unused "dark fibres". In total there were 3.6% dark fibres. In order to connect the 6 TTC fibres in a ribbon to 12 way ribbons without creating any more dark fibres, a "y junction" ribbon was used. In a y junction ribbon, one end of the ribbon was terminated with a 12 way MT-12 connector and the other end of the ribbon was split into two 6 way ribbons, each of which was terminated with an MT-12 connector. For the Barrel detector the y junction ribbons were connected at PPB1 and for the endcap at PPF0 (see section 2.1).

Figure 14: Photograph showing part of an endcap disk after endcap fibre harnesses, kapton flex circuits and cooling pipes have been mounted. Dummy modules are mounted on the cooling blocks to allow the electrical flex circuits and the opto-packages to be tested.

### Fibre Connectors

The ribbons were terminated with MT-12 connectors32. The standard MT guide pins are made from magnetic stainless steel so that custom non-magnetic guide pins were machined from Zirconia. The standard MT spring clip is also magnetic so custom spring clips were manufactured using beryllium copper. These non-magnetic spring clips will be used for the fibre connections at the patch panels PPB1 and PPF1 (see section 1). However, for the fibre connections at the PPF0 patch panel at the edge of the disks, the use of these spring clips would not be practical because of lack of access. Therefore a push-pull connector is required and this was achieved using the Infineon SMC connectors and adaptors33. The MT connector fits inside the SMC which can then be connected to the SMC adaptor. A non-magnetic version of the spring inside the SMC connector was manufactured in beryllium copper and a non-magnetic version of the adaptor plate was manufactured from non-magnetic stainless steel using photolithography.

Footnote 32: MT: Mechanically Transferable splice.

Footnote 33: V23867-Z9999-W904, Infineon, Germany.

### Short Fibre Ribbons

Short 12 way fibre ribbons were used to connect the optical patch panels PPF0 on the edge of the endcap disks to the patch panel PPF1 (see Figure 1). The lengths of these ribbons are in the range 1.456 m to 3.191 m. The numbers of different types of short ribbons used are given in Table 12 below.

### Fibre Cable

The fibres from the patch panels PPB1 and PPF1 to the Read Out Drivers (RODs) in the counting room are inside a protective cable, which is illustrated in Figure 15. The cable34 has an outer diameter of 10.5 mm and is made of a flame retardant polyethylene. Two GFRP35 rods provide strength to the cable and the maximum permissible tensile strength is 220 N which allows for the cable to be pulled during installation. The cable can be bent out of the plane of the two GFRP rods with a minimum bend radius of 10 times the cable diameter36. Two rip cords are provided so that it is easy to remove short lengths of the protective cable from the end to expose a longer length of bare fibre ribbons. The cables contained either 6 or 8 of the 12 way ribbons. Some of the cables contained ribbons with y junctions at one end and the others had one MT-12 connector on each end of the ribbon (see section 5.1). The numbers of cables of the different types are summarised in Table 13. The lengths of the cables are in the range 68.8 m to 91 m.

Footnote 34: Manufactured by Fujikura, Japan.

Footnote 35: GFRP: Glass fibre reinforced plastic.

Footnote 36: The orientation of the ribbons with respect to the GFRP rods shown in Figure 15 is that used during the assembly of the cable. The ribbons are loose inside the cable and will tend to orientate themselves to minimise the strain when the cable is bent.

## 6 Off-Detector Optoelectronics

The off-detector optoelectronics is based on 12 way arrays of VCSELs37 and epitaxial Si _p-i-n_ diodes38. The signals from the Si _p-i-n_ diodes are discriminated by the DRX-12 ASIC which provides LVDS data to the ROD. The level 1 trigger signal and all the control signals for the modules are sent to the BPM-12 ASIC, together with the 40 MHz bunch crossing clock. The BPM-12 ASIC uses a Biphase mark scheme to encode the L1 and control data signals onto the 40 MHz BC clock. The outputs of the BPM-12 are used to drive the VCSELs. More details about the off-detector optoelectronics are given in [7].

Footnote 37: TSA-8B12-00, Truelight, Taiwan.

Footnote 38: Designed by Truelight, manufactured by Epsil, Taiwan.

## 7 Performance

The QA that was carried out during the production and assembly is described in the following sections.

#### 7.1.1 Phases of testing

The first QA was performed during production (see section 7.1.2) and a full QA was performed on reception test at the assembly sites (see sections 7.2.1 and 7.3.1).

Figure 15: **Fibre protective cable (not to scale).**

\begin{table}
\begin{tabular}{|p{113.8pt}|p{113.8pt}|p{113.8pt}|p{113.8pt}|} \hline
**Number of 12 way ribbons in cable** & **Y ribbons (2 MT-12 to MT-12)** & **Straight MT-12** & **Number of 12 way ribbons** \\ \hline
6 & 8 & 38 & 276 \\ \hline
8 & 16 & 82 & 784 \\ \hline \end{tabular}
\end{table}
Table 13: **Number of different types of fibre cables. In total there are 144 fibre cables containing 1060 of the 12 way fibre ribbons.**Quicker and simpler tests were done after mounting the services to the carbon fibre support structure (see sections 7.2.2 and 7.3.2). Finally the functionality was verified after the SCT modules had been mounted (see section 7.4).

#### 7.1.2 Measurements during production

All optoelectronic components (VCSELs, _Si p-i-n_ diodes and the opto ASICs) underwent burn-in before assembly. For the on-detector VCSELs this involved operation for 72 hours, at a temperature of 50\({}^{\rm{0}}\)C, with a current of 10 mA. The optical power of the VCSELs and the responsivity of the Si _p-i-n_ diodes were checked to be within the SCT specifications (see sections 2.1.2 and 2.1.3). In order to verify the digital functionality of the data and the TTC links for the barrel harnesses, a Bit Error Rate (BER) test was performed. This involved a "loop-back" test in which the recovered clock and data from the DORIC4A was sent to the two VCSEL channels in the same opto-package. The BER was measured by comparing the returned data with the reference data. The BER tester was clocked using the returned optical clock, so that it verified the full functionality of the data and TTC links. The requirement was that there should be no bit error in 10 minutes of operation.

#### 7.1.3 Reception tests

A full reception test was performed at the macro assembly sites before the harnesses were mounted onto the carbon fibre support structures. Performance measurements were carried out after the harnesses were mounted to check for damage during the mounting procedure. In the case of barrel harnesses, a simple functionality check of the harnesses were performed after transport to the SCT barrel assembly site39, prior to module mounting40. Similarly for the opto harnesses for endcap C, the functionality testing was repeated after receipt at the macro-assembly site41. Finally, for both the barrels and endcap disks it was possible to test the performance again after the modules had been mounted.

Footnote 39: The barrel harnesses reception tests and mounting harnesses on barrels were carried out at RAL and the barrel module assembly was performed at Oxford.

Footnote 40: For schedule reasons this test was not performed for the last of the 4 barrels.

Footnote 41: For Endcap-C, the harness reception tests and the mounting of harnesses on disks were carried out at RAL and the Endcap module assembly was performed at Liverpool. For Endcap-A, all these steps were carried out at NIKHEF.

### Barrel Harness Tests

#### 7.2.1 Barrel harness reception tests

A VME based test system was used for the reception tests. Custom VME boards called SLOG42 (SLOw command Generator) were used to generate a 40 MHz clock and a 40 Mbit/s pseudo-random data stream. One such SLOG was used to send electrical data to the VDC ASICs on the harness. The optical data was received by a Si _p-i-n_ array in the OptIf-B43 module and the resulting electrical signal was compared with a delayed version of the input signal in another VME module called the RedLITMUS44 (Redesigned Link Test Module Using SLOG), which was used to measure the BER for the data links. Similarly, for the TTC system, the TTC data from a SLOG were sent to the OptIF-B module which generated the BPM encoded optical signals that were sent to the Si _p-i-n_ diodes on the harness. The recovered data from the DORIC4A ASIC were compared with a delayed version of the input data in another RedLITMUS module and the BER was measured. The connections between the VME modules in the test system and the harness under test are given in footnote 44. The analogue performance of the optical links was tested by measuring the light output of the VCSELs at the nominal operating current of 10 mA, while sending pseudo-random data. There is a very broad distribution, which is due to the spread in total power from the VCSELs as well as the spread in coupling efficiency. The typical value of the coupled optical power after correcting for the 50% duty cycle is around 1600 \(\upmu\)W, which is a factor of 4 greater than the minimum specified, so the yield was very high. The responsivity of the Si _p-i-n_ diodes was measured when biased at -6V, while sending pseudo-random BPM encoded optical signals. The distribution of measured light output for a sample of the VCSELs is shown in Figure 16 and the distribution of measured responsivities is shown in Figure 17. The Si _p-i-n_ diodes show very little spread in the responsivity and the coupling efficiency is uniformly large because of the relatively large active area (the diameter is 350 \(\upmu\)m).

Figure 16: Distribution of measured fibre couple light output from the VCSELs on barrel harnesses. The data give the measured optical power and are not corrected for the 50% duty cycle. The entries in the overflow bin are mainly due to a malfunction of the test system.

The digital performance of the data links was first tested by performing BER measurements as a function of the DAC (Digital-to-Analogue Conversion) values which set the thresholds for the DRX-12 receiver ASIC. This scan was done very quickly with only 32 kbits of data at each scan point. This crude measurement gives an upper (RXmax) and lower (RXmin) limit for the DAC setting for which no bit errors were detected. An example of these scans for one barrel harness is shown in Figure 18. For all 12 data links the VCSELs were sufficiently bright that no bit errors were detected with the highest value that could be set for the 8 bit DAC. The width of the working region was defined as the difference between RXmax and RXmin and the optimal setting was selected to be the average of RXmax and RXmin. The distribution of this width is shown in Figure 19 and shows some spread which is correlated with the brightness of the VCSEL. The very low values, correspond to channels with low output power VCSELs. The working margin is typically well above the minimum required value of 100 counts, which should make it simple to set a working RX DAC value in the final system. With the DAC set to this optimal value, the BER was measured for 10 minutes with the requirement that there should be no bit errors.

Figure 17: **Distribution of the measured Si _p-i-n_ diode responsivities.**

The digital performance of the TTC links was measured in a similar way. A quick BER scan was performed for the TTC links as the value of the DAC which controlled the drive current to the VCSELs was changed. An example of these scans for one

Figure 19: **Distribution of RX DAC working margin, defined as RXmax-RXmin.**

Figure 18: **RX threshold scans for one barrel harness. The 12 curves show the BER as a function of RX DAC value for the 12 data links on this harness.**

hannels. The \(\alpha\)-axis of the \(\alpha\)-axis is shown in Figure 20. The start of the working region around a TX DAC value of 100 corresponds to the minimum current for the VCSEL to be above laser threshold and for the minimum current to get a clean pulse out of the BPM-12 ASIC. This measurement gives an upper (TXmax) and lower (TXmin) limit for the DAC setting for which no bit errors were detected. The width of the working region was defined as the difference between TXmax and TXmin and the optimal setting was selected to be the average of TXmax and TXmin. The distribution of this width is shown in Figure 21. The distribution shows non-statistical fluctuations because the measurements for different harnesses used the same VCSELs in the test system and a brighter VCSEL results in a lower value of TXmax. The spread in the distribution on the low side results from the fact that brighter VCSELs can cause saturation in the Si _p-i-n_ diodes. Since in ATLAS operation, there will be an additional attenuation in the fibres, the width of the working region should be larger. With the DAC set to this optimal value, the BER was measured for 10 minutes with the requirement that there should be no bit errors for either the data or the TTC links. This ensures that the BER is less than 9.6 10\({}^{-11}\) at 90% confidence level, which is an order of magnitude lower than that required by the specifications (see section 2.1.1).

The signals to select the TTC redundancy signals were then turned on for all 6 modules on a harness. The redundancy signals were looped back from one end opto-flex cable to the opto-flex cable at the other end of the harness. A 10 minute measurement of the BER for the TTC links was then repeated. The recovered 40 MHz clock was examined on an oscilloscope for normal and redundant operation. The QA requirement was that there were no bit errors during the 10 minute measurement and that all the clock and redundant clock signals were observed on an oscilloscope.

Figure 20: TX threshold scans for one barrel harness. The 6 curves show the BER as function of TX DAC value for the 6 TTC links on one harness.

#### 7.2.2 Tests after mounting on the barrels

After mounting the barrel harnesses on the barrel, the fibre coupled output power of the VCSELs and the responsivity of the Si _p-i-n_ diodes were measured. In order to verify the functionality of the data and TTC links another BER test was performed. A custom BER tester (BERT) was used for this. For this test special loop back PCBs were mounted on the opto-flex cables, which fed the recovered 40 MHz BC clock and the 40 Mbit/s data from the DORIC4A to the two input channels of the VDC. A pseudo random data stream and a 40 MHz clock were input to a TX plug-in PCB (see section 6) and the optical signal was connected to the TTC fibre from the barrel harness. The data fibre from the harness was connected to an RX plug-in PCB (see section 6). The recovered data was compared with the input data and any errors were counted. The system was clocked with the recovered BC clock so that it tested the full functionality of the data and the TTC links.

The BER was measured for 10 minutes with the requirement that there be no errors. The TTC redundancy systems were then turned on and the BER measurement repeated with the DORIC4A sending its redundant data output to the VDC. The same requirement that there should be no errors in 10 minutes was set for the redundant data.

To verify the continuity of the lines not tested by the BERT, a simple continuity test was performed. This used a "loop back" measurement which connected all the lines

Figure 21: **Distribution of TX DAC working margin, defined as TXmax-TXmin.**not tested by the BERT in series and the series resistance was measured to check for any open circuits. In order to make the measurement also be sensitive to short circuits, resistors were placed at both ends of the loops, so that any short circuits between neighbouring lines would lead to an anomalously small reading.

#### 7.2.3 Reception tests at barrel macro assembly site

In order to verify the functionality of the optical links on receipt of the barrels at the barrel macro assembly site, very simple tests were performed. Special loop back PCBs were mounted on the opto-flex cables. These sent the recovered 40 MHz clock and 40 Mbits/s data from the DORIC4A to the two VDC channels on the same opto-flex. A series of level 1 trigger signals was sent to the modules on the TTC links and it was checked that the correct data were received in the BOC. If necessary the RX or TX DAC value was changed. In a few cases it was also necessary to change the VCSEL drive current from the default value of 10 mA. These tests revealed some problems (see section 8.7) which could not have been fixed without a major disassembly. It was therefore decided for schedule reasons not to make any repairs at this stage but to use the data redundancy system (see section 2.1) for the dead data links and the TTC redundancy system for the dead TTC links (see section 2.1). However in order to avoid the loss of data that would have arisen from one ABCD ASIC for the modules for which the data redundancy is being used (see section 2.1), modified modules were used. These modified modules45 had an additional kapton flex, which allowed the readout of all 12 ABCD ASICs through one data link.

Footnote 45: There was not time to prepare a modified module when the first case of a dead data link was discovered on barrel 3. Modified modules were then prepared and used for subsequent cases of dead data links.

### Endcap Harness Tests

The endcap fibre harnesses were reception-tested on the bench and then mounted on the carbon fibre support disks together with the endcap flex circuits. The flex circuits and the opto-harnesses were tested again on the disks. After these tests were successfully completed for each disk, the remaining services were added to the disks and the tests were repeated, in order to verify that no damage had occurred.

#### 7.3.1 Reception Tests

A similar system to that used for barrel harness testing was used to measure the coupled optical power of the VCSELs and the results are shown in Figure 22. The system also measured the Si _p-i-n_ diode responsivities and the distribution is shown in Figure 23. The same set of BER measurements as was performed for barrel harnesses (see section 7.2.1) were then carried out. However this test is less meaningful than for the barrel as the DORIC4A and VDC ASICs used were part of the test system rather than the device under test. This test was therefore only used to verify the ac functionality of the VCSELs and PINs.

Figure 22: Distribution of measured fibre coupled optical power from the VCSELs on a sample of endcap fibre harnesses measured at RAL. The data are not corrected for the 50% duty cycle.

#### 7.3.2 Tests after mounting on the disks

After mounting the endcap fibre harnesses on the disks, the opto-packages were powered and the coupled optical power of the VCSELs and the responsivity of the Si _p-i-n_ diodes were measured again to verify that the links were still functional.

### Tests after modules were mounted

After the modules were mounted on the structures, very simple tests were performed to verify the functionality of the optical links. Identical tests were performed on the barrel and endcap modules. The modules were placed in a mode in which the contents of the ABCD configuration register were returned in response to triggers. Triggers were sent 10 times and the returned data was checked for self consistency. If there were no bit errors, the same data pattern would always be read back. A scan was performed in which the threshold of the receiving ASIC, the DRX-12, was changed. The results of a typical scan are shown in Figure 24. From this scan a minimum (RXmin) and maximum (RXmax) value of the RX threshold DAC for which there were no bit errors was determined. The optimal setting would be given by the average value of RXmin and RXmax46. The reliability of this procedure and the stability of the system were checked by comparing the RXmin values from these on barrel measurements at Oxford, with the reception test measurements at RAL. The result of

Figure 23: **Distribution of Si _p-i-n_ diode responsivities for the endcap opto-packages measured at RAL.**

[MISSING_PAGE_EMPTY:38]

### QA for fibre cables

The insertion loss of the MT terminated fibre ribbons in the fibre cables were measured by the manufacturer and verified to be compatible with an attenuation loss of 15 dB/km plus a maximum loss of 2 dB per MT connector. After the fibre cables were installed in the ATLAS cavern at CERN, the insertion loss measurements were repeated to check that the fibres had not been damaged during installation. In order to enable the timing of the SCT to be set-up for cosmic ray data taking before the first LHC operation, it is necessary to know the signal delays in all the TTC fibres. This was measured by using a VCSEL to send an optical pulse into one end of a ribbon with a "reflector ribbon" connected at the other end of the ribbon to send the signal back down a different fibre. A fast optical probe was used to detect the returned pulse. The time delay between sending and receiving the pulse was measured on an oscilloscope and after correcting for the propagation time in the reflector ribbon, the propagation delay of the fibre was determined.

A similar system was used to measure the insertion loss of the endcap short fibre ribbons (see section 5.2). For these short fibre ribbons, the attenuation in the fibres was negligible and it was checked that the insertion loss of each ribbon was less than 2 dB per MT connector. The lengths of all these ribbons were measured with a ruler to ensure that they would fit in the available space.

### QA for off-detector optoelectronics

The tests performed during production of the off-detector RX and TX plug-ins (see section 6) are described in section 7.6.1. The reception tests that were performed before mounting the plug-ins into the BOCs are described in section 7.6.2.

#### 7.6.1 Production tests for the off-detector RX and TX plug-ins

The associated ASICs were tested before assembly to the RX and TX PCBs. For the DRX-12, simple testing was performed to verify that all 12 channels were functional.

Figure 26: **Correlation of RXmin values from measurements performed at Oxford and CERN. The data are for modules from barrel 3. Different conditions were used for the cooling system in these two measurements, which resulted in small temperature differences.**For the BPM-12, a full set of tests was performed. This checked that the VCSEL driver currents could be adjusted over the required range for all 12 channels. It also checked that the correct waveforms were generated and that the rise and fall times were within specifications. Scans of the coarse and fine delays were performed and the mark-to-space ratio register was scanned and the output duty cycle was measured. This ensured that it will be possible to achieve a 50% duty cycle optical signal from the VCSELs as required for the recovery of a low jitter BC clock by the DORIC4A ASIC[7].

The optical power outputs of the VCSEL chips on the wafer were measured by the manufacturer, so that 12 way arrays could be cut with high yield. In order to eliminate infant mortalities, a burn-in test was performed by operating the VCSELs for 72 hours at a temperature of 70 \({}^{0}\)C. A DC measurement of the fibre-coupled power for the 12 VCSELs on the arrays, was made after the arrays were mounted on the daughter PCB. For AC testing the TXs a fan-out fibre ribbon was used to connect the 12 VCSELs to 12 individual Si p-i-n diodes with trans-impedance amplifiers. The 'eye pattern'47 and the rise and fall times of the BPM encoded signal were checked on an oscilloscope. For testing the RXs, a TX plug-in was used for the optical sources and a fixed RX threshold was used. The 'eye patterns' of the output LVDS signals were verified on an oscilloscope.

Footnote 47: For an explanation of the term eye pattern see [http://en.wikipedia.org/wiki/Eye_pattern](http://en.wikipedia.org/wiki/Eye_pattern)

#### 7.6.2 Reception Tests for the RX and TX plug-ins

The optical power for the VCSELs and the responsivity of the Si _p-i-n_ diodes were measured48. These measurements were made using patch fibres with Infineon SMC connectors mounted over the MT-12 connectors (unlike the measurements made by the manufacturer which used the bare MT-12 connectors). The latching mechanism was provided by the mechanics in the BOC. A Pseudo-random data stream was sent to the BPM-12 ASIC in the TX plug-in so that the duty cycle of the signal was 50%. The mean power from the VCSELs in a reference TX was measured using an optical power meter and the settings required to achieve a fibre-coupled power of 500 \(\upmu\)W were determined. Each TX was then tested by connecting its output to a reference RX and the coupled optical power was determined by measuring the current in the Si _p-i-n_ diode in the reference RX plug-in. In order to minimise thermal effects on the measured power, the measurements were performed by having all 12 VCSELs on and switching one VCSEL off at a time. The power for the channel that was switched off was then determined from the decrease in the measured current in the Si _p-i-n_ diode. The measurements were performed at a VCSEL drive current of 10 mA and 15 mA and the results are shown in Figure 27 and Figure 28. The main reason for some VCSELs having low values of the optical power was the difficulty in fully mating the optical connector.

Footnote 48: These tests were performed at Cambridge.

In a similar way the responsivity of the Si _p-i-n_ diodes on the RXs were measured by sending the optical signal from the reference TX, with the settings set to achieve a coupled optical power of 500 \(\upmu\)W, to all the RX plug-ins. The spread in the measured responsivity was small and consistent with the measurement errors.

Figure 28: **Distribution of fibre coupled optical power for the VCSELs on TX plug-in PCBs. The data corresponds to the average power and is not corrected for the 50% duty cycle. The drive current was 15 mA.**

Figure 27: **Distribution of fibre coupled optical power for the VCSELs on TX plug-in PCBs. The data corresponds to the average power and is not corrected for the 50% duty cycle. The drive current was 10 mA.**

Simple BER tests were also performed to verify the functionality of the RX and TX plug-ins. Timing scans were performed to check the speed of the VCSELs and PINs. Tests of writing to all the registers on the BPM-12 were also performed. The overall yield from the reception tests of the TX (RX) plug-ins was 89 (93) %. For the TXs, 92% passed the optical power requirements and the remaining losses in yield were mainly due to PCB assembly problems and a few cases of BPM-12 problems which were not checked for during BPM-12 testing.

## 8 Problems encountered during assembly

Several problems were encountered during the course of the assembly of the barrel and endcap services and the most significant ones are described here.

### LMT Solder Connection

For barrel 3 the solder connections between the LMTs and the PCBs (PPB1 and the interface PCB) was done using a thermode soldering machine49. With thermode soldering a small head is used to apply a controlled pulse of heat. Since it was not possible to make small windows in the LMTs, the heat from the thermode had to propagate through the 50 \(\upmu\)m of kapton50 in order to reach the solder. Another problem was that the long lengths of the pads on the PCBs tended to remove the heat from the region where it was needed. It was therefore difficult to get the solder to flow well enough without burning the kapton. An extensive optimisation of the thermode soldering parameters was attempted, but the soldering yield could not be raised to a level so that the yield for a complete harness containing 12 LMTs (6 double tapes) was high enough. Therefore, for the other three barrels a simpler hot-air gun system was used for the soldering. This had the advantage of allowing a longer time for the heat to propagate through the kapton to the solder. For the harnesses assembled using the hot air gun system, none of these solder connections showed any failures during the reception tests.

Footnote 49: Uniflow pulsed thermode control, Unitek Equipment, Ca, USA.

Footnote 50: In a standard thermode soldering process there is a window in the kapton to allow the thermode head to apply the heat directly to the solder.

### High Voltage leakage

For two batches of barrel LMTs it was found that many of the LMTs failed the High Voltage Insulation Resistance (HV IR) measurement during reception testing. The low values of HV IR were increased to a satisfactory value by performing a bake out in an environmental chamber at 80\({}^{\text{0}}\)C for one hour. However when the HV IR values were checked for these harnesses some months after the first test, there were found to be 24 LMTs with low values of HV IR (\(<\) 1G\(\Omega\)). During this period the relative humidity in the RAL clean room had become very high. The HV leakages were all cured by operation of the HV at 500V for a period of hours. It was discovered on some tapes that when the bake out was done with a hot air gun, then only a short length of the LMT was responsible for the HV leakage. This implied that there was some local contamination on the LMT. Inspection of the HV leakage at 500V performed by the LMT manufacturer showed that for these two batches there were many more tapes which were rejected because they had a higher than normal HV leakage, although it always corresponded to a resistance of more than the ATLAS specification of 1 G\(\Omega\). Further investigation confirmed that there was contamination over short lengths of tapes from the bad batches. The contamination was on the back of the kapton on the upper LMT. Tests in Ljubljana showed that this contamination was not due to Ferric Chloride (used in the etching), but does contain potassium. The large values of HV leakage are then due to the ionic contamination becoming conducting in the presence of moisture. Therefore the HV leakage disappears on bake out which removes the moisture or HV operation which uses up the available ions.

All the harnesses can be operated in ATLAS conditions with very low values of HV leakage, so the one remaining concern is if the contamination could lead to any auto-catalytic chemical reactions, which would corrode the aluminium tracks. In order to test this hypothesis, accelerated ageing tests were performed with LMTs operated at 500V in a moisture chamber at an elevated temperature. No significant differences between LMTs from good and bad batches were found. Therefore, provided that the humidity is kept low during ATLAS operation, there is no reason to expect any corrosion problems.

### Cracks on LMTs

A very serious problem with cracks was found for the LMTs. There were no problems with the basic Al/kapton tapes, but it turned out that the ends of the tapes were very fragile. The ends were electro-plated with a thin layer of Ni to allow a layer of Pb/Sn solder to be electro-plated (see section 4.7). The tapes were then soldered to PCBs. A typical example of a crack in a 500 \(\upmu\)m wide trace is shown in the photograph in Figure 29. The crack is not straight and is believed to follow the grain boundaries. In order to simplify the production of LMTs, they were made in bins of length so that tapes from a given bin could be cut back to the required length. Therefore a longer length of plating region was required, which meant that the fragile plated region was exposed and could be damaged by bending. For the barrel LMTs a low rate of these cracks was found. The numbers of failures due to cracks in LMTs found at the different QA stages for the 4 barrels are summarised in Table 14. The higher rate of failures found for barrel 3 harnesses was probably due to the extra re-work required to fix the solder connection problems (see section 8.1).

In order to avoid lengthy delays to the schedule, it was decided to try to do in-situ repairs for these failures. In the case of failures of one of the voltage sense lines, the sense line was short circuited to the relevant signal line on the PPB1 PCB. This creates a small error in the voltage sensing, which can be corrected for in the software that controls the power supplies. Failures due to a crack in one of the two VCSEL supply voltage lines were fixed by shorting the two control voltages for the two VCSELs on the opto-flex cable. In the cases of failures on other lines, a short length of wire was used to make an electrical connection over the crack in the LMT.

\begin{table}
\begin{tabular}{|p{56.9pt}|p{56.9pt}|p{56.9pt}|p{56.9pt}|p{56.9pt}|} \hline Barrel & Total number of harnesses & RAL reception tests & RAL on barrel tests & Oxford reception tests \\ \hline
3 & 64 & 4 & 2 & 2 \\ \hline
4 & 80 & 1 & 0 & 1 \\ \hline
5 & 96 & 1 & 0 & 0 \\ \hline
6 & 112 & 1 & 0 & 2 \\ \hline \end{tabular}
\end{table}
Table 14: **Numbers of failures due to cracks in barrel LMTs found at the different QA stages.**For the endcap LMTs the failure rate of the Al/kapton LMTs was significantly higher. From the reception testing at Glasgow and subsequent testing at Liverpool it was found that about 25% of harnesses had cracks on at least one line. The failure rates for the barrel harnesses were probably lower than for the endcap harnesses because the fragile plated regions of the barrel LMTs were better protected by the longer PCB and by a better strain-relief clamp. It was therefore decided to replace the endcap aluminium LMTs with copper tapes. In order to keep the same voltage drop along the tapes, the 50 \(\upmu\)m thick aluminium was replaced with 35 \(\upmu\)m of copper, which represents an increase in the radiation length contribution from the conductor by a factor of 3.9. The total radiation length contribution for one copper double tape (providing power for one module), averaged over the width of a tape, for a particle traversing it at 90\({}^{0}\), is 0.33%. At the end of the cylinder, the average radiation length for a particle traversing at 90\({}^{0}\) is 1.87%. The LMTs for the endcaps run along the cylinder at a radius of 590 mm, which is larger than the radii of the barrels. Therefore the impact on the tracking performance of the increase in material is less significant than it would have been for the barrels. These LMTs were manufactured starting from rolled annealed copper on EspanexTM,51. The rolled annealed copper is very ductile and an adhesiveness process was used to achieve excellent adhesion. All the LMTs were made to the required length, so that the plated region is protected by the PCB. With these precautions, these LMTs were found to be extremely robust and no cracks were found.

Footnote 51: Nippon Steel Chemical Co. Ltd., Tokyo, Japan: product # SB35-50-35FR.

### Cracks on opto-flex cables

Some problems with cracks were found in the barrel kapton opto-flex circuits. An example of a crack is shown in Figure 30.

Figure 29: Crack on an HV line of an Al/kapton LMT.

The cracks tended to occur because the layouts were not optimised for robustness. This happened because there was insufficient time for the detailed optimisation of the layout. The cost in time and money of remaking all these circuits was prohibitive. It turned out to be possible to use ceramic stiffeners behind the connectors as a work around for this problem. Also special tools were designed to allow the test PCBs to be mated and de-mated without stressing the fragile region of the flex. However if there had been fewer flavours of flex circuits to design, it would have been possible to optimise them to avoid these problems.

Problems with cracks were also encountered with the kapton flex circuits for the endcaps. The kapton flexes alone were rather robust as were the copper clad aluminium (CCA) wires. The CCA wires were attached to the flex and then the flex was bent into the required 3D shape (see Section 4.5). Since the CCA wires were much more rigid than the kapton flex, this tended to cause cracks in the narrow copper tracks on the flex circuits. This problem was exacerbated by the use of a photo-imageable coverlayer which did not provide robustness to the flexible circuit. The performance was improved by using a conventional cover layer attached by adhesive. After the change to the cover layer (and a change in the colour of the dye used in the insulation of the CCA wires to improve solderability), the yield measured at RAL increased from 57% to 90%. However, a more robust design would have mechanically separated the CCA wires from the flexible circuit.

### Geometry mismatch

There was a mistake in the geometry for the layout of the flex circuits for two of the four barrels. The result was that there was a lateral error of 2.8 mm in the location of the connectors for the module. This was only discovered after nearly all the harnesses had been assembled. This required connectors to be removed from the flex circuits and special translation PCBs (tPCBs) added to the flex circuits as shown in Figure 31. These problems could have been avoided if a simpler design had been used.

Figure 30: **Photograph of a crack on a copper/kapton opto-flex circuit.**

### Fibre breaks

The black furcation tubing did not provide very much protection for the fragile single fibres. When mounted on the carbon fibre disks, the black furcation tubing was not easily visible and some fibres were damaged during the assembly of further services on the first disks. The problem was minimised by taking extreme care during the entire assembly but it was not practical to eliminate the risks of damage entirely.

### Damaged ASICs and VCSELs

The VCSELs, PIN diodes and ASICs are well known to be sensitive to Electro Static Discharge (ESD). Therefore, standard precautions against ESD were implemented at all stages. The first ESD problems found were with the DORIC4A ASICs which were wafer tested before being assembled onto the flex circuits. The low yield of the DORIC4As after this assembly was eventually traced to ESD. A classic example of ESD damage on an ASIC is shown in the photograph in Figure 32. All the assembled opto-flex circuits were discarded, the ESD precautions improved and this problem was not seen again.

Figure 31: Photograph of part of barrel opto-flex circuit showing the tPCB to displace the location of the electrical connector to the module.

Figure 32: Microscope photograph of a part of a DORIC4A ASIC, showing clear evidence of ESD.

VCSELs are known to be very ESD sensitive. An ESD pulse will start to melt the layers in the Distributed Bragg Reflector (DBR) mirror and increase its opacity and hence reduce the light output[18]. Further damage can also increase the leakage current and hence shift the IV curve. Imaging damaged VCSELs requires transmission electron microscopy on a slice. However, the reduced forward voltage provides a simple test for ESD to VCSELs. A low rate of ESD damage was observed for the VCSELs in the endcap opto-harnesses. These VCSELs passed the initial burn-in and subsequent QA at Radiantech (Taiwan), RAL and Liverpool. After the modules were mounted on the disks at Liverpool and NIKHEF, the VCSELs were operated for a longer period of time. It is very difficult to localise the source of the problems. The ESD procedures at all assembly sites were thoroughly reviewed and several minor improvements were implemented. However is has not been possible to localise the origin of the problems.

When damaged components have been found on disks or barrels after all the other services have been mounted, it has not been possible to remove the faulty harness without extensive disassembly. Since this would have created unacceptable schedule delays, it was decided that for the opto-packages with one non-functional data or TTC link, the data or TTC redundancy system will be used. However there is still a concern that more widespread lower level ESD might have reduced the reliability of the VCSELs.

### Slow Turn on VCSELs

Apart from the clearly dead VCSELs, a few were found to have a slow turn on. An extreme example of this is shown in the BER scan in Figure 33, which should be compared with a similar scan for a module with two good VCSEL channels in Figure 24. It is clear that the light output is increasing significantly at the start of the burst of data. This effect was not seen in any of the previous QA because the tests were either DC or used pseudo-random bit streams which did not have a long gap between data. For this extreme case of this slow turn on, it was not possible to find any setting of the RX DAC for which this VCSEL channel could be used. Therefore the data from this side of the module will be readout using the other VCSEL channel on the module.

### Summary of problem channels

A summary of all the problem VCSELs and Si _p-i-n_ diodes for the four barrels is given in Table 15. A Similar summary for the endcaps is given in Table 16. It is thought that approximately half of the cases of slow turn-on VCSELs listed are serious enough to prevent readout working for this VCSEL and the data redundancy system will have to be used.

\begin{table}
\begin{tabular}{|l|l|l|} \hline
**Fault** & **Total Number** & **Cause** \\ \hline Dead VCSEL channel & 11 & ESD? \\ \hline Dead VCSEL channel & 1 & ESD to VDC inputs \\ \hline Intermittent VCSEL & 1 &? \\ \hline Slow turn on VCSEL & 1 &? \\ \hline Dead TTC link & 1 & Broken fibre \\ \hline \end{tabular}
\end{table}
Table 15: **Summary of non functional channels on the four barrels.**

Figure 33: **BER scans of RX DAC threshold for the two VCSEL data links of a module on barrel 3. The lower plot shows the most extreme case of a slow turn on VCSEL found (for the barrels) and the upper plot shows a normal channel. The thin red horizontal lines show the value of RXmin and RXmax and the thick blue horizontal line shows the value of RXoptimal. For the lower plot, there is no visible separation between the values of RXmin and RXmax.**In summary approximately 0.5 % of the data links and 0.1 % of the TTC links are not functional and the readout of the corresponding modules will require the use of either the data or TTC redundancy systems.

## 9 Conclusions

The systems for the optical and electrical services for the SCT have been described. The assembly of the components has been discussed. A summary of the performance of the optical links as measured during extensive QA has been given. All the services for both the barrel and endcap have been mounted on the carbon fibre support structures. Several severe problems were discovered during this phase and have been discussed. However the system has been demonstrated to be functional and meet the SCT specifications. All the SCT modules have been mounted on the barrels and the endcaps. The services have been used for very successful readout tests of the modules on these structures.

## 10 Acknowledgements

We thank the technical staff at Academia Sinica, Birmingham, Cambridge, Freiburg, Glasgow, Lancaster, Liverpool, Ljubljana, Oxford and Rutherford Appleton Laboratory for their excellent work. We acknowledge the support of the funding authorities of the collaborating institutes including The Bundesministerium fur Bildung und Forschung (BMBF), Germany, the Ministry of Education, Culture, Sports, Science and Technology, Japan, The Japan Society for the Promotion of Science, The Research Council of Norway, the Polish State Committee for Scientific Research, The Slovenian Research Agency, The Ministry of Higher Education, Science and Technology of the Republic of Slovenia, The Spanish National Program for Particle Physics, The Swedish Research Council, The Particle Physics and Astronomy Research Council of the United Kingdom, The United States Department of Energy, The United States National Science Foundation, The National Science Council, Taiwan, Republic of China. This research was supported by a Marie Curie Intra-European Fellowship within the 6th European Community Framework Programme.

\begin{table}
\begin{tabular}{|l|l|l|} \hline
**Fault** & **Total Number** & **Cause** \\ \hline Dead VCSEL channel & 4 & ESD \\ \hline Dead VCSEL channel & 1 & Not ESD \\ \hline Dead VCSEL channel & 13 &? \\ \hline Dead VCSEL channel & 2 & Short circuit in opto- \\  & & package \\ \hline Dead VCSEL channel & 1 & Mechanical problem with \\  & & fibre connection in opto- \\  & & package. \\ \hline Slow turn on VCSELs & 21 &? \\ \hline Dead TTC link & 1 & Broken fibre \\ \hline Dead TTC link & 1 & Mechanical \\ \hline \end{tabular}
\end{table}
Table 16: **Summary of non-functional channels on the endcaps**

## References

1 ATLAS Inner Detector Technical Design Report, CERN/LHCC/97-16/17.

2 F. Campabadal et al., Design and Performance of the ABCD3TA ASIC for readout of silicon strip detectors in the ATLAS SemiConductor Tracker, Nucl. Instr. Meth. A552 (2005).

3 A. Abdesselam et al., The Barrel Modules of the ATLAS SemiConductor Tracker, submitted to Nucl. Instr Meth. A.

4 A. Abdesselam et al., ATLAS SCT Endcap module, in preparation.

5 D.J. White et al., Radiation hardness studies of the front-end ASICs for the optical links of the ATLAS SemiConductor Tracker, Nucl. Instr. Meth. A457 (2001) 369.

6 G. Mahout et. al., Irradiation Studies of multimode optical fibres for use in ATLAS front-end links, Nucl. Inst. Meth. A446 (2000) 426.

7 M.L. Chu et al., The off-detector opto-electronics for the optical links of the ATLAS Semiconductor Tracker and Pixel detector, Nucl. Instr. and Meth. A530 (2004) 293.

8 J.D. Dowell et al., Single event upset studies with the optical links of the ATLAS SemiConductor Tracker, Nucl. Instr. and Meth. A481 (2002) 575.

9 E. Spencer and A. Grillo, SCT Power Supply System Architecture, ATL_IS-EN-0020,

[https://edms.cern.ch/document/373595/1](https://edms.cern.ch/document/373595/1)

10 J. Bohm et al., Power Supply and Power Distribution System for the ATLAS Silicon Strip Detectors, 7\({}^{\mathrm{th}}\) Workshop on Electronics for LHC Detectors, Stockholm 10-14 September 2001, CERN 2001-005.

11 J. Stasny, SCT Low Voltage Power Supply Requirements and Specifications, ATL-IS-ES-0083,

[https://edms.cern.ch/document/385791/1](https://edms.cern.ch/document/385791/1).

12 E. Gornicki and S. Koperny, SCT Power supply system, ATL-IS-ES-0084,

[https://edms.cern.ch/document/385792/1](https://edms.cern.ch/document/385792/1).

13 Drawing ATLASIBBB3020, available from CDD on

[https://edms.cern.ch/cedar/plsq/cedarw.site_home](https://edms.cern.ch/cedar/plsq/cedarw.site_home).

14 P.K. Teng et al., Radiation hardness and lifetime studies of the VCSELs for the ATLAS SemiConductor Tracker, Nucl. Instr. and Meth. A497 (2003) 294.

15 D.G. Charlton et al. Radiation Hardness and Lifetime Studies of Photodiodes for the Optical Readout of the ATLAS SCT, Nucl. Instr. and Meth. A456 (2000) 292.

16 See [http://asct186.home.cern.ch/asct186/barrel_web/doubleL1A_2002-05.html/secmeas](http://asct186.home.cern.ch/asct186/barrel_web/doubleL1A_2002-05.html/secmeas).

17 V. O'Shea, SCT Forward power tapes from PPF0 to module, ATL-IS-ES-0082,

[https://edms.cern.ch/document/324698/1/](https://edms.cern.ch/document/324698/1/)

18 Neitzert et al, Sensitivity of Proton Implanted VCSELs to ESD Pulses, IEEE Journal Selected Topics in Quantum Electronics, Vol 7, No 2 March 2001.