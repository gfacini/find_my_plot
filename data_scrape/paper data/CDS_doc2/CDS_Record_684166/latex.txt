**Calibration of a RASNIK system for the ATLAS Muon Spectrometer**

F. Machefert\({}^{\,\rm i}\), C. Guyot\({}^{\,\rm i}\), J.P. Schuller\({}^{\,\rm i}\), P. Schune\({}^{\,\rm i}\)

February 6, 2001

Abstract

We propose a scheme for the absolute calibration of a set of three individual RASNIK elements and of their bench supports. The RASNIK elements consist of three precision cubic blocks carrying the mask, the lens or the CCD. Simulations and measurements on a dedicated bench show that this procedure leads to the required precision on the relevant RASNIK parameters (\(<5\mu\)m). These calibrated RASNIK blocks can be used later as references for a fast calibration of the RASNIK sensors to be used in the alignment system of the ATLAS muon spectrometer.

\({}^{1}\) DAPNIA/SPP, Saclay, now at LAL, Orsay

\({}^{2}\) DAPNIA/SPP, Saclay

###### Contents

* 1 Introduction
* 2 RASNIK calibration principle
	* 2.1 Modelisation
	* 2.2 Principle of the calibration
* 3 Precision of the calibration
	* 3.1 Results obtained with the simulations
		* 3.1.1 Calibration of the bench
		* 3.1.2 Calibration of a single element
	* 3.2 Calibration of the Saclay Bench
* 4 Conclusion

Introduction

RASNIK systems [1] will be the key elements for the alignment of the ATLAS muon barrel spectrometer [2]. Such a system requires a precise calibration of the position of its elements. In this note, we aim at explaining a method of calibration and at showing the results obtained both from simulations and from a calibration bench at Saclay.

The purpose of this calibration is also to produce one or several sets of calibrated RASNIK blocks and a calibrated bench. A calibrated RASNIK block consists of a precise (\(<5\mu m\)) square mount where the RASNIK element location is known with high precision after the calibration procedure. These blocks and this bench can be used later to calibrate individually the RASNIK elements to be used in Atlas.

## 2 RASNIK calibration principle

### Modelisation

The RASNIK system to be calibrated is composed of a mask, a lens, and a CCD camera each embedded in a cubic block (see figure 2). These blocks are set on three supports represented on figure 3 by two orthogonal dashed lines, and shown with the full bench on image 1. The global reference frame choosen in this note is fixed to the mask support, the \(Z\) axis joining its corner to a corner of the CCD support (see figure 3). The center of the three calibrated cubic blocks are shown by three crosses, the vector \(\vec{\Delta}_{i}\) (\(i=M\), \(L\), \(C\) for the mask, the lens or the camera) joining the corner of the block to its center. The calibration of the bench in this frame requires the evaluation of the vector \(\vec{\delta}_{S}\) joining the corner of the lens support to the \(Z\) axis and of the two angles \(\Phi_{L}\) and \(\Phi_{C}\) formed by the supports of the lens and the CCD respectively and the \(X\) axis. In the following the supports and the blocks are supposed to be in the \(XY\) plane and the vectors have two dimensions.

Apart from those four unknown linked to the support (the two angles \(\Phi_{L}\), \(\Phi_{C}\) and the vector \(\vec{\delta}_{S}\) described above), the calibration of the RASNIK blocks requires also the determination of parameters associated to its active parts :

* the angle \(\theta_{M}\) of the mask with respect to its block, and the vector \(\vec{\delta}_{M}\) joining the center of its block to the origin of the mask (called \(M\) on figure 3),
* the vector \(\vec{\delta}_{L}\) joining the center of the lens block and the center \(L\) of the lens itself,* the angle \(\theta_{C}\) of the CCD with respect to its block, and the vector \(\vec{\delta}_{C}\) joining the center of the CCD block to the CCD center (point \(C\) taken as the origin of the CCD camera).

The 12 unknown parameters can be determined by applying known translations and rotations of \(n\frac{\pi}{2}\,(n=0,1,2,3)\) to the three different blocks on their supports (see figure 2). For each position, the RASNIK system provides the coordinates \((\vec{M}I)\) in the mask frame of the point \(I\) whose image on the CCD corresponds to the point \(C\), and the relative angle \(\theta_{Mask-CCD}\). We will also calibrate the magnification \(\gamma\) of the RASNIK system in order to be independant of the assumed pixel size. This way, the distances mask-lens and lens-CCD camera which would have been poorly measured, are not needed anymore.

Figure 1: The calibration bench at Saclay. The three calibrated blocks are set on their supports and can be rotated about the main axis \((Z)\) of the bench or translated.

### Principle of the calibration

Using the parameters defined in the previous section, we can get the equations governing the system and determine the coordinates of \(\vec{M}I\) in the mask frame.

In the \((x,y)\) plane (for simplicity and as there is no ambiguity \(O=O_{M,L,C}\)) :

\[\mbox{Mask}:\qquad\vec{OM}=\vec{\Delta_{M}}+R\left(\psi_{M}\right) \vec{\delta}_{M}\] \[\mbox{Lens}:\quad\vec{OL}=R\left(\Phi_{L}\right)\left(\vec{\Delta _{L}}+R\left(\psi_{L}\right)\vec{\delta}_{L}\right)+\vec{\delta}_{S}\] \[\mbox{CCD}:\qquad\vec{OC}=\vec{\Delta_{C}}+R\left(\psi_{C}\right) \vec{\delta}_{C}\]

where \(R\left(\psi_{i}\right)\) is the rotation operator of angle \(\psi_{i}\) applied to the cubic block \(i\) (\(i=\mbox{mask}\), lens or CCD) about its center. The image \(I\) of \(C\) on the mask is

\[\vec{LI}=-\gamma\vec{LC} \tag{1}\]

Thus,

\[\vec{OI} = \left(1+\gamma\right)\vec{OL}-\gamma\vec{OC}\] \[= \left(1+\gamma\right)\left[R\left(\Phi_{L}\right)\left(\vec{ \Delta_{L}}+R\left(\psi_{L}\right)\vec{\delta}_{L}\right)+\vec{\delta}_{S}\right]\] \[-\gamma R\left(\Phi_{C}\right)\left(\vec{\Delta}_{C}+R\left(\psi _{C}\right)\vec{\delta}_{C}\right)\]

Finally, \(\vec{M}I=\vec{MO}+\vec{OI}\),

\[\vec{M}I = \left(1+\gamma\right)\left[R\left(\Phi_{L}\right)\left(\vec{ \Delta}_{L}+R\left(\psi_{L}\right)\vec{\delta}_{L}\right)+\vec{\delta}_{S}\right]\]

Figure 2: A block with its two degrees of freedom : rotation (\(\Psi\)) and translation (\(\vec{\delta}\)). The gray rectangle represents a RASNIK element embedded into its block.

\[-\gamma R\left(\Phi_{C}\right)\left(\vec{\Delta}_{C}+R\left(\psi_{C} \right)\vec{\delta}_{C}\right)\] \[-\vec{\Delta}_{M}+R\left(\psi_{M}\right)\vec{\delta}_{M} \tag{2}\]

The measured values given by the RASNIK system are the coordinates of \(I\) in the local frame associated to the pattern engraved on the mask, i.e. the coordinates of \(R\left(-\theta_{M}\right)\vec{M}I\) expressed in the laboratory frame (denoted \(\left(x,y\right)\)).

In addition to the rotation \(R\left(\psi_{i}\right)\), it is also possible to add an offset \(\vec{\delta}\) by inserting a calibrated gauge block between a RASNIK block and its support (figure 2), leading to the following transformation

\[\vec{\Delta_{i}}\rightarrow\vec{\Delta_{i}}+\vec{\delta} \tag{3}\]

for the vector \(\vec{\Delta_{i}}\), \(i=\) mask, lens or CCD, depending upon the block on which the translation is applied.

Eventually, the angle \(\theta_{Mask\gets CCD}\) is given by

\[\theta_{Mask\gets CCD}=\theta_{M}-\theta_{C}-\Phi_{C} \tag{4}\]

and is measured by the RASNIK system.

First, a calibrated movement \(\vec{\Delta_{M}}\rightarrow\vec{\Delta_{M}}+\vec{\delta}\) of the mask block leads to a displacement of the image \(I\) of the center of the CCD in the mask frame. If we call \(I\) the image in the nominal position and \(I^{\prime}\) the image after the transformation,

\[R\left(-\theta_{M}\right)\vec{I^{\prime}}=\vec{\delta} \tag{5}\]

Figure 3: The calibration bench with its 12 degrees of freedom as modelised in this note (vectors are in the \(\left(x,y\right)\) plane).

from which \(\theta_{M}\) can be easily extracted. Now, we apply a transformation \(\vec{\Delta_{M}}\rightarrow\vec{\Delta_{C}}+\vec{\delta}\) and the displacement of the image \(I\) is given by

\[R\left(-\theta_{M}\right)I\vec{I}^{\prime}=-\gamma R\left(-\Phi_{C}\right)\vec{\delta} \tag{6}\]

where \(\|I\vec{I}^{\prime}\|=\gamma\|\vec{\delta}\|\). Thus, both \(\gamma\) and \(\Phi_{C}\) can be determined. Using equation 4 and any single measurement we obtain easily \(\theta_{C}\).

More generally, the translations of the three blocks lead to the determination of the three angles \(\Phi_{L}\), \(\Phi_{C}\), \(\theta_{M}\) and to two independent evaluations of the magnification of the lens, while the rotations \(R\left(\psi_{i}\right)\) allow to get the positions of the active elements \(\vec{\delta_{M}}\), \(\vec{\delta_{L}}\) and \(\vec{\delta_{C}}\). The last unknown parameters \(\vec{\delta_{S}}\) is obtained by resolving equation 2 using the previous results and any single measurement.

Seven measurements1 are sufficient to fully calibrate the bench modelised in this note : the reference position measurement, three measurements after translation of each block, three after rotation of each block.

Footnote 1: We recall here that a measurement corresponds in fact to the two coordinates of the image of \(C\) on the mask and to the angle \(\theta_{M\,ask-\,CCD}\) in a particular position of the system.

Now, let's suppose that the bench has already been calibrated. If we wish to calibrate a new element (mask, lens or CCD camera), it is useless to recalibrate the full bench and to complete the series of seven measurements. It is only necessary to replace the old element with the new one and to do one unique measurement.

## 3 Precision of the calibration

### Results obtained with the simulations

The simulations have been done in two steps :

* The first step simulates the complete calibration of the parameters of the bench applying transformations (rotations and translations) to the cubic blocks. This simulation includes errors on the angles, on the positions of the different parts of the RASNIK and on the measurements performed with the CCD camera. Hence, we determine what should be the final error on the calibration of the whole system.
* In the second step, we simulate how to determine the position and the angle of one single element of RASNIK, the bench and the other two RASNIK cubic blocks being known with an accuracy given by the previous step. Only one measurement is used for this calibration.

#### 3.1.1 Calibration of the bench

The results given in the following have been obtained from several runs of 10000 simulations using a gaussian initial misposition of the RASNIK elements inside their blocks of \(\sigma=0.01\) rad and \(\sigma=1\) mm in \(X\) and \(Y\).

Two types of errors have been taken into account to simulate the calibration of the bench:

* The error on the _measurement of the CCD camera_ which has been showed to be 1 \(\mu\)m and 40 \(\mu\)rad by taking successively a large amount of data with the bench assembled at Saclay (see next section).
* The error on the _positioning of the blocks_ after a movement (translation or rotation) has been estimated with a series of data recorded with the same bench. A block was taken off and put back, the position of \(I\) and the angle being measured after each movement. The error found was 1.5 \(\mu\)m and 90 \(\mu\)rad.

The last error includes the first one and has been included in the simulation to parameterize the inaccuracy of the measurements. Two gaussian distributions (width 1.5 \(\mu\)m and 90 \(\mu\)rad) have been generated and used in this purpose. The corresponding errors for the calibration are called "statistical" errors in the following. They have been evaluated from 10000 simulations and are given in table 1 (column _Bench_, _Stat._). The errors on the positions are all inferior to 5 \(\mu\)m, except for the parameter \(\vec{\delta}_{S}\) (position of the support of the lens). It can be explained by the fact that this parameter is highly correlated to \(\Phi_{L}\). This correlation would vanished if the origins \(O_{M,L,C}\) of the 3 block frames had been choosen at the center of the cube faces instead of at the block corner.

Several sources of systematic errors have also been studied.

The size of the gauge block is known with a precision of 1 \(\mu\)m: a variation of this size of 5 \(\mu\)m (that is highly improbable) leads to an error of 0.5 \(\mu\)m on the positions and much less than the statistical error coming from the 10000 simulations for the angles. Thus, the size of the gauge block is assumed to be a minor problem.

The determination of the angles is independent of the size of the cubic blocks: Thiscalibration is done by measuring the _relative_ displacement of \(I\) after a rotation of \(\pi\). But, the evaluation of the position of the support of the lens with respect to the \(Z\) axis uses an _absolute_ measurement and is sensitive to this size. Table 2 shows the errors found on the calibration of the lens support by varying the size of the three blocks in a range of \(\pm 5\mu\)m along the \(X\) and \(Y\) axis.

Hence, we quote a systematic error of less than 1 \(\mu\)m on the position of the active parts of the bench (mask, lens, CCD) and of 3 \(\mu\)m on the position of the support of the lens (on the \(X\) and \(Y\) axis). The approximative orthogonality of the blocks has been estimated to be 60 \(\mu\)rad, value which is directly used as a systematic on the angle calibrations. Table 1 sums up the various systematic errors evaluated for the calibration of a bench (column _Bench_, _Syst._).

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline  & \multicolumn{2}{|c|}{Bench} & \multicolumn{2}{|c|}{Single Element} \\  & \multicolumn{2}{|c|}{Calibration} & \multicolumn{2}{|c|}{Calibration} \\  & Stat. & Syst. & Stat. & Syst. \\ \hline \((\vec{\delta_{S}},\vec{x})\) & 15.6 & 3 & & \\ \((\vec{\delta_{S}},\vec{y})\) & 14.2 & 3 & & \\ \(\Phi_{L}\) & 376 & 60 & & \\ \(\Phi_{C}\) & 371 & 60 & & \\ \hline \((\vec{\delta_{M}^{{}^{\prime}}},\vec{x})\) & 3.9 & 1 & 1.5 & 6 \\ \((\vec{\delta_{M}^{{}^{\prime}}},\vec{y})\) & 3.5 & 1 & 1.5 & 6 \\ \(\theta_{M}\) & 265 & 60 & 90 & 4 50 \\ \((\vec{\delta_{C}^{{}^{\prime}}},\vec{x})\) & 2.7 & 1 & 1.5 & 6 \\ \((\vec{\delta_{C}^{{}^{\prime}}},\vec{y})\) & 2.6 & 1 & 1.5 & 6 \\ \(\theta_{C}\) & 374 & 60 & 90 & 380 \\ \((\vec{\delta_{L}^{{}^{\prime}}},\vec{x})\) & 1.5 & 1 & 1.5 & 5.5 \\ \((\vec{\delta_{L}^{{}^{\prime}}},\vec{y})\) & 1.4 & 1 & 1.5 & 5.5 \\ \hline \end{tabular}
\end{table}
Table 1: Error on the determination of the parameters of the full bench and of one unique element in \(\mu\)m or \(\mu\)rad. The definition of the statistical errors and the origin of the systematics is given in the text.

\begin{table}
\begin{tabular}{|c|c|c|} \hline Miscalibrated Block & \(\sigma\left(\vec{\delta_{S}},\vec{x}\right)\)\(\mu\)m & \(\sigma\left(\vec{\delta_{S}},\vec{y}\right)\)\(\mu\)m \\ \hline Mask & 1.5 & 1.3 \\ Lens & 2.4 & 2.6 \\ CCD & 1.5 & 1.3 \\ \hline \end{tabular}
\end{table}
Table 2: Systematic errors due to the size of the different blocks. A bad determination of the size of the block along the \(X\) (\(Y\)) axis has an impact on the \(X\) (\(Y\)) coordinate of \(\vec{\delta_{S}}\).

#### 3.1.2 Calibration of a single element

The statistical error on the calibration of an element is equivalent to the statistical error on the measurement. It is estimated to be 1.5 \(\mu\)m on the positions and 90 \(\mu\)rad on the angles.

Similarly, the size of the blocks has a direct effect on the accuracy of the measured positions: a variation of \(\pm\)5\(\mu\)m on the size of the blocks leads to an equal miscalibration of the position of the element.

The evaluation of the parameters of a single element depends on the calibration of the full bench. Hence, the errors calculated in the previous section have been used to simulate 10000 benches whose parameters are only known with an accuracy equal to the quadratic sum of the statistical and systematic errors obtained in the previous section. For each of these benches, a lens, a CCD camera or a mask has been calibrated, producing the systematic errors due to the miscalibration of the bench. The results are given in table 3.

We quote a systematic error on the calibration of the position of 6 \(\mu\)m for the CCD and the mask and of 5.5 \(\mu\)m for the lens. The systematics on the angles are of 450 \(\mu\)rad and 380 \(\mu\)rad for the mask and the CCD respectively. The results concerning the calibration of a single element are summed up in table 1 (columns _Element_).

### Calibration of the Saclay Bench

At Saclay, a bench has been assembled (see picture 1) and two sets (sets A and B in the following) of three 80\(\pm\) 0.005 mm large cubic blocks have been mounted. Also two 8\(\pm\)0.001 mm gauge blocks are used to apply translations. A summary of the measurements done at Saclay is given in table 4.

\begin{table}
\begin{tabular}{|c|c|} \hline Parameter & Systematic error \\ \hline \((\delta^{\rightarrow}_{M},\vec{x})\) & 3.6 \(\mu\)m \\ \((\delta^{\rightarrow}_{M},\vec{y})\) & 3.6 \(\mu\)m \\ \(\theta_{M}\) & 440 \(\mu\)rad \\ \((\delta^{\rightarrow}_{C},\vec{x})\) & 3.7. \(\mu\)m \\ \((\delta^{\rightarrow}_{C},\vec{y})\) & 3.7 \(\mu\)m \\ \(\theta_{CCD}\) & 365 \(\mu\)rad \\ \((\delta^{\rightarrow}_{L},\vec{x})\) & 1.8 \(\mu\)m \\ \((\delta^{\rightarrow}_{L},\vec{y})\) & 1.8 \(\mu\)m \\ \hline \end{tabular}
\end{table}
Table 3: Systematic errors on the calibration of each RASNIK elements and due to the miscalibration of the full bench.

Table 5 sums up the results obtained from 10 calibrations done with two completely different sets (5 with the whole sets A and 5 with set B, column 2 and 3 of table 4). The resolutions obtained are quite similar to what is expected and the two calibrations of the support are in full agreement (in spite of the use of different sets of RASNIK elements). The angles are obtained with an accuracy of about 0.2 to 0.3 mrad while the precision on the position of the active elements is of a few \(\mu\)m. The calibration of the support of the lens is the less well-known parameter as was foreseen ; this is explained by the correlation of this parameter with \(\Phi_{L}\). Finally, it appears that the positions on \(\vec{y}\) are better known than the positions along \(\vec{x}\) only. It can be explained by the use of the wedge which leads to a translation \(\vec{\delta}(8.\pm 0.001\,\mathrm{mm},0)\) along \(\vec{x}\). Although the width of the wedge is known to 1 \(\mu\)m, there are now two contacts instead of one in the reference position. The imprecisions are also due to the impurities and dust that fall on the surfaces.

\begin{table}
\begin{tabular}{|c|c|c|c|c|c|} \hline Set (Mask-Lens-CCD) : & AAA & BBB & BAA & ABA & AAB \\ \hline Calibrations : & 5 & 5 & 5 & 3 & 3 \\ Measurements : & 35 & 35 & 35 & 21 & 21 \\ \hline \end{tabular}
\end{table}
Table 4: The measurements completed to derive the results of part 3.2. A set IJK means that a mask, a lens and a CCD from the sets I, J and K respectively are used. A calibration is achieved by doing seven measurements.

\begin{table}
\begin{tabular}{|c||c||c|} \hline Parameter & \multicolumn{2}{|c|}{Calibration} \\ \hline  & Set A & Set B \\ \hline \hline \((\vec{\delta}^{\prime}_{S},\vec{x})\) & \(\mathbf{-0.0443\pm 0.0098\,\,\mathrm{mm}}\) & \(\mathbf{-0.0374\pm 0.0110\,\,\mathrm{mm}}\) \\ \((\vec{\delta}^{\prime}_{S},\vec{y})\) & \(1.6148\pm 0.0093\,\,\mathrm{mm}\) & \(1.61\,76\pm 0.0072\,\,\mathrm{mm}\) \\ \(\Phi_{Len\,s}\) & \(0.01\,223\pm 0.0001\,9\,\mathrm{rad}\) & \(0.01\,222\pm 0.00014\,\,\mathrm{rad}\) \\ \(\Phi_{CCD}\) & \(\mathbf{-0.0087\pm 0.00021\,\,\mathrm{rad}}\) & \(\mathbf{-0.0088\pm 0.00012\,\,\mathrm{rad}}\) \\ \hline \hline \((\vec{\delta}^{\prime}_{M},\vec{x})\) & \(1\,2.6839\pm 0.0030\,\,\mathrm{mm}\) & \(9.8769\pm 0.0033\,\,\mathrm{mm}\) \\ \((\vec{\delta}^{\prime}_{M},\vec{y})\) & \(1\,0.2859\pm 0.0026\,\,\mathrm{mm}\) & \(10.0224\pm 0.0027\,\,\mathrm{mm}\) \\ \(\theta_{M}\) & \(\mathbf{-0.00042\pm 0.0001\,\,\mathrm{rad}}\) & \(\mathbf{-0.00696\pm 0.00010\,\,\mathrm{rad}}\) \\ \((\vec{\delta}^{\prime}_{C},\vec{x})\) & \(\mathbf{-0.0225\pm 0.0055\,\,\mathrm{mm}}\) & \(\mathbf{-0.1625\pm 0.0033\,\,\mathrm{mm}}\) \\ \((\vec{\delta}^{\prime}_{C},\vec{y})\) & \(\mathbf{-0.2769\pm 0.0019\,\,\mathrm{mm}}\) & \(\mathbf{-0.4197\pm 0.001\,\,\mathrm{5}}\) \\ \(\theta_{CCD}\) & \(0.00804\pm 0.00033\,\,\mathrm{rad}\) & \(0.00642\pm 0.00026\,\,\mathrm{rad}\) \\ \((\vec{\delta}^{\prime}_{L},\vec{x})\) & \(0.1371\pm 0.0008\,\,\mathrm{mm}\) & \(0.7329\pm 0.0025\,\,\mathrm{mm}\) \\ \((\vec{\delta}^{\prime}_{L},\vec{y})\) & \(\mathbf{-0.5440\pm 0.0007\,\,\mathrm{mm}}\) & \(0.4872\pm 0.001\,9\,\mathrm{mm}\) \\ \hline \end{tabular}
\end{table}
Table 5: 10 Calibrations (5 for set A and 5 for set B) from 70 measurements. The results obtained for the support (4 first lines of result s) are in agreement whatever the set used.

[MISSING_PAGE_EMPTY:12]

## References

* [1] See e.g. NIKHEF note available at the NIKHEF RASNIK web site: [http://www.nikhef.nl/pub/departments/et/experiments/atlas/rasnik/index.html](http://www.nikhef.nl/pub/departments/et/experiments/atlas/rasnik/index.html)
* [2] Atlas Muon Collaboration TDR 10, CERN/LHC/97-22, 31 May 1997

Figure 4: Magnification of the lens as measured with the bench (set A).