ATL-DAQ-2000-015

May 25, 2000

**Performance Studies of Jets in the High Level Trigger**

**M. Wielers**

TRIUMF, Vancouver, Canada

In this note the performance of the jet selection of the HLT is presented. An overall jet rate of 620 (850) Hz is found after the level-2 trigger (LVL2) at low (high) luminosity. The event filter gains from an improved energy calibration as compared to the level-2 jet triggers and reduces the jet rate to 510 (630) Hz at low (high) luminosity. Besides these performance studies, the benchmarking of the execution times of different jet finding algorithms will be discussed as well as possible strategies to reduce the latency.

Introduction

The high level jet trigger (HLT) comprised of LVL2 and Event Filter (EF) triggers is required to reduce the trigger rate of events containing jets by improving the energy measurement using a refined energy calibration, a jet definition, and threshold adjustments. It is important to keep in mind that in contrast to electromagnetic (e.m.) clusters, jets cannot be flagged as background. This would require a reconstruction of exclusive final states which is not forseen at LVL2, but would be possible at the EF level. However, this has not as yet been studied. Currently, there are three different jet triggers forseen: j180, j\(75\times 3\), j\(55\times 4\) at low luminosity and j290, j\(130\times 3\), j\(90\times 4\) at high luminosity. Jets are searched for in the region of \(\mid\eta\mid<3.2\) in the e.m. and hadronic calorimeters. The LVL2 jet finding is guided by the LVL1 region of interests (RoI). Jets are sought in a window around these RoI's. Compared to LVL2 which has a latency of around 10 ms, the EF can spend \(\approx 1\) s per event. In the current view, the EF performs jet finding in the whole rapidity region. The aim of the EF is to reduce the data rate by another order of magnitude compared to LVL2. The LVL2 algorithm and its performance is described in detail in [9] and will be revised briefly.

The next section describes general issues such as the reconstruction software and the datasets used for this study. Section 3 gives an overview of the jet finding algorithms used on LVL1, LVL2 and EF. The performance is described in section 4 and the benchmarking of the execution times of the jet finding algorithms and possible speed up is discussed in section 5.

## 2 General Issues

### Reconstruction Software

In the study presented in this note the Fortran based ATRIG program [1] is used to simulate the LVL1 and LVL2 jet trigger response. The reconstruction at the EF is done using the offline reconstruction package ATRECON [2]. This code as well is written in Fortran. ATRIG and ATRECON are executed in the same reconstruction chain. Only events passing the LVL1 jet triggers are passed on to LVL2 and the EF.

At low luminosity electronic noise and digital filtering has been simulated in the calorimeters. Effect due to pileup are neglected. At high luminosity electronic noise as well as pileup noise are added to the cell energies. Pileup is superimposed using the correct shaping functions [3].

### Detector Layout and Data Samples

For this study fully simulated di-jet events with \(p_{T}>17\) GeV on the parton level and with \(|\eta|<3.2\) are used. To reduce the number of events being processed by the full simulation, the events had to pass a jet particle level filter. On particle level there must be two regions of size \(\Delta\eta\times\Delta\phi=1.0\times 1.0\) in which the summed \(E_{T}\) of all particles exceeds 40 GeV. Only 2% of the generated events passed this filter and were subsequently fully simulated by GEANT [4] using the ATLAS detector simulation of DICE 97_6. This detector simulation corresponds to the final design [5] with few small differences. In the calorimeters [6] these differences should have no influence on the performance besides some small effects in the e.m. barrel/endcap transition region. More information about the jet production can be found in [7].

10452 jet events are available for this study. It should be noted that due to the particle level filter a bias on the inclusive jet rate is introduced. The rates given in 4 can only be considered as lower limits for the single jet trigger (Configurations where one of the two leading jets has a rapidity \(|\eta|>3.4\) are not selected by the filter and thus do not contribute to the inclusive jet rate). On the tapes not only these events are found, but also events classified as electron or photon candidates. To insure these events are not passed on to the EF, the \(E_{T}\) thresholds for the LVL1 electron/photon selection were raised in such a way that all these events are rejected by LVL1.

## 3 Jet Finding Algorithms

In the studies presented here (especially for timing studies) different jet algorithms, namely cone, \(k_{T}\) (version Montreal) and Mulguisin are considered. These algorithms are part of the jet finder library and described in detail in [8].

### Choice of Reference Jet

One uncertainty for calibration and the evaluation of the trigger rates is the knowledge of the 'true' energy which is not a well defined quantity for jets.

This energy can be estimated using the generated particles before detector simulation (KINE particles) and taking into account the bending in the magnetic field. In the following, the \(E_{T}\) of the reference jet is defined as

Figure 1: Resolution in \(\Delta R\) in the \(\eta-\phi\) plane of the (a) LVL1 jet RoI position and (b) the jet position found at LVL2 w.r.t. the reference jets.

the sum of the \(E_{T}\) of all particles which end up in the same \(\eta-\phi\) region in which the reconstructed jet after detector simulation is found (e.g. a cone with radius \(R=0.4\)). Here the reconstructed jet after detector simulation is the one found on the EF level. The distance \(R=\sqrt{(\eta(rec)-\eta(ref))^{2}+(\phi(rec)-\phi(ref))^{2}}\) between the so found position of the reference jets and the position of the LVL1 jet RoI and the jet position reconstructed at LVL2 is shown in figure 1. At LVL1 as well as at LVL2 a good spatial resolution is found w.r.t. the reference jet.

Another definition of the reference jet was used in [9].

In [9] the reference jet is found by running the cone or the \(k_{T}\) algorithm with \(R=0.4\) on the generated particles (excluding muons and neutrinos) in a window of dimension \(\Delta\eta\times\Delta\phi=1.0\times 1.0\) centered at the position of the LVL1 RoI. No effects due to the bending in the magnetic field were considered. The so obtained reference jets tend to be lower energetic than using the ones obtained using the method described above (see figure 2) which is mainly due to the exclusion of muons and neutrinos. Therefore, the calibration factors applied on the reconstructed jets after the detector simulation are smaller and the jets have on average a lower transverse energy. This results in a lower trigger rate. The differences in the rates will be discussed in more detail in section 4.

Figure 2: Transverse energy of the reconstructed jets on generator level. The solid line shows the \(E_{T}\) distribution in case the reference jet is defined as the sum of the \(E_{T}\) of all KINE particles which end up in the same \(\eta-\phi\) region as the reconstructed jet on the EF level. The dashed line shows the same distribution if the reference jet is obtained by running the cone algorithm on generated particles (excluding muons and neutrinos) in a window around the LVL1 RoI.

### LVL1 Jet Algorithm

The LVL1 jet algorithm is described in detail in [10]. At LVL1 the basic granularity of one trigger tower is \(\Delta\eta\times\Delta\phi=0.2\times 0.2\). Three different window sizes can be considered \(0.4\times 0.4,0.6\times 0.6\), and \(0.8\times 0.8\). The window is sliding in steps of 0.2 in both direction to find the maximal \(E_{T}\). The default option in ATRIG and window chosen for this study is \(0.8\times 0.8\).

In the current version of ATRIG (0.0.39) the energies per calorimeter cell are the energies calibrated at EM scale. No jet energy calibration factors are applied. The jet energy resolution could be optimised by applying weighting factors to the e.m. and hadronic trigger towers. However, there will be energy losses in the jet trigger because of the cutoff on the trigger tower transverse energy of 1 GeV, which will affect the jet \(E_{T}\) scale especially for low \(E_{T}\) jets. This cutoff is necessary due to the noise in the trigger towers, both from the unthresholded summation of analogue cell signals and from the summing electronics itself. For the studies in [10] some extra calibration factors were used to improve the energy resolution.

Therefore, the LVL1 rates shown in section 4 will be worse than the ones presented in [10]. In this study the LVL1 jet trigger thresholds are set to lower values than the default values in ATRIG to ensure a 100% efficiency. LVL1 will be optimised on the n-tuple level. The nominal and chosen values are shown in table 1 for low luminosity. The same values are used for high luminosity, though in this case higher values could have been selected.

In [10] the LVL1 jet trigger items were optimised to be 95% efficient w.r.t. a \(k_{T}\) algorithm on the generated particles before detector simulation (KINE particles) and having a rate of 200Hz. The rates were obtained using a fast simulation of the trigger response.

### LVL2 Jet Algorithm

At LVL2 the complete calorimeter information of all cells is available. Jet reconstruction is guided by region of interests (RoI's). Jets are searched for in a window of size \(\Delta\eta\times\Delta\phi=1.0\times 1.0\) around the LVL1 jet RoI. The cone algorithm of radius \(R=0.4\) is the default option in ATRIG. For jet finding the transverse energies per cells are summed into towers of size \(\Delta\eta\times\Delta\phi=0.1\times 0.1\) which correspond to the size of one cell in the hadronic calorimeter. To reduce effects of electronic and pileup noise a symmetric cut of \(2\cdot\sigma\) of the electronic noise contribution is applied for each calorimeter cell. This cut is applied for low and high luminosity. At high luminosity a cut on sigma of the sum of electronic and pileup noise would be prefered, but is not available in the current software. For calibration 'rough' jet calibration constants are applied (see table 2) on

\begin{table}
\begin{tabular}{c|l|l} item & default & used \\ value (GeV) & value (GeV) \\ \hline j180 & 160 & 50 \\
3j75 & 55 & 30 \\
4j55 & 35 & 20 \\ \end{tabular}
\end{table}
Table 1: Default values of the \(E_{T}\) threshold cuts in ATRIG and the values chosen for this study for the different jet trigger menu items at low luminosity.

Figure 4: Relative deviation of the reconstructed energy w.r.t. the reference jet as a function of (a) rapidity and (b) recontructed jet \(E_{T}\) after ‘calibration’ at high luminosity.

Figure 3: Relative deviation of the reconstructed energy w.r.t. the reference jet as a function of (a) rapidity and (b) recontructed jet \(E_{T}\) after ‘calibration’ at low luminosity.

top of the calibration at EM scale before the jet search. After the jet finding step the jet energies are corrected w.r.t. the reference jet as a function of rapidity. A polynom of second degree in different rapidity regions was utilised (similar as in [9]). This correction is of the order of 10-20% depending on rapidity. No correction as a function of jet \(E_{T}\) is applied. The relative deviation of the reconstructed energy w.r.t. the reference jet as a function of rapidity and reconstructed jet \(E_{T}\) after this correction is shown in figures 3 and 4 for low and high luminosity respectively. The \(E_{T}\) spectrum has a bias due to the \(E_{T}\) threshold cuts at LVL1 (see table 1) and hence does not reflect the'real' \(E_{T}\) dependence.

Another choice of the jet algorithm in ATRIG is the Montreal \(k_{T}\) algorithm. The input parameters for the jet search of the cone and the \(k_{T}\) algorithm are given in table 3.

In [9] it is shown that the \(k_{T}\) algorithm results in a higher LVL2 jet rate. The cone algorithms shows a steeper \(E_{T}\) threshold behaviour and is hence more performant than the \(k_{T}\) algorithm.

In the following, LVL2 will be optimised to be 90% efficient w.r.t. the reference jet and LVL1 is tuned for a 95% efficiency. Ideally the events rejected by LVL1 are also rejected by LVL2. Due to differences in the calibration this is however not true for all events. Correlations will be discussed in section 4. Due to a lack of statistics for high jet \(E_{T}\) values the same procedure as in [9] is used for the determination of the \(E_{T}\) thresholds of the different trigger menu items. First isolated1reference jets of 75, 100, and 150 GeV are selected. For these jets the \(E_{T}\) threshold cut is evaluated for a given efficiency of 90%. The threshold cuts at other transverse energies are obtained from a straight line fit through these three reference points. The \(E_{T}\) threshold behaviour for the different jet trigger menu items is shown in figure 5 for low and high luminosity.

\begin{table}
\begin{tabular}{l|l} Subdetector & Calibration factor \\ \hline Presampler & 1.10 \\ EM barrel & 1.10 \\ EM end-cap & 1.10 \\ Had Tile & 1.05 \\ Had end-cap & 1.25 \\ \end{tabular}
\end{table}
Table 2: Jet calibration factors for the different subdetectors.

\begin{table}
\begin{tabular}{l|l l} Parameter & cone & \(k_{T}\) \\ \hline cone radius & 0.4 & 0.4 \\ \(E_{T}\)(seed) & 1.0 GeV & 1.0 GeV \\ \(E_{T}\)(cone) & & 15 GeV \\ \end{tabular}
\end{table}
Table 3: Parameters used for the different LVL2 jet algorithms.

The arrows indicate the \(E_{T}\) threshold cuts evaluated for a 90% efficiency.

### Event Filter Jet Algorithm

In the present view of the HLT, the EF will select events using (as much as it is possible) the algorithms of the ATLAS offline reconstruction system. To this end, the present study uses the available offline software as a prototype of a future EF. As default for the jet search a cone algorithm is chosen with radius \(R=0.4\). The jet search is no longer RoI guided and performed over the whole rapidity range (\(|\eta|=3.2\)). As on LVL2 a symmetric \(2\cdot\sigma\) electronic noise cut is applied on all calorimeter cells and the \(E_{T}\) per cell is summed into towers of size \(\Delta\eta\times\Delta\phi=0.1\times 0.1\). The reconstructed jets are calibrated using the method described in [12]. The calibration is a function of rapidity and transverse energy. For a cone algorithm with cone size \(R=0.4\) and using a \(2\cdot\sigma\) zero suppression the following calibration factors are available. In rapidity calibration factors have been evaluated at \(\eta=0.3,0.6,0.9,1.1,1.3,1.5,1.7\) for \(E_{T}=50,200\) GeV. In the endcap region the rapidities \(\eta=1.85,2.15,2.45,2.75,3.05\) have been used for calibration of jets having \(E_{T}=200\) GeV. For this calibration no electronic noise was added to the individual calorimeter cells. Therefore, the calibration might not be optimal in the endcap region. In this study the calibration constants for \(E_{T}=50\) and 200 GeV are used in the barrel region depending on the transverse energy. Figure 6 and figure 7 show the \(E_{T}\) threshold behaviour of the different jet trigger menu items at low and high luminosity using these calibrations.

Figure 8 shows the \(E_{T}\) threshold behaviour for the different jet trigger menu items for low and high luminosity. The arrows indicate the \(E_{T}\) threshold cuts evaluated for a 90% efficiency. However, due to the way the calibration is applied, the user has to decide in the beginning which

Figure 5: \(E_{T}\) threshold behaviour for the different jet trigger menu items at (a) low and (b) high luminosity.

Figure 6: \(E_{T}\) threshold behaviour for the different jet trigger menu items at the EF level at low luminosity. The solid (dashed) lines show the results using the calibration at jets having \(E_{T}=50(200)\) GeV.

Figure 7: \(E_{T}\) threshold behaviour for the different jet trigger menu items at the EF level at high luminosity. The solid (dashed) lines show the results using the calibration for jets having \(E_{T}=50(200)\) GeV.

set of calibration factors he wants to use and, thus, the calibration is not dependent on the reconstructed jet energy. Therefore, in the following, the jet trigger rates of the various items are done using the calibration factor evaluated for \(E_{T}=50\) GeV for jets with \(E_{T}<100\) GeV and the weights for \(E_{T}=200\) GeV are used for reconstructed jets having \(E_{T}>100\) GeV. The overall rate is given using one specific calibration. The \(E_{T}\) thresholds were adjusted to give the same rates for the individual trigger menu items. For high luminosity no special calibration factors are available and the same weights as for low luminosity are used. Due to the fact that in the calorimeters the noise is fluctuating around 0 GeV due to the shaping function similar calibration factors are expected. Some small differences might arise due to zero suppression.

To benchmark the algorithm execution times the cone, \(k_{T}\), and Mulguisin algorithm are considered. Table 4 shows the input parameters chosen for the different algorithms. The Mulguisin algorithm is run in the mode, in which the cluster direction is recalculated for each clustering

\begin{table}
\begin{tabular}{l|l l l} Parameter & cone & \(k_{T}\) & Mulguisin \\ \hline cone radius & 0.4 & 0.4 & 0.3 \\ \(E_{T}\)(seed) & 1.0 GeV & 1.0 GeV & 1.0 GeV \\ \(E_{T}\)(cone) & & 15 GeV & 15 GeV \\ Mulguisin level & & & 2 \\ \end{tabular}
\end{table}
Table 4: Parameters used for the different LVL2 jet algorithms.

Figure 8: \(E_{T}\) threshold behaviour for the different jet trigger menu items at (a) low and (b) high luminosity at the EF level.

step and the cluster size is reset to the distance between the cluster centre and the furthest cell in the cluster if the distance is larger than the resolution. No attempt has been made to find the jet algorithm with the best \(E_{T}\) threshold behaviour. This would imply different calibrations are needed for the different algorithms. Also no attempt has been made in varying the cone size and/or the input parameters of the jet finding algorithms.

## 4 Performance

### Performance of LVL1 and LVL2

LVL1 is optimised for a 95% jet efficiency for jets at the \(E_{T}\) thresholds of the various menu items. The optimisation is done w.r.t. the reference jet. The LVL1 results obtained with the current version of ATRIG is shown in table 5 for low and high luminosity.

The LVL1 rates are a factor 1.5-5 times higher than those given in [11], which predicts a trigger rate of 200 Hz per trigger item. As mentioned earlier the trigger rates using ATRIG are expected to be less well modelled. In addition, there are differences expected due to the definition of the reference jet.

On LVL2 the jet efficiencies are tuned for a 90% efficiency compared to the reference jet. The LVL2 jet algorithm is described in detail in [9]. For every LVL1 jet RoI jets are searched for in a window of size \(\Delta\eta\times\Delta\phi=1.0\times 1.0\) using the cone algorithm with a radius of 0.4 [8]. Table 6 summarises the performance at low and high luminosity. Compared to LVL1 the overall jet trigger rate is reduced by a factor of 1.8 (2.1) at low (high) luminosity. Again the rates quoted here are larger than the ones given in [11] which can be explained by the differences in the LVL1 trigger rates and that in [11] the \(E_{T}\) threshold cut is chosen to be the energy given by the menu item. To study correlations between LVL1 and LVL2 the jet trigger rates are compared for a 95% and a 100% efficient LVL1 trigger (LVL1 cuts as given in table 1). Only around 3-4% of the jet events accepted by LVL2 would be rejected by LVL1.

As already mentionend in section 3.1 there are some uncertainties in the jet rates due to the definition of the reference jet. Choosing jets reconstructed at particle level (excluding muons and neutrinos) using a cone algorithm with radius \(R=0.4\) as reference jet, the jet trigger rates shown in table 7 are found for LVL1 and LVL2. The differences in the jet rates lie between 60-300% for LVL1 and and 50-70% for the overall trigger rate. This gives an indication on the uncertainty in the jet rates due to the definition of the reference jets. Comparing the rates

\begin{table}
\begin{tabular}{c|c||c|c} \multicolumn{2}{c||}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ item & LVL1 (Hz) & item & LVL1 (Hz) \\ \hline j180 & \(646\pm 42\) & j290 & \(935\pm 160\) \\
3j75 & \(616\pm 41\) & 3j130 & \(853\pm 153\) \\
4j55 & \(316\pm 29\) & 4j90 & \(495\pm 114\) \\ \hline all & \(1141\pm 56\) & all & \(1788\pm 222\) \\ \end{tabular}
\end{table}
Table 5: LVL1 rates of the different jet trigger menu items. The rates are given for low and high luminosity.

obtained using the cone or the \(k_{T}\) algorithm to reconstruct the reference jets as done in [9] yield large differences in the jet rates. It should not be forgotten that the uncertainties in the jet rates from the theoretical point of view are also large. These uncertainties come from renormalisation and factorisation scale dependencies, higher order corrections, parton density functions, description of the underlying event... In addition, further uncertainties arise from the models used by the Monte Carlo generators such as the minimum \(p_{T}\) cut of the hard scattering matrix element, the parton shower modelling, and the hadronisation process.

### Performance of EF

On the EF level, the same cone algorithm is used as on LVL2. Jets are searched for in the whole rapidity range and are no longer RoI guided. Table 8 shows the expected trigger rates after the EF selection.

Reconstructing jets on the EF improves the jet rates by around 20-30% compared to LVL2. No significant reduction is achieved unless the algorithm is tuned for lower efficiencies. On the other hand, if the efficiencies are decreased this could be already applied on LVL2. If the EF rate is too high a rise of the \(E_{T}\) threshold of 28 (60), 14 (5), 8 (19) GeV of the single, three and 4 object trigger reduces the rate by an additional factor of two at low (high) luminosity. To achieve a final trigger rate of, for example, around 25 Hz at low luminosity and a rate af \(\approx 10\) Hz per trigger item would result in an increase of the \(E_{T}\) threshold of 165, 65 and 35 GeV for the single, three, and four jet trigger. This corresponds to the trigger menu items j360, 3j150 and 4j95. Another possibility to reduce the rate is achieved by prescaling.

\begin{table}
\begin{tabular}{c|c||l|c} \multicolumn{2}{c||}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ item & LVL2 (Hz) & item & LVL2 (Hz) \\ \hline j180 & \(278\pm 28\) & j290 & \(385\pm 103\) \\
3j75 & \(385\pm 32\) & 3j130 & \(550\pm 123\) \\
4j55 & \(184\pm 23\) & 4j90 & \(220\pm 78\) \\ \hline all & \(619\pm 41\) & all & \(853\pm 153\) \\ \end{tabular}
\end{table}
Table 6: LVL1 and LVL2 rates of the different jet trigger menu items. The rates are given for low and high luminosity. As reference jet the reconstructed jets at particle level (excluding muons and neutrinos) is chosen.

\begin{table}
\begin{tabular}{c|c c||l|l l} \multicolumn{3}{c||}{low luminosity} & \multicolumn{3}{c}{high luminosity} \\ item & LVL1 (Hz) & LVL2 (Hz) & item & LVL1 (Hz) & LVL2 (Hz) \\ \hline j180 & \(360\pm 31\) & \(215\pm 24\) & j290 & \(275\pm 87\) & \(193\pm 73\) \\
3j75 & \(396\pm 33\) & \(245\pm 26\) & 3j130 & \(385\pm 103\) & \(248\pm 83\) \\
4j55 & \(258\pm 27\) & \(105\pm 17\) & 4j90 & \(248\pm 83\) & \(138\pm 62\) \\ \hline all & \(748\pm 45\) & \(421\pm 34\) & all & \(660\pm 135\) & \(440\pm 110\) \\ \end{tabular}
\end{table}
Table 7: LVL2 rates of the different jet trigger menu items. The rates are given for low and high luminosity.

correlation are small and lie of the order of a few percent.

## 5 Execution Times

The benchmarking of the algorithm execution times for different jet finding algorithms is shown in table 10 for LVL2.

The timing measurements are performed on the ATLAS shift machines and the execution times are then converted to correspond to a 500MHz PII machine running Linux. The times are obtained using FORTRAN code.

\begin{table}
\begin{tabular}{l|l l|l l l}  & \multicolumn{2}{c|}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ algorithm & \multicolumn{2}{c}{2\(\sigma\) cut (ms)} & \multicolumn{2}{c|}{0\(\sigma\) cut (ms)} & \multicolumn{2}{c}{2\(\sigma\) cut (ms)} & \multicolumn{2}{c}{0\(\sigma\) cut (ms)} \\ \hline cone & 1.7 (3.4) & 1.9 (3.3) & 2.3 (3.8) & 2.5 (4.1) \\ \(k_{T}\)(Montreal) & 200 (390) & 240 (460) & 290 (420) & 300 (550) \\ \end{tabular}
\end{table}
Table 10: Performance of the jet LVL2 trigger at low and high luminosity. The benchmarking results are quoted for a 500MHz PII machine running Linux. The times are given for 50 (95%).

\begin{table}
\begin{tabular}{l|c||l|l|l l}  & \multicolumn{2}{c||}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ item & LVL1+EF & LVL2+EF & EF & item & LVL1+EF & LVL2+EF & EF \\  & (Hz) & (Hz) & (Hz) & & (Hz) & (Hz) \\ \hline j180 & \(264\pm 27\) & \(253\pm 26\) & \(264\pm 27\) & j290 & \(275\pm 87\) & \(275\pm 87\) & \(275\pm 87\) \\
3j75 & \(289\pm 28\) & \(286\pm 24\) & \(292\pm 28\) & 3j130 & \(468\pm 113\) & \(440\pm 110\) & \(468\pm 113\) \\
4j55 & \(132\pm 19\) & \(127\pm 15\) & \(135\pm 19\) & 4j90 & \(165\pm 67\) & \(165\pm 67\) & \(165\pm 67\) \\ \hline all & \(525\pm 38\) & \(506\pm 37\) & \(531\pm 38\) & all & \(660\pm 135\) & \(633\pm 132\) & \(660\pm 135\) \\ \end{tabular}
\end{table}
Table 9: Corellations between the LVL1, LVL2 and EF rates. The rates are given for low and high luminosity.

\begin{table}
\begin{tabular}{l|c c||l|l l l}  & \multicolumn{2}{c||}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ item & LF (Hz) & & item & LVL & & \\
3j75 & \(286\pm 28\) & 3j130 & \(440\pm 110\) & \\
4j55 & \(127\pm 15\) & 4j90 & \(165\pm 67\) & \\ \hline all & \(506\pm 37\) & all & \(633\pm 132\) & \\ \end{tabular}
\end{table}
Table 8: EF rates of the different jet trigger menu items. The rates are given for low and high luminosity.

It can be seen, that the algorithm time increases if no zero suppression is applied. The time is a function of the number of LVL1 RoI's and the number of non-zero input towers for the jet search. Figure 9a shows the number of LVL1 RoI's which are passed on to LVL2. The number of input towers per RoI is shown in figure 9b in the case zero-suppression is applied. In most cases 90 out of 100 input tower have an energy deposit. In case no zero-suppression is applied all input towers have an energy deposit. The only exception are jets near \(\mid\eta\mid\approx 3.2\), where the window around the LVL1 RoI extends beyond \(\mid\eta\mid=3.2\). The \(k_{T}\) algorithm is based on a combinatorical method and hence is much slower than the cone algorithm. Looking at the performance the threshold behaviour is slightly worse for the \(k_{T}\) algorithm [9]. Nevertheless \(k_{T}\) might be better suited for a specific phisics analysis using offline code. In the case of high luminosity the algorithm consumes about 30-40% more time.

First studies have started to evaluate the LVL2 jet algorithm execution time using the reference software [13] which is based on C/C++ code. These studies use all calorimeter cells around a LVL1 RoI as input to the jet finding algorithm instead of mapping first the \(E_{T}\) of all cells into towers. This leads to higher execution times. In addition, there are some differences in the implementation of the cone algorithm and the timing measurements were not performed on the same samples which might result in a different number of LVL1 RoI's. Therefore, the timing measurements are currently not comparable but will be carried out in the future.

The execution time of the cone algorithm might be reduced using a 'lighter' version. Currently the jet search is performed in \(\Delta\eta\times\Delta\phi=1.0\times 1.0\). First the tower with maximal \(E_{T}\) is searched for and then the \(E_{T}\) of all towers within \(R=0.4\) are summed around this seed and flagged as 'used' towers. In the next iteration the tower with maximal \(E_{T}\) of the 'unused' towers is searched

Figure 9: (a) Number of LVL1 ROI’s and (b) number of input towers per ROI to be considered by the LVL2 jet finding algorithm at low luminosity.

for. In case the \(E_{T}\) lies above the given seed threshold (1 GeV), the \(E_{T}\) of the second jet is calculated summing the \(E_{T}\) of all 'unused' towers in the cone around the seed. In around 3-4% of all LVL1 RoI's a second jet is found. Due to the fact that in the second iteration hardly any 'unused' towers are left over the jet has on average a low \(E_{T}\) and is not very 'physical'. There is no gain in rejection doing this second step which could therefore be eliminated. This results in an decrease of the execution time by 10%.

At the EF a jet search is performed over the whole rapidity range \(\mid\eta\mid<3.2\).

The profiling of various jet algorithms are shown in table 11. As already observed at LVL2 the time spend on the jet search is lower in case zero suppression is applied due to the reduced number of towers with \(E_{T}\) deposit (see figure 10). Per event around 3400-3500 input towers have to be considered by the jet algorithm. In case no zero suppression is applied all input towers (4096) are considered.

\begin{table}
\begin{tabular}{l|l l|l l}  & \multicolumn{2}{c|}{low luminosity} & \multicolumn{2}{c}{high luminosity} \\ algorithm & \(2\sigma\) cut (ms) & \(0\sigma\) cut (ms) & \(2\sigma\) cut (ms) & \(0\sigma\) cut (ms) \\ \hline cone & 17 (58) & 22 (59) & 150 (470) & 160 (550) \\ \(k_{T}\)(Montreal) & \(3.3(9.4)\cdot 10^{6}\) & \(5.7(13.2)\cdot 10^{6}\) & \(5.3(7.5)\cdot 10^{6}\) & \(5.8(8.3)\cdot 10^{6}\) \\ Mulguisin & 2120 (3020) & 3000 (4460) & 2900 (3530) & 3140 (4040) \\ \end{tabular}
\end{table}
Table 11: Performance of the jet trigger at low and high luminosity on the EF level for various jet finding algorithm. The benchmarking results are quoted for a 500MHz PII machine running Linux. The times are given for 50 (95%).

Figure 10: Number of input towers to be considered by the EF jet finding algorithm at low luminosity.

The time spend is much higher than at LVL2. The \(k_{T}\) algorithm is very slow and hence not suited for the EF. The M The author would like to thank Martine Bosman for various discussions and her active help concerning the combined n-tuple. Thanks to Stefan Tapprogge for discussions and help on the LVL2 jets reconstruction.

## References

* [1][http://atlasinfo.cern.ch/Atlas/GROUPS/DAQTRIG/SIMULATION/software/](http://atlasinfo.cern.ch/Atlas/GROUPS/DAQTRIG/SIMULATION/software/) atman.html#Atrig-Manual
* [2] Offline Software Group, ATL-SOFT-94-015, (1994)
* [3] S. Simion, ATL-SOFT-99-001, (1999)
* [4] Application Software Group, CERN program library long writeup W5013.
* [5] ATLAS collaboration, ATLAS Detector and Physics Performance TDR, CERN/LHCC/99-14, ATLAS TDR 14, (1999)
* [6] M. Wielers, ATL-PHYS-99-16, (1999)
* [7] A. Dell'Acqua et al., ATL-PHYS-97-102, (1997)
* [8] M. Bosman et al., ATL-SOFT-98-038, (1998)
* [9] S. Tapprogge, ATL-DAQ-98-115, (1998)
* [10] CERN/LHCC/98-14, ATLAS TDR 12, (1998)
* [11] CERN/LHCC/98-15, ATLAS Trigger Performance, (1998)
* [12] J. Sjolin, ATL-COM-TILECAL-99-012
* [13] S. Gonzalez, B. Gonzalez-Pineiro, T. Shears, ATL-COM-DAQ-2000-013