[MISSING_PAGE_FAIL:1]

[MISSING_PAGE_EMPTY:2]

Introduction

In the present view of the ATLAS trigger, events are triggered, classified, and selected for mass storage by the High-Level Trigger (HLT). The HLT is implemented in two levels: Level-2 (LV L2) and Event Filter (EF). The LV L2 trigger uses region-of-interest (RoI) guidance from the level-1 (LV L1) trigger in order to restrict the amount of data to be transferred and processed, while the EF has access to the full event data. In general, complex offline-like algorithms are used at the EF that cannot be performed at LV L2 due to processing time limits.

In the present ATLAS trigger menus the inclusive electron and photon triggers are expected to contribute an important fraction of the total high-\(p_{\mathrm{T}}\) trigger rate [1, 2]. After the HLT selection, the remaining rate will contain a significant contribution from Standard Model physics processes with isolated electrons or photons. This irreducible component can be controlled by more exclusive menus, _e.g._ by applying higher thresholds or requiring additional trigger objects.

The primary duty of the HLT electron and photon trigger is then to control the reducible rate as early as possible in the triggering and selection process so that LV L2 and EF resources can be freed for other tasks. In order to understand the feasibility of this approach, it is critical to study the sharing of the overall rejection between the LV L2 and the EF systems.

The aim of this note is to study the rejection boundary between LV L2 and EF in the context of the High-Level Trigger. The flexibility of this boundary will be studied for different strategies and quantified in terms of rejection, efficiency, and processing times.

## 2 Data Sets

The studies presented in this note were performed using the ATLAS offline suite of programs ATRECON, which was used as a prototype of the Event Filter software. The LV L1 and LVL2 triggers were simulated and evaluated with ATRIG. More details on the software used can be found in [3].

In order to evaluate the latencies of the different algorithm components, a modified version of ATRECON with benchmarking utilities was used [4]. The latency measurements at LV L2 were carried out with identical algorithms as in ATRIG, but in a framework more suitable for benchmarking [5]. Since the benchmarking results have in general been obtained on different platforms, they have been converted to the same "platform-equivalence" of a 500 MHz PII Linux machine using the conversion factors 0.277 (atlas wgs) and 0.625 (atlas shift). More details can be found in [6].

The boundary studies were carried out with samples of DICE-simulated "signal" events (single electrons, single photons, \(\mathrm{Z\to ee}\), \(\mathrm{H\to 4e}\), \(\mathrm{H\to\gamma\gamma}\)) and di-jet background events [7] with \(p_{\mathrm{T}}>17\,\mathrm{GeV}\). The di-jet samples [8] were generated with a LV L1 pre-selection for electromagnetic clusters and include SM processes with isolated electrons or photons. Both low (no pileup) and design luminosity (high luminosity pileup) data samples were used. The signal samples consisted of (typically 200 to 1000 events, while the di-jet samples contained about 18,000 events. LVL2 and EF rates were obtained from the di-jet samples by multiplying the number of selected di-jet events by the conversion factors given in [9].

## 3 The High Level Trigger View

The electron and photon triggers can be viewed as a series of selection steps of increasing complexity. After receiving the LVL1 electromagnetic (e.m.) trigger RoI positions, the LVL2 trigger performs a selection [10] of isolated e.m. clusters, using the full calorimeter granularity and detailed calibration. This selection is based on the transverse energy (\(E_{\mathrm{T}}\)) deposited in a cluster and shower-shape quantities that distinguish isolated e.m. objects from jets. A further, more refined [11] calorimeter-based selection may further classify the e.m. cluster as a LVL2 photon trigger object.

Electrons are identified at LVL2 [9] by associating the LVL2 e.m. cluster with a track in the Inner Detector. This association can be as simple as requiring the presence of a track with a minimum transverse momentum (\(p_{\mathrm{T}}\)) in the e.m. RoI, but may, in addition, require position and momentum matching between the track and the calorimeter cluster. Typically, track candidates are found by independent searches in the TRT [12] and SCT/Pixel detectors in the region identified by the LVL1 RoI. Typically, a histogramming method is used to find an initial set of track candidates; the best track candidate is then selected on the basis of a fit.

In the present the HLT scheme, the EF will select events using as far as possible the algorithms of the ATLAS offline reconstruction system. The present study therefore uses the available ATLAS offline reconstruction software as a prototype of the future EF code [3]. The EF algorithm components (calorimetry, tracking and particle identification) are treated in a similar way as for LVL2. The main differences with respect to LVL2 derive from the availability at the EF of more detailed calibrations and more sophisticated algorithms with access to the full-event data. For example, bremsstrahlung recovery and photon conversion reconstruction could be performed at the EF level. The improved performance allows sharper thresholds and better background rejection.

## 4 HLT Performance

Modularizing the trigger algorithm provides the flexibility to migrate the rejection power from the LVL2 to the EF or vice versa. This "factorization" can in turn be used to optimise many aspects of the trigger selection chain, including:

* The performance (efficiency and rate reduction) of a particular implementation of an algorithm;
* The robustness of the selection with respect to the rate and efficiency;
* The load sharing (CPU cycles and data traffic) between LVL2 and EF.

The algorithms and the physics and system performance of the electron/photon HLT have been extensively documented for the LVL1 trigger [13], the LVL2 trigger [10, 14, 12, 9], and the EF [11, 3].

### Factorization of the HLT

In order to study how the HLT algorithms share the task of rate reduction, the HLT suite was factorized into different "trigger modules", roughly mapped to detector system. The overall HLT efficiency and rejection were then evaluated for different instances of trigger step orderings, including the removal of some of the trigger steps. The approach used in this study is by no means comprehensive. However it should give an indication of the rejection flexibility of the High-Level Trigger.

Tables 1 and 2 show the rates and efficiencies at design and low luminosity respectively for different combinations of these HLT algorithm elements. The rates were determined using the di-jet samples described in Section 2 and the efficiencies were obtained for events with single electrons of \(p_{\rm T}=20(30)\) GeV at low (design) luminosity. The efficiencies are quoted for the full region \(|\eta|<2.5\). These trigger rate and efficiency matrices demonstrate the effect of the LVL2 trigger steps (rows) and the EF selection steps (columns).

The tables start from the LVL1 e.m. trigger with a rate of 21.7 kHz and an efficiency of \((94.5\pm 0.5)\%\) at design luminosity and a rate of 5.8 kHz and an efficiency of \((92.6\pm 0.7)\%\) at low lumiosity. All efficiencies are given with respect to the LVL1 efficiencies. The first column contains the results for the different LVL2 selection steps and their combinations (_i.e._ no EF). The symbol _Ca_ stands for the e.m. calorimeter selection, \(T\) for the TRT selection and \(S\) for the SCT/pixels selection. The symbol \(m\) stands for the matching of reconstructed tracks with an e.m. calorimeter cluster in position \((\Delta\eta,\Delta\phi)\) and momentum \((E/p)\). For example, _CaTm_ stands for a track found in the TRT matching a cluster in the e.m. calorimeter. The standard ATRIG configuration corresponds to _CaTmSm_, _i.e._ a track found in the TRT and a track found in the SCT match the e.m. cluster. From Table 1 it can be seen that the LVL2 trigger can reduce the LVL1 rate from 21.7 kHz to 462 Hz at design luminosity with

\begin{table}
\begin{tabular}{l||c c|c c|c c|c c} \hline L1\(\times\)EF\(\rightarrow\) & \multicolumn{2}{c|}{no EF} & \multicolumn{2}{c|}{\(\times\)EF calo} & \multicolumn{2}{c|}{\(\times\)EF ID} & \multicolumn{2}{c}{\(\times\)EF match} \\ \hline L1\(\times\)L2 \(\downarrow\) & Rate Hz & Eff. \% & Rate Hz & Eff. \% & Rate Hz & Eff. \% & Rate Hz & Eff. \% \\ \hline \hline LVL1 & 21678\(\pm\)379 & 100 & 4824\(\pm\)191 & 96.2\(\pm\)0.4 & 634\(\pm\)70 & 87.8\(\pm\)0.7 & 305\(\pm\)49 & 85.1\(\pm\)0.7 \\ \hline Ca & 3493\(\pm\)163 & 97.1\(\pm\)0.3 & 2436\(\pm\)137 & 94.8\(\pm\)0.5 & 313\(\pm\)49 & 86.8\(\pm\)0.7 & 157\(\pm\)35 & 84.3\(\pm\)0.7 \\ \hline T & 14340\(\pm\)318 & 93.7\(\pm\)0.5 & 2404\(\pm\)136 & 90.4\(\pm\)0.6 & 548\(\pm\)65 & 84.9\(\pm\)0.7 & 266\(\pm\)46 & 8.2\(\pm\)0.8 \\ \hline S & 12045\(\pm\)294 & 96.4\(\pm\)0.4 & 2741\(\pm\)145 & 92.8\(\pm\)0.5 & 407\(\pm\)56 & 85.4\(\pm\)0.7 & 251\(\pm\)44 & 83.1\(\pm\)0.8 \\ \hline CaT & 1676\(\pm\)114 & 91.4\(\pm\)0.6 & 979\(\pm\)87 & 89.4\(\pm\)0.6 & 266\(\pm\)46 & 84.2\(\pm\)0.7 & 141\(\pm\)33 & 82.3\(\pm\)0.8 \\ \hline CaTm & 1355\(\pm\)103 & 89.7\(\pm\)0.6 & 814\(\pm\)80 & 87.8\(\pm\)0.7 & 227\(\pm\)42 & 82.8\(\pm\)0.8 & 133\(\pm\)32 & 81.1\(\pm\)0.8 \\ \hline CaS & 1934\(\pm\)122 & 93.9\(\pm\)0.5 & 1331\(\pm\)102 & 91.7\(\pm\)0.6 & 196\(\pm\)39 & 84.6\(\pm\)0.7 & 149\(\pm\)34 & 82.4\(\pm\)0.8 \\ \hline CaSm & 619\(\pm\)69 & 90.3\(\pm\)0.6 & 407\(\pm\)56 & 88.3\(\pm\)0.7 & 164\(\pm\)36 & 82.2\(\pm\)0.8 & 125\(\pm\)31 & 80.2\(\pm\)0.8 \\ \hline CaTS & 1034\(\pm\)90 & 89.1\(\pm\)0.6 & 603\(\pm\)69 & 87.2\(\pm\)0.7 & 180\(\pm\)38 & 82.4\(\pm\)0.8 & 133\(\pm\)32 & 80.7\(\pm\)0.8 \\ \hline CaTmSm & 462\(\pm\)60 & 85.3\(\pm\)0.7 & 313\(\pm\)49 & 83.5\(\pm\)0.8 & 149\(\pm\)34 & 79.2\(\pm\)0.8 & 117\(\pm\)30 & 77.6\(\pm\)0.8 \\ \hline \end{tabular}
\end{table}
Table 1: Rate and efficiency matrix for the LVL2 and EF selections at design luminosity. See text for explanation of the symbols.

a corresponding LVL2 efficiency of 85.3%.

The three following columns show the rates and efficiencies for the Event Filter selection steps: _EF calo_ stands for the offline e.m. calorimeter selection, _EF ID_ employs the full xKalman algorithm to reconstruct a track, and _EF match_ is the matching of the xKalman track to the e.m. cluster [3]. Again, each row gives the rates and efficiencies for the different EF selection steps after the corresponding LVL2 algorithms selections have been applied. Therefore, the first row corresponds to the EF running without the LVL2 selection, while the last row shows the EF performance after the full LVL2 selection. The implicatons of the results shown in the tables will be discussed further in Sections 4.5 and 5.

### Composition of the background

As mentioned in Section 2, the di-jet sample contains SM processes whose final state may trigger the e.m. selection. These states include \(pp\to(W,Z,q\overline{q})+X\) with \(\mathrm{W\to e\nu}\), \(Z\to ee\), and \(q\to eX\), where "\(q\)" denotes a heavy quark. Even though very few events are left after the EF selection, it is still interesting to examine the composition of the remaining events. After the HLT electron selection at low luminosity, \((19\pm 6)\)% of events contain a \(W\to e\nu\), while \((42\pm 7)\)% of the events contain an isolated electron from \((b,c)\to eX\). The remaining events are events with a high-\(p_{\mathrm{T}}\) photon or mis-identified hadron. The corresponding composition at design luminosity is \((40\pm 13)\)% for \(W\to e\nu\) and \((13\pm 9)\)% for \((b,c)\to eX\).

One can thus conclude that about 50% of the resultant rate for the electron HLT (as given in Tables 1 and 2) is irreducible with an important contribution from \(W\to e\nu\).

### Performance on "signal" events

In validating a particular HLT scheme, it is essential to study the physics performance on samples of "interesting" events (_i.e._, events worth saving to mass storage

\begin{table}
\begin{tabular}{|l||c c|c c|c c|c c|} \hline L1\(\times\)EF\(\rightarrow\) & \multicolumn{2}{c|}{no EF} & \multicolumn{2}{c|}{\(\times\)EF calo} & \multicolumn{2}{c|}{\(\times\)EF ID} & \multicolumn{2}{c|}{\(\times\)EF match} \\ \hline L1\(\times\)L2 \(\downarrow\) & Rate Hz & Eff. \% & Rate Hz & Eff. \% & Rate Hz & Eff. \% & Rate Hz & Eff. \% \\ \hline \hline LVL1 & 5817\(\pm\)56 & 100 & 1095\(\pm\)29 & 97.1\(\pm\)0.5 & 137\(\pm\)11 & 87.5\(\pm\)1.0 & 71\(\pm\)8 & 84.5\(\pm\)1.1 \\ \hline Ca & 1106\(\pm\)30 & 96.0\(\pm\)6 & 78\(\pm\)25 & 94.2\(\pm\)0.7 & 78\(\pm\)8 & 85.0\(\pm\)1.1 & 44\(\pm\)6 & 82.9\(\pm\)1.1 \\ \hline T & 3250\(\pm\)47 & 92.2\(\pm\)0.8 & 417\(\pm\)19 & 89.9\(\pm\)0.9 & 117\(\pm\)10 & 85.3\(\pm\)1.0 & 62\(\pm\)7 & 83.0\(\pm\)1.1 \\ \hline S & 2107\(\pm\)39 & 96.0\(\pm\)6 & 235\(\pm\)14 & 93.4\(\pm\)0.7 & 102\(\pm\)9 & 86.4\(\pm\)1.0 & 57\(\pm\)7 & 83.8\(\pm\)1.1 \\ \hline CaT & 434\(\pm\)19 & 89.4\(\pm\)0.9 & 258\(\pm\)15 & 87.7\(\pm\)1.0 & 73\(\pm\)8 & 83.2\(\pm\)1.1 & 42\(\pm\)6 & 81.6\(\pm\)1.1 \\ \hline CaTm & 362\(\pm\)17 & 89.2\(\pm\)0.9 & 216\(\pm\)13 & 87.5\(\pm\)1.0 & 67\(\pm\)8 & 83.1\(\pm\)1.1 & 42\(\pm\)6 & 81.5\(\pm\)1.1 \\ \hline CaS & 237\(\pm\)14 & 92.8\(\pm\)0.8 & 127\(\pm\)10 & 91.2\(\pm\)0.8 & 67\(\pm\)8 & 84.3\(\pm\)1.1 & 42\(\pm\)6 & 82.3\(\pm\)1.1 \\ \hline CaSm & 152\(\pm\)11 & 92.4\(\pm\)0.8 & 94\(\pm\)9 & 90.8\(\pm\)0.9 & 60\(\pm\)7 & 84.0\(\pm\)1.1 & 42\(\pm\)6 & 82.0\(\pm\)1.1 \\ \hline CaTS & 228\(\pm\)14 & 88.6\(\pm\)0.9 & 120\(\pm\)10 & 87.0\(\pm\)1.0 & 65\(\pm\)7 & 82.7\(\pm\)1.1 & 41\(\pm\)6 & 81.2\(\pm\)1.2 \\ \hline CaTmSm & 140\(\pm\)11 & 88.1\(\pm\)1.0 & 85\(\pm\)8 & 86.4\(\pm\)1.0 & 57\(\pm\)7 & 82.4\(\pm\)1.1 & 41\(\pm\)6 & 80.8\(\pm\)1.2 \\ \hline \end{tabular}
\end{table}
Table 2: Rate and efficiency matrix for the LVL2 and EF selections at low luminoisty. See text for explanation of symbols.

### Controlling the trigger rate

Since there are large uncertainties in the trigger rates [10], it is important to be able to control the rate in a simple and predictable manner. One of the most effective ways to control the background rate is by increasing the \(E_{\mathrm{T}}\) threshold. This threshold increase must not only be optimized to reduce the rate but also to make sure that interesting physics signals are not lost.

Figure 1 shows a case study of the impact of raising the threshold for the single-electron HLT selection (nominal threshold of 30 GeV), while keeping the double-electron trigger threshold at its nominal value (20 GeV for each electron).

The left plot shows the result at design luminosity in terms of rate (top) and efficiency for \(\mathrm{Z}\rightarrow\mathrm{e}\,\) (bottom). As the threshold is increased the contribution from fake electrons and electrons from heavy quarks is reduced. In addition, the \(\mathrm{W}\rightarrow\mathrm{e}\nu\) contribution is also reduced, but in a more gradual fashion due to the high-\(p_{\mathrm{T}}\) nature of the electron from the W. The \(\mathrm{Z}\rightarrow\mathrm{e}\mathrm{e}\) efficiency plot shows the benefit of having lower-threshold multiple-object triggers. As the single-object threshold is increased, there is an efficiency plateau due to the di-electron trigger. This "minimum" efficiency is roughly the square of the single-object efficiency in Table 1, as would be expected. The right plot of Figure 1 shows the result of the threshold scan for \(\mathrm{H}\rightarrow\mathrm{4e}\) with \(m_{\mathrm{H}}=130\) GeV at low luminosity. Very similar behavior as for \(\mathrm{Z}\rightarrow\mathrm{e}\mathrm{e}\) is evident, except that the efficiencies are higher due to the presence of four electrons (instead of two) in the final state.

### Comparison of LVL2 and EF

Before optimizing the sharing of rejection between the LVL2 and the EF, it is important to understand the intrinsic performance of each trigger level in terms of efficiency and rate. This performance can be deduced, for example, by terminating the rejection contributed by each trigger level at the same efficiency.

After tuning the LVL2 and EF electron selection to yield the same efficiency for events selected by LVL1, the EF contribution to the total rate reduction is a factor of two (three) with respect to the LVL2 rejection at design (low) luminosity. These results were obtained in the same way as those shown in Tables 1 and 2 after applying the same LVL2 \(E_{\mathrm{T}}\) threshold cut at the EF level.

The relative LVL2/EF efficiencies can also be deduced from the tables. The fraction of events selected by the LVL2 out of those selected by the EF alone (after the LVL1 trigger) is 91% (96%) at design (low) luminosity. The fraction selected by the EF out of those selected by the LVL2 is 91% (92%) at design (low) luminosity. These performance comparisons show that there is room for optimizing the rate reduction and efficiency between the LVL2 and the EF.

## 5 Strategies for the HLT

In the final HLT system, the trigger selection strategy will be determined by carefully optimizing the physics requirements (efficiency and rate) and the system performance (CPU cycles, memory requirements, data flow, etc). This strategy need not be fixed and in fact should evolve with luminosity, physics priorities, detector performance, etc.

The system performance measurements in the electron HLT have so far concentrated on algorithm timing benchmarks [5, 12, 3] and on calorimeter data-flow studies [14]. For the following discussion, it is usefull to recall the "order of magnitude" benchmarking results for the electron HLT algorithms (at design luminosity, 500 MHz PII machine):

* LV L2 calorimeter: \(\approx\) 0.2 ms;
* LV L2 SCT/Pixel: \(\approx\) 10 ms
* LV L2 TRT: \(\approx\) 100 ms
* EF calorimeter: \(\approx\) 400 ms
* EF tracking: \(\approx\) 10 s

In this section we consider a few possible strategies for the HLT that attempt to optimize the interplay between physics and system performance.

### Flexibility in the HLT selection steps

Figure 2 shows some of the possible rejection paths through the electron HLT steps at design (left plot) and low luminosity (right plot), as taken from Tables 1 and 2.

Figure 2: Different rate reduction paths in the LVL 2-EF selection chain for electrons at design luminosity (left) and low luminosity (right) as a function of the HLT steps. The efficiencies are given with respect to the LVL 1 efficiency. The steps associated with the LVL 2 trigger are shown as open symbols (and joined by dashed lines) and those associated with the EF are shown as solid symbols (solid lines).

The steps have been chosen to be modular so that the removal or re-ordering of one of the selection stages would not affect the intrinsic performace of a sub-sequent trigger "module".

While algorithmically it is quite easy to add/remove trigger steps to the HLT, it is important to evaluate the consequences on the input rate to the next level of trigger processing. For example, by not applying the TRT tracking selection at LVL2 (while still applying it at the EF), there is an overall gain in HLT efficiency with a modest increase (30% at design luminosity and 9% at low luminosity) in the input rate to the EF. Another possibility would be to leave all tracking-based selections to the EF. A "calorimeter-only" LVL2 selection, as seen in Figure 2, would imply an eight-fold increase in input rate to the EF while reducing the LVL2 system load considerably.

These examples show that there is flexibility in moving algorithms between different trigger levels. However the potential gains in latency and data-flow must be weighed with the possible loss in trigger robustness by increasing the dependence on a single system.

### Sequential selection

The use of system resources in the HLT can be minimized by exploiting the modularity and the ordering of the trigger steps. By ordering the trigger steps in such a way that events are rejected as early as possible, both overall processing times and data transfers can be reduced. As an example, Figure 3 shows that for the processing of di-jets at design luminosity, the EF execution time, including the calorimeter and the tracking reconstruction (xKalman), is reduced by a factor of two when rejecting events immediately after the calorimeter reconstruction.

Figure 3: Event Filter timing for full processing vs. sequential processing at design luminosity.

Similar gains are possible at LVL2 [14]. At LVL2 there is an additional reduction of data-flow, since a "skipped" trigger step also implies a skipped readout step.

### LVL2-guided EF

Since the LVL2 processing is based on full-granularity information, there is very detailed event information at the start of the Event Filter processing. This LVL2 information, including RoI position and RoI features, could be used to guide the EF processing.

As mentioned in Section 2, the current EF prototype is based on the ATLAS offline software. In the current prototype, the EF processing starts with the reconstruction of the full e.m. calorimeter where clusters above a certain transverse energy are used as reconstruction seeds. These clusters are subsequently used to seed the search of tracks in the inner detector. In general, but especially at design luminosity, more clusters are found than originate from the signal electron. Processing these extra clusters, in turn, increases the system load of the EF.

Figure 4 shows the time needed for track reconstruction in the inner detector (using xKalman). As can be seen, the EF reconstruction time scales linearly with the number of input seeds, i.e. e.m. clusters, that need to be processed. Since the LVL2 trigger provides a good measurement of the electron/photon position [9] this refined RoI position can be used by the EF to limit the processing to the region of the detector that triggered the LVL2.

The performance effect of this extension of the RoI model to the EF can be seen in Table 3. The table shows the total EF reconstruction time with and without the use of LVL2 RoI guidance. It can be seen that the median EF reconstruction time is reduced by a factor 2, while the latency tails are reduced considerably.

Figure 4: xKalman reconstruction time as function of number of seeds used for pattern recognition for dijets (\(p_{\rm T}>17\) GeV) at high luminosity.

Since the EF only processes events that pass the LVL2 trigger selection (_i.e._ for the electron/gamma trigger, events with at least one high-\(p_{\mathrm{T}}\) e.m. RoI) the overall HLT physics performance would not be affected in this scheme.

In addition to the primary RoIs, the LVL1 and LVL2 trigger can produce "non-trigger" RoIs [2]. As the name implies, non-trigger RoIs do not trigger a readout, but are built and read out in events where a primary RoI passes the trigger selection. In general, non-trigger RoIs can provide information on other regions of the detector, on other detector subsystems, or on other trigger-like objects nearby the primary RoI. The information carried by non-trigger RoIs can therefore also be used to guide the Event Filter.

### More exclusive triggers

The electron and photon triggers so far considered are highly inclusive. From a physics standpoint, this is desirable in order to be efficient to unexpected physics signatures. However, as seen in Section 4.2, roughly 50% of the remaining rate after the electron EF selection is irreducible since it consists of isolated high-\(p_{\mathrm{T}}\) electrons ("signal" events). A further rate rejection would then have to rely on a more exclusive selection.

An additional reduction of the HLT output rate could be achieved by:

* using additional or more refined selection criteria
* increasing the \(E_{\mathrm{T}}\) threshold
* applying a more exclusive "physics-targeted" selection

The present electron/photon HLT algorithms can be improved and will be the subject of optimization for years to come. However, the fact that a relatively good performance is already obtained when compared to offline indicates that not much more rate reduction can be expected from algorithmic improvements.

The high-\(p_{\mathrm{T}}\) HLT rate can be dramatically reduced by increasing the \(E_{\mathrm{T}}\) threshold. This implies of course a possible loss of efficiency for low-mass objects or for high-multiplicity signatures. However, this loss can be recovered (as shown in Figure 1 for H \(\rightarrow\) 4e) by using higher-multiplicity trigger elements with lower thresholds. This rate "throttle" must be tuned according to the physics and trigger system requirements.

\begin{table}
\begin{tabular}{|l|c|c|c|c|} \hline Trigger step & \multicolumn{2}{|c|}{Design luminosity} & \multicolumn{2}{|c|}{Low luminosity} \\  & no LVL2 info. & RoI guided & no LVL2 info & RoI guided \\ \hline \hline e.m. calo. & \(0.39/0.49/0.63\)s & \(0.26/0.28/0.29\)s & \(0.34/0.41/0.56\)s & \(0.26/0.27/0.28\)s \\ \hline xKalman & \(11.1/23.2/70.7\)s & \(4.9/8.0/12.5\)s & \(0.31/0.68/1.57\)s & \(0.20/0.36/0.54\)s \\ \hline \end{tabular}
\end{table}
Table 3: Comparision of EF reconstruction time for the e.m. calorimeter and the pattern recognition with xKalman without LVL2 information and using the LVL2 RoI guidance. The latencies given are the times needed to reconstruct 50% (“median”), 80%, and 95% of all the di-jet events. They are scaled to 500 MHz PII machine running Linux.

Another way to further reduce the trigger rate is to require a more exclusive selection by targeting and prioritizing specific final states at the HLT menu level. For example, the trigger menu "rate budget" could be prioritized as: (1) high multiplicity menu elements, (2) high-\(p_{\mathrm{T}}\) low multiplicity menu elements, and the remaining budget left to (3) lower-\(p_{\mathrm{T}}\) low multiplicity menu elements.

## 6 Conclusions

The High Level electron and photon trigger, implemented in the LVL2 and EF, must be optimized as a whole and is composed of modular selection algorithms that can migrate between the two levels. This flexibility in the L2/EF boundary allows the HLT system to be configured in a way that minimizes overall resource utilization.

After the full HLT selection, a large fraction of the expected rate is due to irreducible backgrounds from \(\mathrm{W}\rightarrow\mathrm{e}\nu\), (b,c)\(\rightarrow\)eX, and prompt photons. The reducible component of the trigger rate (fake electrons and photons from jets, photons from \(\pi^{0}\)s, amd soft (b,c)\(\rightarrow\)eX) can be controlled with an increase in the \(E_{\mathrm{T}}\) threshold. Another way to further reduce the trigger rate is to require a more exclusive selection by targeting specific processes at the HLT menu level.

## References

* [1] ATLAS Collaboration. ATLAS Detector and Physics Performance Technical Design Report. CERN/LHCC/99-14, ATLAS TDR 14, 1999.
* [2] ATLAS Collaboration. Trigger Performance Status Report. CERN/LHCC/98-15, 1998.
* [3] R. K. Mommsen A. Radu M. Wielers. Performance Studies for Electron and Photon Selection at the Event Filter. _ATLAS Internal Note_, ATL-DAQ-2000-007, 2000.
* [4] Modifications to the Official ATRECON for Event Filter Studies. [http://home.cern.ch/](http://home.cern.ch/)\(\sim\)mommsen.
* [5] S. Gonzalez B. Gonzalez-Pineiro T. Shears. First Implementation of Calorimeter FEX Algorithms in the Level-2 Reference Software. _ATLAS Internal Note_, ATL-DAQ-2000-020, 2000.
* [6] Latest egamma results. [http://www-wisconsin.cern.ch/](http://www-wisconsin.cern.ch/)\(\sim\)atsaul/egamma/latest.
* [7] DICE productions for egamma studies. [http://www-wisconsin.cern.ch/](http://www-wisconsin.cern.ch/)\(\sim\)atsaul/egamma.
* [8] A. Dell'Acqua, et al. 1997 ATLAS Jet Production. _ATLAS Internal Note_, PHYS-NO-102, 1997.
* [9] J. Baines _et. al._ Identification of high \(p_{\mathrm{T}}\) electrons by the Second Level Trigger of ATLAS. _ATLAS Internal Note_, ATL-DAQ-2000-003, 2000.

* [10] M. Wielers S. Gonzalez, T. Hansl-Kozanecka. Selection of high-\(p_{\rm T}\) electromagnetic clusters by the level-2 trigger of ATLAS. _ATLAS Internal Note_, ATL-DAQ-2000-002, 2000.
* [11] M. Wielers. Photon Identification with the ATLAS Detector. _ATLAS Internal Note_, ATL-PHYS-99-016, 1999.
* [12] S. Sivoklokov. The High \(p_{\rm T}\) Level Two Trigger Algorithm for TRT Detector in ATRIG. _ATLAS Internal Note_, ATL-DAQ-2000-043, 2000.
* [13] ATLAS Collaboration. First-Level Trigger Technical Design Report. CERN/LHCC/98-14, ATLAS TDR 12, 1998.
* [14] S. Gonzalez T. Shears. Further Studies and Optimisation of the Level-2 electron/photon FEX Algorithm. _ATLAS Internal Note_, ATL-DAQ-2000-042, 2000.