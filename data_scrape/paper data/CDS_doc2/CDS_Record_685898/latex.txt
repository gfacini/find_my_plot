**ATLAS Internal Note**

**INDET-NO-060**

**12 September 1994**

**Alignment of the ATLAS inner detector**

C. Daum

**Introduction**

The performance specifications of the ATLAS Inner Detector [1] are translated into physics and engineering specifications for the resolution and stability of the detectors in Table 1 and Table 2, respectively. The physics specifications contain an intrinsic and a stability component. Surveying and monitoring of the alignment has to bridge the difference between the engineering stability and the desired resolution for physics. A cylindrical coordinate system is used with the z coordinate along the beam direction. This is also the axis of the solenoidal field in which the inner detector is located. Then, r and \(\phi\) are the radial and azimuthal coordinate in the bending plane perpendicular to the field direction. The strongest requirements are put on the \(\phi\) measurement which determines the precision of the momentum measurement. It is the dominant term in the reconstruction of invariant masses. On the other hand, angle measurements of about 2 mrad are sufficient [1,2].

A number of alignment stages exist which require different technologies. The stages are design and assembly, installation, relative monitoring and absolute monitoring. They also cover the reassembly and reinstallation after maintenance.

The essential monitoring function of the alignment system is to calibrate the deviation of any position vector from its ideal location due to mechanical, temperature and other distortions as a function of time.

Table 1. Required spatial resolutions of the inner detector

Detector \(\phi\) \(\phi\) r \(\phi\) z

\(\mu\)m \(\mu\)m \(\mu\)m

Pixel (barrel) 15 80 87

Pixel (forward) 15 80 87

Si microstrips 25 80 625

GaAs microstrip 28 80 707

MSGC 45 160 894

TRT (barrel) 187 1200 1000

TRT (forward) 187 1200 1000

## 1 Design and assembly

Testing of the stability of construction materials for the detector is of crucial importance in the design stage. TV holography is a promising technology with high sensitivity for surveying of surfaces by fringe counting using speckle interferometry. It allows observation of the motion of surface elements due to local heating down to the few micron level. This method is being developed by the group at the University of Oxford [3]. The method can also be used in the assembly stage.

The group of PNPI at St. Petersburg has developed an X-ray diagnostic test device [4] for measuring the anode wire position in a straw tube for the transition radiaion tracker (TRT). A narrow 36 keV monochromatic beam of X rays irradiates an array of straw tubes. Detection of the X-rays with the straw tubes results in a precise measurement down to several microns of the anode wires with respect to the walls of the tubes. This method is intended for mutual alignment of several TRT wheels in the forward part of the inner detector in the assembly stage. The method may also be extended to the detection of the position of the anode and cathode strips of microstrip gas counters (MSGC), for the alignment of GaAs microstrip detectors in the forward part, and to the alignment of the barrel TRT and perhaps Si microstrip and pixel detectors in the barrel.

## 2 Installation

The transport and installation of the inner detector in its final position will be a delicate operation. Rechecking of the alignment in situ will be necessary. The X-ray diagnostic test device [4] should be an ideal instrument to perform this task. The device has a length of a few meters and should fit in the space at the ends of the inner

\begin{table}
\begin{tabular}{|l|c|c|c|} \hline Detector & \(\phi\) & r & z \\ \hline  & \(\mu\)m & \(\mu\)m & \(\mu\)m \\ \hline Pixel (barrel) & 100 & 500 & 1000 \\ \hline Pixel (forward) & 100 & 500 & 1000 \\ \hline Si microstrips & 100 & 500 & 1000 \\ \hline GaAs microstrip & 200 & 500 & 1000 \\ \hline MSGC & 200 & 500 & 1000 \\ \hline TRT (barrel) & 200 & 500 & 1000 \\ \hline TRT (forward) & 200 & 500 & 1000 \\ \hline \end{tabular}
\end{table}
Table 2: Assembly precision of the inner detector (before surveying)detector when the calorimeters and forward toroids are moved away from the interaction point over about 4 m.

## 3 Relative monitor

Monitoring of the positions of all detectors during running is of crucial importance for following the time evolution of alignment constants needed in track reconstruction. It should provide the relative position of all detectors. The position vectors of detectors or parts of detectors are given with respect to those of reference marks. These are part of or refer to position vectors in an alignment grid. The relation to or between (e.g. across thermal insulation) reference marks and to points of the alignment gris should be mechanically stable.

An alignment grid for the inner detector may be defined as four planes transverse to the beam, one at each end of the detector and on at each transition from the barrel to a forward part. These four planes are connected by a longitudinal grid at the outer radius of the inner detector. The grid might be extended at small radius over the accessible volume.

Ideally, we try to define a grid in which only distance measurements have to be made. The simplest planar grid is a triangle. The three corner points of the grid are defined by the lengths of three radius vectors and three directions. Hence, we need at least five measurements and one constraint given by the sum of the angles. Five length measurements are not available in a triangle, only three sides can be measured. The next figure is a quadrangle which is described by the lengths of four radius vectors and four directions, needing at least seven measurements and one constraint given by the sum of the angles. In a quadrangle only six length measurements are available, four sides and two distances between opposite corner points. Finally, a pentagon or a higher order polygon provides enough length measurements to determine the radius vectors. It is also important that length measurements do not cross the centre of the polygon if it is transverse to the beam and the beam pipe passes the centre. We choose a hexagon, the first polygon with an even number of sides.

Fig. 1 shows a possible layout of a transverse grid within and at most up to the outer radius of 115 cm of the inner detector. It consists of e.g. a hexagonal grid at the outer radius. A triangular grid also connects non-adjacent points with one adjacent point in between. No diametrical connections can be made due to the presence of the beam pipe. If an inner longitudinal grid is needed, an inner radius at e.g. 30 cm is used. A triangular grid at this radius might be connected to the main grid as shown in Fig. 1.

Fig. 2 indicates how any two transverse planes can be linked by a longitudinal grid. The parallelism, the orientation, the relative height, and the distance of these planes is measured with the longitudinal grid. It has not only distance measurements between the outer corner points of the hexagonal grid in each transverse plane, but it also requires'skew' distances for the measurement of the angle between the planes of the hexagons. The opening angle at A of the planar triangle ABC in Fig. 2 can not be more than 15\({}^{\rm o}\) for a reasonable value of \(\Delta\)R within which the plane of the triangle is contained. The measurement also requires the triangulation of the triangle BDC.

Fig. 3 illustrates the alignment strategy. The distances between successive points of the hexagon and between even or odd numbered points on the circumference of the hexagon. Distances can be measured with e.g. frequency scan interferometry [3] with a few micron precision. The aim is to reconstruct the cylindrical coordinate a r and \(\phi\) of the corner points 1 to 6.

For the ideal hexagon, we have the relations

\[{\rm r_{1}=r_{2}=r_{3}=r_{4}=r_{5}=r_{6}=r}\] (1),

\[{\rm d_{12}=d_{23}=d_{34}=d_{45}=d_{56}=d_{61}=r}\] (2),

and

\[\phi_{\rm i}=({\rm i-1})\;\frac{\pi}{3} \tag{3}\]

for i = 1 to 6.

The cosine rule in triangles between the origin and two adjacent corner points is

Figure 1: Two-dimensional alignment grid in a plane transverse to the beam axis.

\[d_{ik}^{2}=r_{1}^{2}+r_{k}^{2}-2r_{ik}\cos(\phi_{i}-\phi_{k}) \tag{4}\]

The cosine rule in triangles between two odd or even numbered corner points is given by the same expression.

We have to solve for six values of \(r_{i}\) and six values of \(\phi_{i}\). The problem can be linearized by determining the deviations from the ideal hexagon. We take as a first estimate of the radii and the sides of the hexagon

Figure 2: Three-dimensional alignment grid between two transverse planes.

\[r=\frac{1}{6}\left(d_{12}+d_{23}+d_{34}+d_{45}+d_{56}+d_{61}\right)=d \tag{5}\]

and for the angles the values of Eq. 3.

The measured deviations from these value are

\[\Delta d_{\rm ik}=d_{\rm ik}-d \tag{6}\]

The deviations of \(r_{\rm i}\) and \(\phi_{\rm i}\) from the ideal value are \(\Delta r_{\rm i}\) and \(\Delta\phi_{\rm i}\). Differentiation of Eq. 4 and substitution of the ideal values yields six equations

\[\Delta d_{\rm ik}=\Delta r_{\rm i}\left(1-\cos\frac{\pi}{3}\right)+\Delta r_{ \rm k}\left(1-\cos\frac{\pi}{3}\right)+r\sin\frac{\pi}{3}\ \Delta\phi_{\rm i}-r\sin\frac{\pi}{3}\ \Delta\phi_{\rm k}\] (7).

The triangles with odd or even corner points yield another six equations

\[\Delta d_{\rm ik}\sqrt{3}=\]

Figure 3: Planar alignment grid.

\[\Delta\rm r_{i}\,(1-cos\ \frac{2\pi}{3})+\Delta\rm r_{k}\,(1-cos\ \frac{2\pi}{3})+r\sin\frac{2\pi}{3}\,\Delta\phi_{i}-r\sin\frac{2\pi}{3}\, \Delta\phi_{k}\] (8).

The measurement uncertainties of \(\rm d_{ik}\) and thus of \(\Delta\rm d_{ik}\) are \(\rm\delta_{ik}\). We can now make a least-square fit to this system of 12 linear equations with the constraints

\[\sum_{i=1}^{6}\,\Delta\rm d_{ik}=0 \tag{9}\]

for the distances between adjacent corner points and

\[\sum_{i=1}^{6}\,\Delta\phi_{i}=0 \tag{10}\]

The absolute position in space of the origin and the absolute orientation of the coordinate system can not be determined without a measurement to an external reference point. They are individual for each transverse plane. The relative orientation of the four planes may not be stable in time. The external reference point itself may not be stable in time.

In a similar way, the measurement of the sides of the longitudinal triangles ABC between transverse planes in Fig. 2 with frequency scan interferometry can be used for fitting the grid between these planes. However, a distance measurement with frequency scan interferometry is not very sensitive to small transverse displacements of the transverse planes with respect to each other. The lines of the type AB in Fig. B should also be measured with a straightness monitor [5-7] which is sensitive to transverse displacements to better than 1 \(\rm\mu m\).

Fibres of frequency scan interferometry can penetrate easily the insulation shell around the semiconductor detectors in the barrel for alignment of these detectors.

The straightness monitors [5-7] can also be used for monitoring of the alignment of individual elements, e.g. MSGC wheels and/or TRT wheels in the forward parts of the inner detector. If all or part of these wheels have to be surveyed individually depends on the stability of reference points on the wheels with respect to grid points.

Finally, an overall fit can be made of the three-dimensional vectors with respect to the common origin of the complete ideal grid can be made. This common origin should coincide ideally with the theoretical interaction point. Again the absolute position of this origin and the orientation of the coordinate system can not be determined without a measurement to an external reference point. The external reference point itself may not be stable in time.

Linking of any detector element to a reference point on the alignment grid has to be precise and stable by design.

## 4 Absolute monitor

Absolute monitoring of the inner detector is needed for settling the absolute position of the reference grid and thus of the inner detector components with respect to the proton beams or interaction region, and for linkage to an overall ATLAS coordinate system. Measurement of the interaction point can only be done with tracks for which in principle all charge tracks above a certain momentum can be taken to minimize the uncertainties due to multiple scattering in the components of the inner detector. This measurement is then only limited by the measurement precision in the inner detector and the statistics accumulated within a given time period during an LHC fill. Good knowledge of initial alignment constants from the relative monitoring as described in the previous section is crucial.

Linkage to an overall ATLAS coordinate system is of importance e.g. for matching muon track elements in the inner detector with those in the muon spectrometer. It may be obtained by using an alignment grid as described in section 3, but adapted to the possibilities in the available space in the total ATLAS detector. Again, this may be crucial for good knowledge of initial alignment constants for track fitting. The absolute alignment may be obtained using \(\mathrm{Z^{0}\rightarrow\mu^{+}\mu^{-}}\) decays. The precision of this method is limited by the measurement accuracy of the muon tracks in the inner detector and the muon spectrometer, the multiple scattering of the decay muons in the calorimeter, and the statistics accumulated within a given time period during an LHC fill..

## 5 Technologies

### \(\mathrm{TV}\) holography [3].

This technology has become a standard method for the observation of motions of objects or of surface elements of objects. The light beam of a laser source illuminates a beam splitter. The main part of the beam is directed to the object to be observed, the other part is used as reference beam. Subsequently, the beam reflected from the object and the reference beam are combined. The interference pattern of the combined beams is observed with a CCD-TV camera. A frame grabber transmits the TV image to a computer for further processing. The change of the interference pattern is used for measuring the displacement of the object or its surface elements by fringe counting, usually called speckle interferometry for its speckle pattern. A prototype system is operational at the University of Oxford. A system is now under construction for use in material studies for the inner detector. It also may be used in the assembly of the inner detector.

b. X-ray diagnostic test device [4]. The beam of a low power X-ray source is collimated onto a Si crystal monochromator. The monochromatic beam of 36 keV is further collimated and directed to the object to be investigated. In the test, the position of the anode wire within a straw tube was measured with respect to the walls of the tube with a precision of a few \(\mu\)m. It also measures the relative position of anode wires of an array of straw tubes over a certain depth. The straw tube itself is used as the active element for the detection of the directional monochromatic X-rays. It is intended to develop this method for aligning simultaneously deep straw tube arrays. The apparatus can be used in the assembly stage and is sufficiently small for using it also in situ after the inner detector has been installed, but before the end cap calorimeter and the end cap toroids are moved into position. It should also be tested that other detectors, e.g. the MSGCs, can be aligned simultaneously. In this case, the anode strip positions should be determined. A method should be found to link this alignment to the reference points of the alignment grid proposed in section 3.

c. Frequency scan interferometry [3]. The methods described under a. and b. are bulky and can not be used during the running of the experiment for monitoring the alignment. Various methods have been proposed using optical fibres which can be guided to and penetrate into the volume of the inner detector. Interferometric methods are of particular interest. However, it is usually easy to measure changes in length, but difficult to determine an absolute length with a monochromatic light source as used for most systems. A novel idea is to count the change in the number of fringes for two different wavelengths of light, \(\lambda_{1}\) and \(\lambda_{2}\). For a length D, the number of fringes are (i = 1,2)

\[N_{i}=\frac{D}{\lambda_{i}}\] (11). The wavelength or frquency is scanned between the two values, and the change in number of fringes is \[\delta=N_{1}-N_{2}=D\left[\frac{1}{\lambda_{1}}-\frac{1}{\lambda_{1}}\right]\] (12), or \[D=\frac{\lambda_{1}\lambda_{2}}{\lambda_{2}-\lambda_{1}}\delta\] (13).

Using a 1% scan and wavelengths of the order of 350 nm, we have

\[\mathrm{D=100\;\lambda_{1}\;\delta=35\;\delta\;(\mu m)} \tag{14}\]

For a distance D of 1 m and mode locking of the frequencies at both ends with a precision of 1 in 600000, the change in number of fringes is 8 = 28571.43 \(\pm\) 0.05, which means a measurement precision of 1.8 \(\mu\)m on D. The group at the University of Oxford is preparing a prototype of this system for use in a test beam. This will also teach us how to implement it in the inner detector.

### 4. Straightness monitors [5-8].

Straightness monitors have been in use in L3 [5] since many years for monitoring of the alignment of the muon spectrometer. This so-called RASNIK system has been further developed for the muon spectrometer of ATLAS and is also of interest for the inner detector [6]. RASNIK in its original form consists of an infrared LED which is imaged by a lens onto a quadrant diode. By comparing the photocurrents in the four sections of the diode the relative transverse position of the lens with respect to the line connecting the light source and the diode is monitored with a precision of a few \(\mu\)m.

RASNIK has been improved for LHC by using the light source for the illumination of a mask with a coded pattern via a condensor lens. The mask is imaged onto a standard CCD with 200000 pixels of a TV camera. The precision in transverse position is now about 0.5 \(\mu\)m. By measuring the magnification of the image on the CCD camera, the relative longitudinal position of the lens can be determined with a precision of about 50 \(\mu\)m. If the position of more than one plane has to be measured, each plane should be equiped with a lens which images part of the mask onto part of the CCD. This requires transverse space. A single RASNIK system has now transverse dimensions of about 5cm x 5 cm. An R&D phase is required to miniaturize the system.

Neither the CCD cell nor the LED may be sufficiently radiation hard for the harsh conditions in the inner detector. As an alternative to simple replacement, R&D should be performed on transporting the image with a coherent fibre bundle to a remotely located CCD camera, and bringing light from a remote light source to the mask via an optical fibre.

The group at MSU has developed another version of a straightness monitor using a LED, a pin hole diaphragm and a CCD camera [7]. This system has a sensitivity for transverse displacements of 0.3 \(\mu\)m. The relative longitudinal position of the diaphragm is obtained by putting a similar system under an angle \(\alpha\) with the longitudinal axis. The longitudinal displacement is now observed as a lateral displacement, and the resolution is now \[\sigma_{\text{L}}=\frac{\sigma_{\text{T}}}{\tan\alpha} \tag{15}\]

An estimate has been made of a system for aligning up to 16 planes. This might require a transverse area of about 3 cm by 25 cm.

Again, radiation problems might require a remote location of light source and CCD camera.

The group has also revived a system which has been used in a past experiment. It consists of two infrared LEDs which are placed on opposite sides of a biprism. The virtual light sources of the two LEDs coincide. This source is imaged by a lens onto a infrared sensitive photodiode. The two LEDs are powered in opposite phase. The output voltage and polarity of the photodiode signal is a measure of the position of the lens with respect to the axis joining the by prism and the photodiode.

The MPI group has developed a system of infrared-transparent silicon strip sensors for aligning a number of subsequent planes with a single infrared light source [8]. It has been developed initially for the muon spectrometer of ATLAS. It has sensitivity for transverse displacements with an intrinsic resolution of better than 1 \(\upmu\)m and a non-linearity error of about 2 \(\upmu\)m.

## Conclusion

An analysis is presented of the alignment of the ATLAS inner detector. Initial physics and engineering specifications are given. An attempt is made to develop an alignment strategy. The various stages of alignment occur during design, assembly, installation, relative and absolute monitoring during running, and reinstallation after maintenance.

The main elements of the relative monitoring stage are the construction of an alignment grid to which all detector elements are linked with a mechanically stable structure. The alignment grid is realised by distance measurements using frequency scan interferometry. Transverse displacements are observed sensitively with straightness monitors. Absolute monitoring can only be achieved with tracks.

A short description is presented of applicable technologies.

## References

* [1] D. Froidevaux, A. Parker, The performance specifications of the ATLAS inner detector, INDET-NO-046, 6 may 1994.
* [2] A. Seiden, Systematic Errors and Alignment for Barrel Detectors, SDC-91-00021, march 30 1991.
* [3] Alignment, Distortion, Survey & Assembly, R. Nickerson, INDET-TR-118.

* [4] O.Fedin, S. Muraviev, A. Smirnov, The first results of a TRT cell prototype alignment test with 36 keV X-ray beam, INDET-NO-057, 27 july 1994.
* [5] P. Duinker, et al., Nucl. Instr. & Methods A273 (1988) 814.
* Oct. 1, 1993, p.147. C. Daum, Monitoring of the alignment of the inner detector, INDET-TR-076.
* [7] V. Kozlov, L. Smirnova, Alignment of ATLAS forward inner detector, presented at the ATLAS MSGC meeting at Coseners' House, 18-19 january 1994, and submitted to ICHEP94, Glasgow, July 1994.
* [8] M. Kroha, Laser alignment system with transparent silicon strip sensors, INDET-TR-149.