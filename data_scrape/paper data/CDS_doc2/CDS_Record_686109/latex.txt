CORRECTED VERSION

LARG Note 45

July 28, 1996

Noise study with the present prototype of Fast Digital

Readout system in the Liquid Argon Electromagnetic

Calorimeter Test-Beam setup in May-June 1996.

F. Astesan, A. Castera, O. Le Dortz,

A. Savoy-Navarro, P. Schwemling, A. Vallereau

LPNHE-Paris Universites Paris-6 et 7 - IN2P3

**Abstract**

We first describe the setup that has been used to study the noise, before the run period actually begun. The interest of this study is that it has been done in an environment very close to the actual environment of the test-beam data-taking period, but with the possibility to "play" at will with the system, which would not have been possible during real data-taking. This gives interesting indications about the performances of the present prototype of a fast digital readout system in terms of noise, and will allow interesting comparisons during the June test-beam.

[MISSING_PAGE_EMPTY:2]

Introduction

Before the data-taking period of June 1996 with the ATLAS Liquid Argon Electromagnetic Calorimeter Barrel 2m prototype, we have taken the opportunity of the installation of the test-beam setup to make an investigation of the noise properties of the present prototype of a fast digital readout system in a close to real test-beam configuration. The aim of this study was three-fold :

* Monitor the noise performance and try to optimize it, in view of the coming period of real data-taking.
* Try to understand as far as possible the related noise features.
* To have a track of the performance of the system in a well-known and reproducible configuration, so as to be able to make sensible comparisons later, i.e. during the forthcoming test period.

## 2 The test setup

### Liquid Argon setup

The detector was installed in the North Hall, on beam line H8. We will not describe it here, since several descriptions of this setup can be found elsewhere, see for example [1]. We shall here say only that the cryostat was empty, and in the garage position. However, the shapers and the readout equipment was powered, but not used, almost exactly as it would be the case during normal data-taking for read-out tests, the only difference being that normal electronics is also being read-out during data-taking for digital readout tests. This means that we could hope that the pick-up noise should be very similar to what it is during the real tests of the fast read-out prototype.

### Fast Digital Readout setup

The fast digital readout setup is described in figure 1. The prototype of the digital readout system we are presently testing includes a 10-bit 40 MHz PSA-ADC, preceeded by a four gain 15-16 to 10 bit compressor. After digitisation, the data is stored into FIFOs and read-out through VME. This overall system has been developed by the RD-16 collaboration [2].

Part of the system is located on a platform, sitting on the cryostat, in a very harsh environment from the point of view of electromagnetic noise, since many electrical equipment was close to the VME boards containing the read-out system. This nearby equipment was not necessarily of very high quality from the point of view of electromagnetic compatibility : it included for example motors of working vacuum pumps, only two to three meters away from the VME read-out boards. It should be noted that one of the boards has been slightly modified, in the view of improving its electromagnetic compatibility performance. This board corresponds to the channels 19, 20 and 21.

On the platform we had a VME 430 crate, containing a VIC 8251 to communicate with the control room, and 8 VME 6U readout boards, manufactured by CAEN, consisting each one of three channels. In the control room we had a FIC 8234 running the SPIDER data acquisition software under OS-9, a VIC 8251 to communicate with the platform, and a CORBO to trigger the readout. A programmable pulse generator was used to send triggers to the read-out boards, at a constant frequency of about 10 Hz. For each trigger, we have acquired 255 samples long frames. Since a sample is taken every 25 ns, one frame represents a time interval of 6375 ns. This very long frame allows a reasonable spectral analysis of the noise to be performed, as will be shown in the next sections.

Figure 1: Sketch of the data acquisition system

## 3 Description of the data

We have taken about 15 runs of 10000 triggers each, representing a total of approximately 4 hours of data-taking, during the night of the 23 to the 24th of May. These runs have been taken in very similar conditions. The conditions for the runs we have analysed are detailed in table 1.

## 4 Pedestals

We did not expect anything special from the pedestals, since we know from a very long time that the readout boards have a very stable pedestal on very long periods of time (of the order of days), so that nothing really surprising could arise from a study covering only 4 hours. We did nevertheless a rapid study, to check that the boards were working properly. A plot of the pedestals for all the 24 channels in run 16003 is given figure 2 and figure 3; the pedestals were computed by taking the mean of all the samples in a frame. Most of the channels do not show anything special ; for these the pedestals are nicely distributed according to a nearly gaussian law. Few channels however show abnormal behaviour; this is the case for the channels 1 to 3, 10 to 12, and 20. They exhibit significant tails, where one would expect the pedestals to have a gaussian distribution. We have selected some frames in these tails and plotted them to understand this behaviour, but nothing abnormal or intriguing could be seen. It is interesting to notice that all these "funny" channels are grouped by three, corresponding to one physical board, thereby indicating that this problem is more likely to be due to the board itself than

\begin{table}
\begin{tabular}{|c|c|c|c|} \hline \hline Run number & time & \# triggers & Comments \\ \hline \hline
16001 & 21h25 & 12174 & Nothing connected on the boards \\ \hline
16003 & 21h55 & 1 0219 & Idem \\ \hline
16006 & 22h35 & 1 0251 & Conn. to shaper cable, shaper cable to crate, crate on \\ \hline
16007 & 23h00 & 1 0059 & Same conditions, connector reversed \\ \hline
16008 & 23h35 & 11 000 & Connector OK, some nearby apparatus off \\ \hline
16009 & 23h50 & 11 096 & Same conditions, shapers off \\ \hline
16010 & 00h00 & 1 0495 & Same conditions, shapers on again \\ \hline
16011 & 00h15 & 1 0383 & Same conditions, shaper cable disc. from shapers \\ \hline
16012 & 00h30 & 1 0060 & Nearby cables moved away from the readout boards \\ \hline
16013 & 00h45 & 1 0066 & Mass connection of the “modified” board improved \\ \hline
16014 & 01h00 & 1 0048 & Moving away some further cables \\ \hline \end{tabular}
\end{table}
Table 1: Detail of run conditions for the analysed datato the ADCs. We did not try to study the variations of pedestals as a function of time accross separate runs, because the changes of running conditions (for example, adding a cable, or switching on/off the shaper crate) may change the impedance seen by the VME readout boards and influence the pedestal value. During one run, no variation could be seen.

## 5 Noise

### Total noise

In the following, the noise will always be evaluated in ADC counts. Translating these numbers to an actual energy is not straightforward. This requires knowledge of the slope of the compressor transfer function around the pedestal, which was not well known at the time this study has been performed, since the boards had not yet been calibrated.

The estimation of the noise we have chosen to use is the average over one run of the r.m.s. of each frame. Run 1 6001 and 1 6003, taken in exactly the same conditions, with nothing connected on the readout boards, will be used to characterize reference conditions. As a simple check of the validity and reproducibility of the results, one can look at the variation for each channel, going from run 1 6001 to run 16003. One sees that the results are reproducible within 0.05 ADC counts, so that we will use in the following the average values of the noise for these both runs. These averages are given in Table 2. We can also use this 0.05 as a crude estimate of the resolution we have on the noise values. There is however a problem with channel 20, where one notices a large increase in noise. Looking with more details at this channel, we got the plots of figure 4. One sees that the noise distribution are abnormal. Looking directly at the frames, we found that there was probably a bad contact in the board or a bad FIFO, that caused random samples to be lost and replaced by 1023. This channel will be excluded from further analysis.

An interesting thing is to look what happens once something gets connected to the readout boards. This can be studied from run 1 6006, were the readout boards have been connected to 0T shapers, the shapers being powered, but no signal entering them. The adaptation from the shaper cables to the SMC connectors on the readout boards has been done with the help of a small passive PCB board, acting as a very simple patch panel. This should be very close to the situation of a real data pedestal run during the test-beam period, where it is planned to use a very similar connection scheme. The variation of the noise values are given in table 3. It is obvious that the noise increases. The variations have been computed assuming a gaussianFigure 2: Pedestals for run 1600l, channels 1 to 12. Horizontal axes are labelled in ADC counts.

Figure 3: Pedestals for run 1600l, channels 12 to 24. Horizontal axes are labelled in ADC counts.

Figure 4: Pedestals and noise for channel 20. Horizontal axes are in ADC counts.

noise, and assuming that all noise sources are uncorrelated, i.e. the noise contributions are supposed to add up quadratically. One can see also that the noise increase is different for the twelve first channels and for the twelve last ones. This is due to the fact that the twelve first channels were connected to the low gain output of the 0T bigain shapers, whereas the others were connected to the high gain output. In both cases, the increase of noise may be due to both the shaper (adding its electronic noise), and the cable, that may add pick-up noise. However, if the noise increase comes from the shapers themselves, the ratios of the noise increases should be equal to the ratio of the gains of the shapers. Taking the averages of the noise increases for high gain and low gain outputs, we find a ratio of 2.7, whereas from the gain ratios, one would expect something like 8. From this comparison, one can conclude that not all the noise increase comes from the shaper, but a significant part of it does.

As a check, we reversed the connectors, putting the readout boards to the grounds of the shapers. This gave us run 16007. We expected that the noise would increase, since the cables, and the shapers would act as an antenna. This is what we see on table 4. The increase in noise is clearly noticeable. In addition, as expected if the differences observed in the previous comparison are due to the difference in the gain of the shapers, the noise values are now similar on all channels.

Next we changed very slightly the conditions with respect to run 16006, switching off a useless equipment located not far from the readout boards (it was a polynomial waveform synthetizer, actually sitting directly on the VME readout crate on the platform, so it was very likely that it would produce

\begin{table}
\begin{tabular}{|c|c|c|c||c|c|c|c|} \hline \hline Chn. & run 1 6001 & run 1 6003 & average & Chn. & run 16001 & run 1 6003 & average \\ \hline \hline
1 & 0.81 & 0.82 & 0.82 & 13 & 0.78 & 0.79 & 0.79 \\ \hline
2 & 0.88 & 0.89 & 0.89 & 14 & 0.78 & 0.82 & 0.80 \\ \hline
3 & 0.93 & 0.94 & 0.94 & 15 & 1.03 & 1.02 & 1.03 \\ \hline
4 & 0.81 & 0.81 & 0.81 & 16 & 0.79 & 0.79 & 0.79 \\ \hline
5 & 0.90 & 0.92 & 0.91 & 17 & 0.81 & 0.81 & 0.81 \\ \hline
6 & 0.79 & 0.79 & 0.79 & 18 & 0.82 & 0.82 & 0.82 \\ \hline
7 & 0.75 & 0.75 & 0.75 & 19 & 0.97 & 0.92 & 0.95 \\ \hline
8 & 0.82 & 0.83 & 0.83 & 20 & 1.25 & 3.90 & \\ \hline
9 & 0.89 & 0.89 & 0.89 & 21 & 1.00 & 1.00 & 1.00 \\ \hline
10 & 1.25 & 1.28 & 1.27 & 22 & 0.79 & 0.79 & 0.79 \\ \hline
11 & 0.92 & 0.91 & 0.92 & 23 & 0.83 & 0.83 & 0.83 \\ \hline
12 & 0.77 & 0.78 & 0.78 & 24 & 0.66 & 0.66 & 0.66 \\ \hline \end{tabular}
\end{table}
Table 2: Comparison between runs 1 6001 and 1 6003. In both runs, nothing was connected to the readout boards.

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline Chn. & run 1 6006 & run 16007 & Chn. & run 1 6006 & run 16007 \\ \hline \hline
1 & 1.49 & 5.20 & 13 & 2.32 & 5.66 \\ \hline
2 & 1.38 & 5.49 & 14 & 2.10 & 5.45 \\ \hline
3 & 1.45 & 5.76 & 15 & 2.37 & 5.18 \\ \hline
4 & 1.13 & 3.53 & 16 & 2.58 & 4.63 \\ \hline
5 & 1.02 & 5.47 & 17 & 2.03 & 4.68 \\ \hline
6 & 1.09 & 8.24 & 18 & 2.07 & 4.32 \\ \hline
7 & 1.06 & 6.44 & 19 & 2.00 & 4.33 \\ \hline
8 & 1.13 & 5.86 & 20 & 2.10 & \\ \hline
9 & 1.18 & 5.77 & 21 & 2.13 & 4.53 \\ \hline
10 & 1.18 & 5.61 & 22 & 2.14 & 4.96 \\ \hline
11 & 1.18 & 4.86 & 23 & 2.21 & 4.57 \\ \hline
12 & 0.97 & 2.93 & 24 & 2.06 & 4.48 \\ \hline \end{tabular}
\end{table}
Table 4: Noise variation, when the boards are connected to the shaper grounds, as compared to the boards connected to the shaper outputs.

\begin{table}
\begin{tabular}{|c|c|c|c||c|c|c|c|} \hline Channel & referen c & run 16006 & differen c & Channel & reference & run 16006 & difference \\ \hline \hline
1 & 0.82 & 1.49 & +1.24 & 13 & 0.79 & 2.32 & +2.18 \\ \hline
2 & 0.89 & 1.38 & +1.05 & 14 & 0.80 & 2.10 & +1.94 \\ \hline
3 & 0.94 & 1.45 & +1.10 & 15 & 1.03 & 2.37 & +2.13 \\ \hline
4 & 0.81 & 1.13 & +0.79 & 16 & 0.79 & 2.58 & +2.46 \\ \hline
5 & 0.91 & 1.02 & +0.46 & 17 & 0.81 & 2.03 & +1.86 \\ \hline
6 & 0.79 & 1.09 & +0.75 & 18 & 0.82 & 2.07 & +1.90 \\ \hline
7 & 0.75 & 1.06 & +0.75 & 19 & 0.95 & 2.00 & +1.76 \\ \hline
8 & 0.83 & 1.13 & +0.77 & 20 & & & \\ \hline
9 & 0.89 & 1.18 & +0.77 & 21 & 1.00 & 2.13 & +1.88 \\ \hline
10 & 1.27 & 1.18 & -0.47 & 22 & 0.79 & 2.14 & +1.99 \\ \hline
11 & 0.92 & 1.18 & +0.74 & 23 & 0.83 & 2.21 & +2.05 \\ \hline
12 & 0.78 & 0.97 & +0.58 & 24 & 0.66 & 2.06 & +1.95 \\ \hline \end{tabular}
\end{table}
Table 3: Noise variation when the shapers are on and connected with respect to the situation where nothing is connected to the readout boards.

some pick-up noise). This yielded run 16008. The difference in noise between run 16006 and 16008 are given in table 5. This equipment was next kept off for the rest of the tests. However, it can be seen from table 5 that this equipment was actually not much perturbing on the digital readout boards, since we do not see a significant decrease in noise.

In the next run (16009), we switched off the shapers. The difference in noise between runs 16006 (shapers on) and 16009 (shapers off) are given in table 6. Three explanations are possible : the noise decrease may be due to the disappereance of the electronic noise sent through the cables by the shapers itself, or by the disappearance of the pick-up noise due to the switch-off of the shaper crate power supplies, or to a variation of the shaper output impedance between on and off state. We think the second explanation rather unlikely, since the shaper crate is some 5 to 7 meters away from the digital readout system. In addition, we know already that a significant part of the noise measured when the shapers are on is actually due to the shapers, so we can try to see if we get consistent numbers by assuming that the residual noise contribution, that we observe by comparing run 16009 with the reference, is pick-up on the cables. If this hypothesis is true, we can go back to the calculation we did when comparing run 16006 and the reference, when we tried to see if the noise came only from the shaper, or from other sources also: when taking the noise increase ratios, we can subtract the noise variation we measure by comparing runs 16009 and 16006, assuming it is pick-up noise, independant from the state of the shapers, and we get this time a ratio of 3.9, closer to the expected value of 8, but not yet satisfactory. This means that our hypothesis that the difference between run 16009 and the reference is only pick-up must be only approximative.

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline Chn. & run 16006 & run 16008 & Chn. & run 16006 & run 16008 \\ \hline \hline
1 & 1.49 & 1.47 & 13 & 2.32 & 2.31 \\ \hline
2 & 1.38 & 1.37 & 14 & 2.10 & 2.11 \\ \hline
3 & 1.45 & 1.45 & 15 & 2.37 & 2.38 \\ \hline
4 & 1.13 & 1.12 & 16 & 2.58 & 2.58 \\ \hline
5 & 1.02 & 0.97 & 17 & 2.03 & 2.02 \\ \hline
6 & 1.09 & 1.04 & 18 & 2.07 & 2.06 \\ \hline
7 & 1.06 & 1.09 & 19 & 2.00 & 2.02 \\ \hline
8 & 1.13 & 1.14 & 20 & 2.10 & \\ \hline
9 & 1.18 & 1.18 & 21 & 2.13 & 2.14 \\ \hline
10 & 1.18 & 1.16 & 22 & 2.14 & 2.16 \\ \hline
11 & 1.18 & 1.21 & 23 & 2.21 & 2.21 \\ \hline
12 & 0.97 & 0.97 & 24 & 2.06 & 2.07 \\ \hline \end{tabular}
\end{table}
Table 5: Noise variation, when close electrical equipment is switched off.

To summarize the values we got up to now, we can give the following figures :

* The noise of the digital readout prototype boards, when nothing is connected to them, and without taking any special precaution, is of the order of 0.8 ADC count.
* The noise sent by the shaper is of the order of 0.5 ADC counts for low gain shapers, 2.0 for high gain shapers.
* The noise coming from other sources, like pick-up, is of the order of 0.4 ADC count.

As a check of we did so far, we took run 1 601 0, where the shapers were on again, leaving us back to the situation of run 1 6008. The difference in noise

\begin{table}
\begin{tabular}{|c|c|c|c|c|} \hline \hline Chn. & r. 1 6006 & r. 1 6009 & \(\delta(1\,6006\)-1 6009) & \(\delta(1\,6009\)-ref) \\ \hline \hline

[MISSING_PAGE_POST]

 \end{tabular}
\end{table}
Table 6: Noise comparison between shaper-on state (run 16006), shaper-off state (run 16009) and the reference between these two runs is given in table 7. As one can see, this difference is small, validating our results, and increasing our confidence on the significance of the difference we have observed in the previous paragraphs.

For run 16011, we left the shaper crate on, the shaper cable connected to the digital readout boards, but we disconnected the shaper cable from the shaper, so the digital readout boards were connected to a kind of antenna, seven meter long. Under these conditions, we should get an approximate measurement of the pick-up noise due to the cables only, by comparing run 16011 and the reference values. In fact, this measurement is an overestimation, since the cables are not terminated on the appropriate impedance. We find an average value of the pick-up noise of about 0.9. This is higher than the value we have measured above, which is not surprising, since the cables were not terminated.

Next we tried to improve the situation from the point of view of the immunity to noise, by forcing the clock cables to pass along the frame of the digital readout crates. This is a well known recipe to improve electromagnetic compatibility, that has to be tried here, since these cables carry high frequency digital signal, that may induce pick-up noise on the boards. For this run (16012), the shapers were still disconnected, and will stay like that until the end. Comparison between run 16012 and 16011 is given in table 9. Clearly, one sees some effect, if one reminds that we have evaluated the reproducity of the noise values to be of the order of 0.05 ADC count. However, if some channels see a decrease on the noise, some others see an increase. If we take the average of all the channels, before we move the clock cables, the noise value is 1.28 ADC count, and after we move the clock cables, it drops

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline \hline Chn. & run 16008 & run 16010 & Chn. & run 16008 & run 16010 \\ \hline \hline
1 & 1.47 & 1.47 & 13 & 2.31 & 2.31 \\ \hline
2 & 1.37 & 1.45 & 14 & 2.11 & 2.11 \\ \hline
3 & 1.45 & 1.47 & 15 & 2.38 & 2.39 \\ \hline
4 & 1.12 & 1.15 & 16 & 2.58 & 2.59 \\ \hline
5 & 0.97 & 0.98 & 17 & 2.02 & 2.02 \\ \hline
6 & 1.04 & 1.04 & 18 & 2.06 & 2.10 \\ \hline
7 & 1.09 & 1.11 & 19 & 2.02 & 2.02 \\ \hline
8 & 1.14 & 1.15 & 20 & & \\ \hline
9 & 1.18 & 1.19 & 21 & 2.14 & 2.16 \\ \hline
10 & 1.16 & 1.18 & 22 & 2.16 & 2.16 \\ \hline
11 & 1.21 & 1.50 & 23 & 2.21 & 2.21 \\ \hline
12 & 0.97 & 1.00 & 24 & 2.07 & 2.08 \\ \hline \end{tabular}
\end{table}
Table 7: Comparison between two runs taken in same conditions (shapers on, some nearby electrical equipment switched off)to 1.25, which is an insignificant variation.

Our next test consisted in looking more carefully at the "modified" board. By "modified" we mean that some effort had been put in the lab to try to improve the pick-up noise immunity of this board, by connecting together all the large metallic surfaces, like the front face, to the board ground. This board got tightly screwed to the crate, to solidarize its grounds to the ground of the crate. From the point of view of the other boards, the situation during this run (16013) was the same as during run 16012. The comparison is given in table 10. Like for the previous comparison, no big effect can be seen, in particular no significant variation can be seen on the "modified" board itself (Channels 19 to 21 ). The noise average over all the channels goes from 1.25 for run 16012 to 1.29, which is again unsignificant.

Last, we tried some further efforts to get a better electromagnetic compatibility, by putting the VIC connection cable (through which transit high frequency digital signal (typically \(\simeq\) 16 MHz) away from the shaper cable. This yielded run 16014. Comparison between run 16013 and 16014 is given in table 11. Here, the average over all the channels goes from 1.29 for run 16013 to 1.13, which is a clear improvement.

The conclusion of all these studies is that the noise has a very complicated behaviour. Some simple tricks seem to be useful, like putting away as much as possible the cable that carry high frequency digital signal, and try to force them to pass along crates. However, this does not always work, since when we did that for the clock cables, no effect could be seen. This means that in practice, the best attitude seems to try to improve things by trial and error, keeping in mind simple rules that belong more to common sense than to a

\begin{table}
\begin{tabular}{|c|c|c|c||c|c|c|c|} \hline Chn. & ref. & run 1 6011 & diff. & Chn. & ref & run 16011 & diff. \\ \hline \hline
1 & 0.82 & 1.10 & +0.73 & 13 & 0.79 & 1.44 & +1.20 \\ \hline
2 & 0.89 & 1.33 & +0.99 & 14 & 0.82 & 1.29 & +1.00 \\ \hline
3 & 0.94 & 1.12 & +0.61 & 15 & 1.02 & 1.32 & +0.84 \\ \hline
4 & 0.81 & 1.22 & +0.91 & 16 & 0.79 & 1.78 & +1.60 \\ \hline
5 & 0.91 & 1.09 & +0.60 & 17 & 0.81 & 1.50 & +1.26 \\ \hline
6 & 0.79 & 1.26 & +0.98 & 18 & 0.82 & 1.42 & +1.16 \\ \hline
7 & 0.75 & 1.39 & +1.17 & 19 & 0.92 & 1.14 & +0.67 \\ \hline
8 & 0.83 & 1.24 & +0.92 & 20 & & & \\ \hline
9 & 0.89 & 1.56 & +1.28 & 21 & 1.00 & 1.35 & +0.91 \\ \hline
10 & 1.27 & 1.35 & +0.46 & 22 & 0.79 & 1.26 & +0.98 \\ \hline
11 & 0.92 & 1.24 & +0.83 & 23 & 0.83 & 1.12 & +0.75 \\ \hline
12 & 0.78 & 0.88 & +0.41 & 24 & 0.66 & 1.04 & +0.80 \\ \hline \end{tabular}
\end{table}
Table 8: Evaluation of the pick-up noise, by comparison of the reference values and the noise for run 16011

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline \hline Chn. & run 1 601 2 & run 16013 & Chn. & run 1 601 2 & run 1601 3 \\ \hline \hline
1 & 1.20 & 1.17 & 13 & 1.31 & 1.32 \\ \hline
2 & 1.42 & 1.48 & 14 & 1.73 & 1.89 \\ \hline
3 & 1.64 & 1.74 & 15 & 1.16 & 1.30 \\ \hline
4 & 1.40 & 1.40 & 16 & 1.09 & 1.12 \\ \hline
5 & 1.06 & 1.06 & 17 & 1.26 & 1.22 \\ \hline
6 & 1.22 & 1.22 & 18 & 1.04 & 1.02 \\ \hline
7 & 1.34 & 1.39 & 19 & 1.08 & 1.12 \\ \hline
8 & 1.03 & 1.03 & 20 & & \\ \hline
9 & 1.42 & 1.46 & 21 & 1.21 & 1.23 \\ \hline
10 & 1.23 & 1.28 & 22 & 1.34 & 1.34 \\ \hline
11 & 1.21 & 1.34 & 23 & 1.11 & 1.20 \\ \hline
12 & 0.99 & 1.03 & 24 & 1.27 & 1.32 \\ \hline \end{tabular}
\end{table}
Table 10: Comparison between run 1 601 2 and 1 6013, to check wether the “modified” board has better performance when tightly fixed to the crate.

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline \hline Chn. & run 1 601 2 & run 1601 3 & Chn. & run 1 601 2 & run 1601 3 \\ \hline \hline
1 & 1.20 & 1.17 & 13 & 1.31 & 1.32 \\ \hline
2 & 1.42 & 1.48 & 14 & 1.73 & 1.89 \\ \hline
3 & 1.64 & 1.74 & 15 & 1.16 & 1.30 \\ \hline
4 & 1.40 & 1.40 & 16 & 1.09 & 1.12 \\ \hline
5 & 1.06 & 1.06 & 17 & 1.26 & 1.22 \\ \hline
6 & 1.22 & 1.22 & 18 & 1.04 & 1.02 \\ \hline
7 & 1.34 & 1.39 & 19 & 1.08 & 1.12 \\ \hline
8 & 1.03 & 1.03 & 20 & & \\ \hline
9 & 1.42 & 1.46 & 21 & 1.21 & 1.23 \\ \hline
10 & 1.23 & 1.28 & 22 & 1.34 & 1.34 \\ \hline
11 & 1.21 & 1.34 & 23 & 1.11 & 1.20 \\ \hline
12 & 0.99 & 1.03 & 24 & 1.27 & 1.32 \\ \hline \end{tabular}
\end{table}
Table 9: Comparison of runs 1 6011 (nothing special done), and 1 601 2 ( some cables moved to improve E.M.C.)theory.

### Spectral analysis of the noise

We have taken very long frames, to be able to perform some simple spectral analysis. This analysis has been done by applying a Fast Fourier Transform on all the frames, and by superimposing the obtained power spectra into one spectrum per channel and per run. A typical plot is given figure 5 to 8. For figures 5 and 6, we have added all the power spectra of the individual events, channel by channel. Figure 7 and 8 where obtained by adding all the spectra of the phases, event by event. This allows to detect the noise components that are correlated with the clock : if a given spectral component is uncorrelated with the clock, its phase will be distributed uniformly between \(-\pi\) and \(+\pi\), so that by adding the phases for all the events, one will found on average a phase of 0. On the contrary, a component that is correlated to the clock will have a more or less constant phase, and shows up as a peak.

On figure 5 and 6 (power spectra), one sees very clearly some peaks, at frequencies of about 3 MHz, accompanied by their harmonics. These frequencies are seen in all the runs, even if the boards are not connected to anything. A possible explanation of this noise is the latency of the ADC, which is 14 clock periods : is is possible that what we see is the fact that the pedestals of each individual ADC building up the complete PSA-ADC are not perfectly matched to each other, leading to a periodic pattern, of periodicity 14 clock periods, or in other words, to a noise frequency of 40/14 = 2.9 MHz. If we connect the boards to the shapers, some additional peaks appear, plus

\begin{table}
\begin{tabular}{|c|c|c||c|c|c|} \hline \hline Chn. & run 1 601 3 & run 16014 & Chn. & run 1 601 3 & run 16014 \\ \hline \hline
1 & 1.17 & 1.17 & 13 & 1.32 & 1.27 \\ \hline
2 & 1.48 & 0.98 & 14 & 1.89 & 1.37 \\ \hline
3 & 1.74 & 1.08 & 15 & 1.30 & 1.33 \\ \hline
4 & 1.40 & 1.14 & 16 & 1.12 & 1.18 \\ \hline
5 & 1.06 & 1.12 & 17 & 1.22 & 1.22 \\ \hline
6 & 1.22 & 0.99 & 18 & 1.02 & 1.00 \\ \hline
7 & 1.39 & 1.06 & 19 & 1.12 & 0.99 \\ \hline
8 & 1.03 & 1.07 & 20 & & \\ \hline
9 & 1.46 & 1.21 & 21 & 1.23 & 1.13 \\ \hline
10 & 1.28 & 1.11 & 22 & 1.34 & 1.30 \\ \hline
11 & 1.34 & 1.06 & 23 & 1.20 & 1.07 \\ \hline
12 & 1.03 & 0.91 & 24 & 1.32 & 1.13 \\ \hline \end{tabular}
\end{table}
Table 11: Variation on the noise observed when moving away the VIC cable from the tal readout boards.

some broad bands. These peaks and bands must be due to the pick-up noise and to the noise sent by the shaper itself. It is interesting to note that the peaks are at frequencies around 5 and 10 MHz, because 40 MHz (the clock frequency) is an harmonic of these two frequencies.

If we look at the phases, we notice that when nothing is connected to the boards, the mean phase is about zero, indicating that all the Fourier components are uncorrelated with the clock. If the cables are connected, we see that the phase is non-zero for the peaks at 10 or 5 MHz. This is a strong indication that we are in fact picking up the signal of our own clock generator. This pick-up noise must enter through the shaper cables, since when they are not connected, this 10 and 5 MHz noise peaks are not observed.

Figure 5: Power spectrum of pedestals, shapers connected to the readout boards, shaper crate on (run 16006) Units are MHz on the x axis, and are arbitrary on the y axis

Figure 6: Power spectrum of pedestals, shapers connected to the readout boards, shaper crate on (run 16006) Units are MHz on the x axis, and are arbitrary on the y axis

Figure 7: Phase spectrum of pedestals, shapers connected to the readout boards, shaper crate on (run 1 6006)

Figure 8: Phase spectrum of pedestals, shapers connected to the readout boards, shaper crate on (run 1 6006)

### Correlation between channels

We have also checked wether there were correlations between two different channels. This is useful to gain some insight on the structure of the noise over the whole system at a given time, i.e. to see wether the noise is coherent or not. We have computed the correlation coefficients between the frame \(F(i,t)\), and \(F(j,t-n\times\tau)\) for any couple of channels \(i\) and \(j\), and for \(n\) between -10 and 10 (\(\tau\) is equal to 25 ns).

We have first done the study for run 16001, where nothing was connected to the boards. In these conditions we expect to see the structure of the intrinsic noise of the readout system. Since the number of plots generated by this analysis is very huge, we give here only a few examples, and we will summarize the observations. As one can see on figure 9, the correlation coefficients are significantly away from 0, and they alternate between positive and negative values. This can be interpreted as evidence that the intrinsic noise is indeed coherent, all channels being correlated. Furthermore, the correlation has a very clear time structure, indicating that this coherent noise is of oscillating nature. It appears also that the time structure is not the same for all channels, but there is a clear periodic time structure for all the correlation coefficients.

When the readout boards get connected to the shaper crates (run 16006, figure 10), the results changes somewhat. This time the correlation coefficients are much smaller. In comparison to the previous case, the long-range time structure of the correlation coefficients is still present, but less striking. So here, we can conclude that the dominant noise is incoherent. However, there is still a coherent component (at least, there is the intrinsic noise, that we found just before to be essentially coherent). It is interesting to note that the correlation coefficients are highest for correlations between two low-gain channels. (See figure 10, and compare plot labelled (1,15) with others). This could be due to the fact that the total noise is higher in the case of high-gain channels, and that this noise is mostly incoherent. Since for run 16006 (digital readout boards connected to the shapers), the correlation coefficients are smaller than for run 16001 (nothing connected to the boards), we conclude that most of the noise that comes in when the shapers get connected is incoherent. It is interesting to notice that the technique we have use here could be used to extract precisely what amount of coherent noise has been added by the fact that the shapers got connected to the readout board. This however requires some further thinking.

Figure 9: Correlation coefficient between some channel pairs, as a function of \(n\) (see text for definition of \(n\)), for run 1 6001

Figure 10: Correlation coefficient between some channel pairs, as a function of \(n\) (see text for definition of \(n\)), for run 16006

[MISSING_PAGE_EMPTY:25]