# Comparison of ATLAS and CMS \(t\bar{t}\) Monte Carlo simulation

The ATLAS and CMS Collaborations

Work within the LHC top physics working group (LHC-TOP-WG), More information at

[https://twiki.cern.ch/twiki/bin/view/LHCPhysics/LHCTopWG](https://twiki.cern.ch/twiki/bin/view/LHCPhysics/LHCTopWG).

This is a collection of plots comparing Monte Carlo simulation of \(tt\) events by the ATLAS and CMS experiments. A preliminary exercise was undertaken for each experiment to produce Monte Carlo samples using the other experiments' simulation settings within their own software framework. A preliminary comparison of the two experiments' nominal samples was also made. These plots focus on the nominal settings used for each experiment, which consist of interfacing the Powheg-Box-v2 implementation of the HVQ process [1, 2, 3] with Pythia 8 [4] (version 8.230) using the respective ATLAS [5, 6] and CMS [7, 8] experimental tunes. The nominal ATLAS setup also includes decaying of heavy flavour hadrons with EvtGen [9, 10] (version 1.6.0), which is not used in CMS.

After the succesful production of Monte Carlo events using each experiments' nominal settings, the nominal settings have been compared, and several variations have been tested. In particular variations include combining ATLAS Powheg settings with CMS Pythia settings and vice versa. This allows some insight into the sources of differences between the nominal samples. A variation was also produced using the ATLAS settings but without using EvtGen in order to assess its impacts on the distributions considered here. Comparisons are made at stable particle level using Rivet [11] (version 2.5.4) and the publicly available MC_TTBAR analysis provided with it.

The Rivet analysis creates plots of several kinematic distributions with slightly varying event selections described below. All objects considered must lie in the psuedorapidity range \(|\eta|<4.2\). Jets are clustered with the Anti-\(k_{T}\) algorithm using a radius parameter \(R=0.6\). \(b\)-jets are idetified as those which have at least one \(b\)-hadron matched to the jet by ghost association, jets with no ghost associated \(b\)-hadrons are called light flavour jets. Charged leptons include only electrons and muons, and are required to have \(p_{T}>30\) GeV.

Distributions are shown for several different sets of selection criteria as described below. Each selection selects a subset of the events included in the previous selection.

**Loose Event Selection**: The only event requirements for this selection are that the event contain at least one charged-lepton, more than 30 GeV of missing transverse energy, and at least 4 jets of any \(p_{T}\) and flavour. Plots of the jet \(p_{T}\) use this selection. Plots of the jet multiplicity and the jet \(H_{T}\) use this selection but include only jets with \(p_{T}>30\) GeV.

**Full Jet Selection**: This selection includes further requirements on the jet transverse momenta and flavours. The event must have at least 1 jet with \(p_{T}>60\) GeV, at least two jets with \(p_{T}>50\) GeV, and at least 4 jets with \(p_{T}>30\) GeV. These jets are required to be isolated from leptons with \(\Delta R(\mathrm{j},\ell)>0.3\). At least 2 light-flavour jets, and 2 \(b\)-jets with \(p_{T}>30\) GeV must be in the event.

Plots with jets which indicate their flavour are made with this more restrictive selection. Plots of the W-boson mass are also made with this selection criteria. The hadronic W-boson candidate is taken as the pair of light jets with an invariant mass closest to 80.4 GeV.

**W-mass Selection**: This selection includes the requirement that the reconstructed W mass is between 75 and 85 GeV. Plots of the top quark mass use this selection. The top quark mass is reconstructed from the \(W\) candidate and each of the two highest \(p_{T}\)\(b\)-jets in the event, both mass values are included in the histogram.

Results are intended to be shown at the LHC Top Working group Open Meeting in May 2019 in order to report on the technical ability to reproduce each experiments' samples and to briefly compare and contrast the simulation setups.

Figure 1: Comparison of nominal ATLAS and CMS settings for NLO Monte Carlo simulation of \(t\bar{t}\) events using Powheg-Box matched with Pythia 8. Plots show the distributions of the (a) leading jet transverse momentum, (b) second-leading jet transverse momentum, (c) scalar sum of jet momenta, and (d) jet multiplicity. Only events which pass the loose event selection criteria, requiring a charged lepton with \(p_{T}>30\) GeV, and \(>30\) GeV of missing transverse energy are included in the distributions. The jet multiplicity and \(H_{T}\) distributions only include jets with \(p_{T}>30\) GeV. The ATLAS event simulation includes the use of EvtGen for heavy flavour hadron decays. EvtGen is not used in the CMS sample. Only statistical uncertainties are shown, they are indicated by the yellow band for the reference distribution, and by uncertainty bars for all other distributions.

Figure 2: Comparison of nominal ATLAS and CMS settings for NLO Monte Carlo simulation of \(t\bar{t}\) events using Powheg-Box matched with Pythia 8. Plots show the distributions of (a) the pseudorapidity difference between the leading \(b\)-jet and hadronic W-boson candidate, (b) \(\Delta R\) between the leading b-jet and lepton, (c) \(\Delta R\) between the leading \(b\)-jet and light-jet, (d) \(\Delta R\) between the two leading light-jets. Only events which pass an event selection criteria consistent with \(t\bar{t}\) events in the lepton+jets final state, including the full jet selection criteria described in the text are included. The ATLAS event simulation includes the use of EvtGen for heavy flavour hadron decays. EvtGen is not used in the CMS sample. Only statistical uncertainties are shown, they are indicated by the yellow band for the reference distribution, and by uncertainty bars for all other distributions.

Figure 3: Comparison of nominal ATLAS and CMS settings for NLO Monte Carlo simulation of events using Powheg-Box matched with Pythia 8. Plots show the distributions of the reconstructed masses of (a) the hadronically-decaying W-boson candidate, and (b) the hadronically decaying top quark candidates. Events are required to pass event selection criteria designed to select lepton + jets events, including the full jet selection criteria as described in the text. The boson mass is reconstructed from the two light-flavour jets with invariant mass closest to 80.4 GeV. The top quark mass is only reconstructed for events where the mass is between 75 and 85 GeV; it is reconstructed for both combinations of the hadronic W with the two highest b-jets in the event. The ATLAS simulation includes the use of EvtGen for the decay of heavy flavour hadrons. EvtGen is not used in the CMS sample. Only statistical uncertainties are shown, they are indicated by the yellow band for the reference distribution, and by uncertainty bars for all other distributions.

Figure 4: Comparison of ATLAS and CMS settings for NLO Monte Carlo simulation of events using Powheg-Box matched with 8. ATLAS and CMS settings for Powheg-Box and Pythia 8 are mixed and matched, showing each of four possible combinations. Plots show the distributions of the reconstructed masses of (a) the hadronically-decaying W-boson candidate, and (b) the hadronically decaying top quark candidates. Events are required to pass event selection criteria designed to select lepton + jets events, including the full jet selection criteria as described in the text. The W boson mass is reconstructed from the two light-flavour jets with invariant mass closest to 80.4 GeV. The top quark mass is only reconstructed for events where the W mass is between 75 and 85 GeV; it is reconstructed for both combinations of the hadronic W with the two highest b-jets in the event. The ATLAS Settings include the use of EvtGen for heavy flavour hadron decays. EvtGen is not used in the CMS Settings. Only statistical uncertainties are shown, they are indicated by the yellow band for the reference distribution, and by uncertainty bars for all other distributions.

Figure 5: Comparison showing the impact of EvtGen usage in NLO Monte Carlo simulation of \(t\bar{t}\) events in ATLAS simulation samples and compared to a nominal CMS sample (which does not include EvtGen) for reference. Both ATLAS and CMS use Powheg-Box interfaced with Pythia 8 for their nominal \(t\bar{t}\) simulation setups. Plots show the distributions of the (a) leading jet transverse momentum, (b) second-leading jet transverse momentum, (c) scalar sum of jet momenta, and (d) jet multiplicity. Only events which pass the loose event selection criteria, requiring a charged lepton with \(p_{T}>30\) GeV, and \(>30\) GeV of missing transverse energy are included in the distributions. The jet multiplicity and \(H_{T}\) distributions only include jets with \(p_{T}\) > 30 GeV. Only statistical uncertainties are shown, they are indicated by the yellow band for the reference distribution, and by uncertainty bars for all other distributions.

\begin{table}
\begin{tabular}{c c c c} \hline \hline Setting Name & Setting description & CMS default & ATLAS default \\ \hline qmass & top-quark mass [GeV] & 172.5 & 172.5 \\ twidth & top-quark width [GeV] & 1.31 & 1.32 \\ hdamp & first emission damping parameter [GeV] & 237.8775 & 258.75 \\ \hline wmass & \(W^{\pm}\) mass [GeV] & 80.4 & 80.3999 \\ wwidth & \(W^{\pm}\) width [GeV] & 2.141 & 2.085 \\ \hline bmass & \(b\)-quark mass [GeV] & 4.8 & 4.95 \\ cmass & \(c\)-quark mass [GeV] & 1.5 & 1.55 \\ smass & \(s\)-quark mass [GeV] & 0.2 & 0.5 \\ dmass & \(d\)-quark mass [GeV] & 0.1 & 0.32 \\ umass & \(u\)-quark mass [GeV] & 0.1 & 0.32 \\ \hline taumass & \(\tau\) mass [GeV] & 1.777 & 1.777 \\ mumass & \(\mu\) mass [GeV] & 0.1057 & 0.1057 \\ emass & \(e\) mass [GeV] & 0.00051 & 0.00051 \\ \hline elbranchin & \(W\)-boson electronic branching fraction & 0.108 & 0.1082 \\ sin2cabibbo & quark mixing angle & 0.051 & 0.051 \\ \hline \hline \end{tabular}
\end{table}
Table 1: Powheg-Box settings used in the ATLAS and CMS default Monte Carlo event generation setups for \(t\bar{t}\) production. Only a subset of settings are shown, highlighting differences between the ATLAS and CMS settings.

\begin{table}
\begin{tabular}{c c c c c} \hline \hline Setting Name & Setting description & CMS default & ATLAS default & Pythia \& default \\ \hline \hline
**POWHEG** & Parameters for matching to POWHEG matrix element calculations & & & \\ \hline pTdef & Flag for hardness criterion (Powheg vs Pythia ) & 1 & 2 & 0 \\ emitted & Flag for defining emissions & 0 & 0 & 0 \\ pTemt & Flag for which partons are used to define POWHEG hardness criteria & 0 & 0 & 0 \\ pThard & Flag for how to calculate POWHEG hardness criteria & 0 & 0 & 0 \\ vetoCount & How many emissions vetoed showers checks after first allowed emission & 100 & 3 & 3 \\ nFinal & Number of outgoing particles for benel process & 2 & 2 & 2 \\ veto & Flag for vetoed or unvored showers & 1 & 1 & 0 \\ MPIveto & Flag for applying veto to Multi Parton Interactions & NA & 0 & 0 \\ \hline \hline
**TimeShower** & Final State Radiation Parameters & & & \\ \hline mMaxGamma & Maximum invariant mass for \(\gamma\to f\bar{f}\) & 1.0 & NA & 10 \\ alphaSorder & Order of running for \(\alpha_{s}\) & 2 & NA & 1 \\ alphaSvalue & Value of \(\alpha_{s}\) at \(Z\) mass scale & 0.118 & 0.127 & 0.1365 \\ pTmaxMatch & Flag for setting maximum shower scale algorithm & 2 & 2 & 1 \\ \hline \hline
**SpaceShower** & Initial State Radiation Parameters & & & \\ \hline alphaSorder & Order of running for \(\alpha_{s}\) & 2 & NA & 1 \\ alphaSvalue & Value of \(\alpha_{s}\) at \(Z\) mass scale & 0.118 & 0.127 & 0.1365 \\ pTmaxMatch & Flag for setting maximum shower scale algorithm & 2 & 2 & 0 \\ rapidlyOrder & Force emissions to be ordered in rapidity & on & on & on \\ rapidlyOrderMPI & Force emissions in secondary scatterings to be ordered in rapidity & NA & on & on \\ pT0Ref & Reference \(p_{T}\) scale for regularizing soft QCD emissions & NA & 1.56 & 2 \\ pTmaxFudge & Multiplication factor for pTMaxMatch in some instances & NA & 0.91 & 1 \\ pTdampFudge & Multiplication factor for pTDamping scale for high-\(p_{T}\) emissions & NA & 1.05 & 1 \\ \hline \hline
**MPI** & Multi-Parton Interaction Parameters & & & \\ \hline alphaSorder & Order of running for \(\alpha_{s}\) & 2 & NA & 1 \\ alphaSvalue & Value of \(\alpha_{s}\) at \(Z\) mass scale & 0.118 & 0.126 & 0.130 \\ ecmPow & Exponent control kinematic dependence of pT0 & 0.03344 & NA & 0.215 \\ bprofile & impact parameter profile choice flag for hadron beams & 2 & NA & 3 \\ coreRadius & Inner radius of core when using bprofile = 2 & 0.7634 & NA & 0.4 \\ coreFraction & Matter content fraction of core when using bprofile = 2 & 0.63 & NA & 0.5 \\ pT0ref & Reference \(p_{T}\) scale for regularizing soft QCD emissions & 1.41 & 2.09 & 2.28 \\ \hline \hline
**BeamRemnants** & & & & \\ \hline primordialkThard & Parameter controlling \(k_{T}\) of beam remnant initiators & NA & 1.88 & 1.8 \\ \hline \hline
**ColourReconnection** & & & & \\ \hline range & Parameter controlling colour reconnection probability & 5.176 & 1.71 & 1.8 \\ \hline \hline
**ParticleDecays** & Particle Decay Settings & & & \\ \hline limitTau0 & Only decay particles with lifetimes below \(\tau_{0,max}\) & on & on & off \\ tau0Max & & 10 & 10 & 10 \\ allowPhotonRadiation & Allow photon radiation in decays to lepton pairs & on & NA & off \\ \hline \hline \end{tabular}
\end{table}
Table 2: Pythia 8 (version 8.230) settings used in the ATLAS and CMS default Monte Carlo event generation setups for \(t\bar{t}\) production. The ATLAS settings use the A14 tune [5] and use the NNPDF 2.3 LO pdf set [12]. CMS settings are of the CP5 tune [7] and use the NNPDF3.1 NNLO pdf set [13]. Only a relevant subset of all Pythia settings are shown here. By default ATLAS also uses EvtGen for the decay of heavy flavoured hadrons, whereas in the CMS simulation all decays are performed by Pythia. ’NA’ stands for ”Not Applied” and reflects the case where default Pythia 8 value is being used.

## References

* [1] S. Frixione, P. Nason and G. Ridolfi, _A positive-weight next-to-leading-order Monte Carlo for heavy flavour hadroproduction_, 09 (2007) 126, arXiv: 0707.3088 [hep-ph].
* [2] S. Alioli, P. Nason, C. Oleari and E. Re, _A general framework for implementing NLO calculations in shower Monte Carlo programs: the POWHEG BOX_, JHEP **1006** (2010) 043, arXiv: 1002.2581 [hep-ph].
* [3] S. Frixione, G. Ridolfi and P. Nason, _A positive-weight next-to-leading-order Monte Carlo for heavy flavour hadroproduction_, Journal of High Energy Physics **2007** (2007) 126, url: [https://doi.org/10.1088%2F1126-6708%2F2007%2F09%2F126](https://doi.org/10.1088%2F1126-6708%2F2007%2F09%2F126).
* [4] T. Sjostrand, S. Mrenna and P.Z. Skands, _A Brief Introduction to PYTHIA 8.1_, Comput. Phys. Commun. **178** (2008) 852, arXiv: 0710.3820 [hep-ph].
* [5]_ATLAS Run 1 Pythia8 tunes_, tech. rep. ATL-PHYS-PUB-2014-021, CERN, 2014, url: [http://cds.cern.ch/record/1966419](http://cds.cern.ch/record/1966419).
* [6]_Improvements in \(t\bar{t}\) modelling using NLO+PS Monte Carlo generators for Run2_, tech. rep. ATL-PHYS-PUB-2018-009, CERN, 2018, url: [https://cds.cern.ch/record/2630327](https://cds.cern.ch/record/2630327).
* [7] CMS Collaboration, _Extraction and validation of a new set of CMS PYTHIA8 tunes from underlying-event measurements_, Submitted to EPJC (), arXiv: 1903.12179 [hep-ex].
* [8]_Investigations of the impact of the parton shower tuning in Pythia 8 in the modelling of \(t\bar{t}\) at \(\sqrt{s}=8\) and 13 TeV_, tech. rep. CMS-PAS-TOP-16-021, CERN, 2016, url: [https://cds.cern.ch/record/2235192](https://cds.cern.ch/record/2235192).
* [9] D. J. Lange, _The EvtGen particle decay simulation package_, Nuclear Instruments and Methods in Physics Research Section A: Ac clearators, Spectrometers, Detectors and Associated Equipment **462** (2001) 152, BEAUTY2000, Proceedings of the 7th Int. Conf. on B-Physics at Hadron Machines, issn: 0168-9002, url: [http://www.sciencedirect.com/science/article/pii/S0168900201000894](http://www.sciencedirect.com/science/article/pii/S0168900201000894).
* [10]_Comparison of Monte Carlo generator predictions for bottom and charm hadrons in the decays of top quarks and the fragmentation of high pT jets_, tech. rep. ATL-PHYS-PUB-2014-008, CERN, 2014, url: [https://cds.cern.ch/record/1709132](https://cds.cern.ch/record/1709132).
* [11] A. Buckley et al., _Rivet user manual_, Comput. Phys. Commun. **184** (2013) 2803, arXiv: 1003.0694 [hep-ph].
* [12] J. R. Stefanna Carazza Stefano Forte, _Parton Distributions and Event Generators_, arXiv (), url: [https://arxiv.org/abs/1311.5887](https://arxiv.org/abs/1311.5887).
* [13] R. D. Ball et al., _Parton distributions from high-precision collider data_, The European Physical Journal C **77** (2017) 663, issn: 1434-6052, url: [https://doi.org/10.1140/epjc/s10052-017-5199-5](https://doi.org/10.1140/epjc/s10052-017-5199-5).