# Test-beam measurement of the detection efficiency of

ATLAS Pixel production modules

Gianluca Alimonti\({}^{6)}\), Attilio Andreazza\({}^{6)}\), Magdalena Bazalova\({}^{8)}\), Roberto Becherle\({}^{4)}\),

Patrick Breugnon\({}^{2)}\), Delia Brueser\({}^{9)}\), Diego Cauz\({}^{10)}\), Jean-Claude Clemens\({}^{2)}\),

Marina Cobal-Grassmann\({}^{10)}\), Daniel Dobos\({}^{3)}\), Kevin Einsweiler\({}^{5)}\), Tobias Flick\({}^{11)}\),

Guido Gagliardi\({}^{4)}\), Claudia Gemme\({}^{4)}\), Peter Gerlach\({}^{11)}\), Igor Gorelov\({}^{7)}\),

Joern Grosse-Knetter\({}^{1)}\), Fabian Huegging\({}^{1)}\), Martin Imhauser\({}^{11)}\), Susanne Kersten\({}^{11)}\),

Reiner Klingenberg\({}^{3)}\), Markus Kuhn\({}^{9)}\), Tommaso Lari\({}^{6)}\), German Martinez\({}^{1)}\),

Martin Mass\({}^{3)}\), Frank Massmann\({}^{1)}\), Andrea Matera\({}^{6)}\), Markus Mathes\({}^{1)}\),

Chiara Meroni\({}^{6)}\), Paolo Morettini\({}^{4)}\), Dmitriy Naumov\({}^{7)}\), Polina Netchaeva\({}^{4)}\),

Francesco Ragusa\({}^{6)}\), John Richardson\({}^{5)}\), Leonardo Rossi\({}^{4)}\), Alexandre Rozanov\({}^{2)}\),

Lorenzo Santi\({}^{10)}\), Carlo Schiavi\({}^{4)}\), Joachim Schultes\({}^{11)}\), Petr Sicho\({}^{8)}\), Thorsten Stahl\({}^{9)}\),

Duc Bao Ta\({}^{1)}\), Daniel Tieman\({}^{1)}\), Lukas Tomasek\({}^{8)}\), Clara Troncon\({}^{6)}\), Sven Vahsen\({}^{5)}\),

Jan Valenta\({}^{8)}\), Joe Virzi\({}^{5)}\), Vaclav Vrba\({}^{8)}\), Jens Weingarten\({}^{1)}\)

###### Abstract

Beam tests of ATLAS Pixel Detector production modules were performed with a pion beam at the SPS H8 test beam facility. Several of the modules had been previously irradiated with protons to the fluence of \(2\times 10^{15}\)p cm\({}^{-2}\), corresponding to \(10^{15}\) n\({}_{\rm eq}\)cm\({}^{-2}\). This note presents measurements of detection efficiency performed in 2004 on one not irradiated and seven irradiated modules. The efficiency was studiedas a function of the operating bias voltages and for different incidence angles. The unirradiated module has an extremely good detection efficiency. A value of 99.9% was measured at normal incidence. Irradiated detectors have an average efficiency of 97.8% at the standard operating bias voltage of 600 V. The timing uniformity across the different types of pixel cells (standard, long and ganged pixels) and between the sixteen front-end readout chips was also studied and found to be better than 2 ns. The effects of hit duplication on the detection efficiency, the spatial resolution and the pixel occupancy were also studied.

Introduction

The tracking efficiency and flavor tagging performances of the ATLAS Inner Tracker depend crucially on the detection efficiency of the pixel modules, in particular those of the innermost layer (B-layer). The presence of a hit in the B-layer increases dramatically the quality of particle tracks, improving the resolution on the track impact parameter and thus the \(b\)-tagging performances. At the time of the Inner Detector Technical Design Report [1, 2], the goal was a detection efficiency of 97% for a detector irradiated to a fluence of \(10^{15}\) n\({}_{\rm eq}\)cm\({}^{-2}\). Such a fluence will be accumulated by the B-layer modules in three years of data-taking at the LHC design luminosity.

After an intense R & D program, of which beam tests were critical to understanding and improving Pixel Detector designs [3, 4, 5], seven years later, in 2004, the final Pixel Detector production modules were tested with a pion beam in the SPS H8 area. Several of them had been previously irradiated with protons to the design fluence before the test-beam. In this note we report the results of the analysis of 2004 test beam data, with particular emphasis on the measurement of the detection efficiency.

The paper is organized as follows. In Section 2 the test-beam setup and tested devices are described. In Section 3 the analysis strategy is described. In Section 4 the results are presented and discussed.

## 2 Tested devices and test beam setup

### ATLAS Pixel detector modules

The ATLAS Pixel detector modules [2, 6, 7, 8, 9] are described in detail elsewhere. Here a brief description of the aspects relevant for the analysis described in this note is given.

A module is composed by a \(n^{+}/n\) diffusion oxygenated silicon sensor [3, 5], 16 readout rad-hard electronics chips using 0.25 \(\mu\)m technology [10, 11, 12], and a flexible hybrid supporting a Module Controller Chip (MCC) [13], signal interconnection and power distribution lines and passive components such as temperature sensors, resistors and capacitors.

The sensor has an active area of \(16.4\times 60.8\) mm\({}^{2}\) and a thickness of 250 \(\mu\)m. The pixel implants have a pitch of \(50\times 400\)\(\mu\)m\({}^{2}\) and are connected via bump-bonding to matching cells in the read-out chip, each featuring an electronics chain. Sensors and front-end chips are interconnected via bump bonding made by using one of two technologies (solder [14] or indium [15] bonds). A region of width 400 \(\mu\)m at the borders between chips is not covered by readout cells. Complete coverage in the direction corresponding to the long side of the pixel cell is achieved by increasing the length of the sensor pixels read out by the first and last column of each chip to 600 \(\mu\)m (long pixels). In the direction corresponding to the short side of the pixel cell, the pixels in the gap (4 rows for each chip) which are not bump-bonded to the electronics are connected to sensor pixels a few rows away (which are connected). Such pixel cells are called ganged pixels. Both ganged and long pixel cells have a larger electrical capacity than normal pixels.

In each front-end chip [10, 11, 12], 2880 channels are arranged into 18 columns by 160 rows. The chip is operated with a 40 MHz clock. One clock cycle thus corresponds to one LHC bunch crossing. Each channel is equipped with its own 7-bit DAC for channel-to-channel threshold adjustments, thus a means of overall dispersion reduction is provided. At the test beam the thresholds of the individual channels were tuned to about 4000 e\({}^{-}\) achieving a threshold dispersion below 200 e\({}^{-}\) rms. An 8-bit charge measurement capability is provided using time-over-threshold (TOT). The available dynamical range is set by the time between the physical event and the readout of pixel data (Level-1 trigger latency). In ATLAS this is anticipated to be about 130 bunch crossings. The charge-sensitive preamplifiers feature a DC feedback scheme with a tunable current providing control over the shaping time for a given input charge. A discrimination stage sits behind the preamplifier in each channel which is sensitive to the leading edge (LE) and trailing edges (TE) of pulses.

When the charge induced on the pixel electrode is low, the signal reaches the discriminator threshold later, so that the hit may be assigned to the wrong clock period. Fig. 1[11] shows the time slewing mechanism (or time-walk) when the input charge tends to the threshold. Smaller signals are detected later and may be assigned to the wrong following bunch crossing period and therefore be lost through mis-association. The minimum signal which must be induced on a pixel electrode for the hit to be associated to the correct clock period is thus larger than the discriminator threshold and is known as in-time threshold. In order to reduce the hit losses due to the time-walk, an option is provided, to generate a duplicate hit with a time stamp lower of one unit when the TOT is below a tunable threshold.

### Irradiations

Assembled modules were irradiated at the CERN PS using 24 GeV/\(c\) protons. The irradiation fluence was \(2\times 10^{15}\) cm\({}^{-2}\), corresponding to a 1 MeV neutron equivalent fluence of \(1\times 10^{15}\) cm\({}^{-2}\) and a dose of 500 kGy. The detectors were biased during irradiation. During subsequent storage and test beam operation the modules were cooled to -7\({}^{\circ}\) or below.

### Test beam setup and data set

The test beam was performed at the CERN SPS using a pion beam of 180 GeV/\(c\) momentum. The analysis presented here refers to the 2004 data taking. Two beam telescopes were available. The pixel telescope was composed of 8 planes of ATLAS Pixel sensors sized to be connected to a single front-end electronics chip each. The BAT telescope was composed of 4 planes of double-side microstrip detectors [16]. For the analysis presented here, the particles tracks were reconstructed with the BAT telescope, which provides a resolution of about 6 \(\mu\)m in the plane transverse to the beam.

The trigger was provided by the coincidence of two scintillators. Upon every trigger, eight consecutive trigger signals were sent to the modules for readout. The beam particles were asynchronous with respect to the clock operating the chips, but a TDC measured the phase between the trigger and the edge of the clock distributed to the modules.

At any given time, four silicon pixel modules were placed in the beam. They were kept in a cold box where nitrogen cooling maintained a temperature of about -7\({}^{\circ}\) on the

Figure 1: Time slewing mechanism.

modules. The temperature was monitored during the data taking.

The four modules had the same orientation, with the short side of the pixel cell in the horizontal plane. The following system of coordinates was used: the \(z\) axis was along the beam, the \(x\) direction was horizontal and the \(y\) direction was vertical. The modules could be rotated around a vertical axis (i.e., in the \(xz\) plane).

A total of eight ATLAS Pixel production modules were tested. Seven of them were irradiated.

Some data were taken also with a high intensity beam, in order to study the efficiency of the readout architecture when the particle rate was comparable to that expected for the B-layer at high luminosity. Because of the high particle flux, the scintillator trigger was not available and the BAT telescope could not be used. Data were taken with a random trigger and tracks were reconstructed with the pixel modules. The analysis of the high intensity data is reported separately [17].

## 3 Event reconstruction and analysis

The clustering of both pixel and microstrip hits, the track reconstruction, the alignment of the microstrip telescope and pixel detector modules and the event building were performed by the program \(h8\), which is described in detail in Ref. [18]. Tracks were reconstructed using information from the telescope microstrip detectors only, in order to have unbiased extrapolation to the pixel detectors under test. Events were filtered with the requirement of one and only one track reconstructed by the silicon microstrip telescope in each event. Tracks were required to extrapolate to a fiducial region inside the pixel sensors (at least 40 \(\mu\)m from the edges of the detector). In addition, only events with a track fitting probability greater than 0.02 were kept.

For each selected event, the intersection of the trajectory of the beam particle with the pixel detector was calculated. As described in [19] events were then divided into four classes:

* no cluster was found (missing clusters)
* a cluster was found near the extrapolated point in the expected bunch crossing (good clusters)
* a cluster was found near the extrapolated point but not in the expected bunch crossing (timing losses).
* a cluster was found far from the extrapolated bunch crossing (tracking losses).

The width of the window used to associate a cluster to a track was \(\pm 0.2\) mm in the \(x\) direction and \(\pm 0.4\) mm in the \(y\) direction.

The dependence of the results on the level-1 time stamp and phase provided by the TDC allows to compute the efficiency as a function of time. The time associated to each cluster was computed as \(t=t_{0}+n\times 25\) ns where \(t_{0}\) is the TDC phase between the trigger and the edge of the clock operating the modules, and \(n\) is the bunch crossing ID associated to the earliest hit of the cluster.

The efficiency curve for the un-irradiated module at normal incidence is shown in Fig. 2. In order to fit the curve we assumed an exponential distribution for the time of arrival of the first pixel in the cluster after the trigger. That results in the following dependence for the in-time efficiency as a function of the phase between the event (or "beam crossing") and the clock edge:\[\text{efficiency}=\left\{\begin{array}{cc}0&t<t_{0}\\ \epsilon(1-e^{-(t-t_{0})/\tau})&t_{0}<t<t_{0}+25\;\text{ns}\\ \epsilon(e^{-(t-t_{0}-25\text{ns})/\tau}-e^{-(t-t_{0})/\tau})&t>t_{0}+25\;\text{ ns}\end{array}\right. \tag{1}\]

where \(t\) is the time of the clock edge, \(t_{0}\) is the beam crossing time, \(\tau\) the constant of the exponential, and \(\epsilon\) the maximum asymptotic efficiency. The above function has been convoluted with a gaussian distribution of standard deviation \(\sigma\), to account for the rounding of upward and downward corners.

The resulting function fits the efficiency curve very well (Fig. 2). The plateau size represents the range of time delays between the machine clock and the clock operating the pixel modules for which the maximum efficiency can be mantained. It can be estimated as \(25\;\text{ns}+\tau\times\log(1-\epsilon)-3\sigma\).

#### 3.0.1 Treatment of noise

Very noisy pixels, if any, were masked in the front-end chip configuration file at the test beam. This introduces an inefficiency which is included in the 0-cluster class.

A few noisy pixel cells were also masked during the offline reconstruction [8, 20], using the following procedure. In Fig. 3 the distribution of the level-1 timestamp \(l\) of pixel hits is shown. The peak corresponds to the hits produced by the particle which has triggered the readout. In order to search for noisy pixel cells, hits with a level-1 far from the most probable value \(l_{0}\) (\(l<l_{0}-1\) or \(l>l_{0}+3\)) were selected. If a pixel cell contributed either to more than 3 times to these events or for a fraction larger than \(10^{-5}\) of the total number of events, then it was flagged as noisy and masked.

The track extrapolation was required to be at least 50 \(\mu\)m away from the pixel cells masked during the offline reconstruction. Thus the pixel cells masked by the offline reconstruction did not contribute to the efficiency. The number of noisy cells was however very small. With the procedure described above, only 2 noisy pixels were found in the not irradiated module, and a number ranging from 0 (for three modules) to 32 for the irradiated modules, except for module 510704 which has 129 noisy pixels, still only a

Figure 2: Detection efficiency as a function of particle time for the not irradiated module. The fitting function is superimposed. Data were taken at normal incidence.

fraction 0.3% of the total number of pixels.

## 4 Results

### Efficiency of irradiated and not irradiated detectors

A good detector should have a high value of \(\epsilon\), ensuring good detection efficiency, and a low value of \(\tau\) and \(\sigma\), ensuring that the maximum efficiency is reached for an acceptable range of clock phases. The not irradiated detector of Fig. 2 certainly qualifies as a good detector. The plateau efficiency is 99.90%. The rising time constant is \(\tau=0.7\) ns and the gaussian smearing \(\sigma=2.1\) ns which resulted in a plateau width of 14 ns.

In Fig. 4 the efficiency curve is reported for one module irradiated to a fluence of \(10^{15}\) n\({}_{\rm eq}\)cm\({}^{-2}\). The efficiency decreases to 98.23% which is still well above the ATLAS Pixel goal of 97%. The time constants are also slightly degraded by irradiation. The corresponding plateau width is 9 ns.

The summary of measurements performed on ATLAS Pixel production modules is reported in Table 1. All data were taken at normal incidence. The operating bias voltages were 150 V for not irradiated and 600 V for irradiated modules. The detection efficiency for the irradiated modules varied from a minimum of 96.4% to a maximum of 98.4%. The average and r.m.s of the efficiency values for the irradiated detectors are 97.8% and 0.7% respectively. No statistically significant difference is observed between the two sensor producers or the two bump-bonding techniques.

For each module, the efficiency losses due to 0 hits and to timing losses are reported separately. Two thirds of the efficiency losses are typically in the 0-hits class and the rest in the timing losses class. Losses due to tracking errors are always well below 0.1% and are not reported in the table. The values of the timing constants for the irradiated detectors are \(\tau=(1.6\pm 0.2)\) ns and \(\sigma=(3.0\pm 0.2)\) ns. The timing of irradiated modules is slower than for the not irradiated module. All irradiated modules have very similar timing constants. The width of the efficiency plateau for the irradiated detectors is \((9.7\pm 1.1)\) ns.

The origin of the efficiency losses in irradiated detectors is related to regions of poor charge collection. In the upper plot of Fig. 5 the sum of the charges measured by

Figure 3: Level-1 timestamp distribution of the pixel hits. The hits with a level1 far from the peak region (outside the coloured area) are used to tag noisy pixel cells.

\begin{table}
\begin{tabular}{||c|c|c|c|c|c|c|c|c||} \hline \hline module & 510332 & 510337 & 510689 & 510704 & 510823 & 510852 & 510910 & 510929 \\ \hline irradiated & YES & YES & YES & YES & YES & YES & YES & NO \\ sensor & ON & CIS & ON & CIS & CIS & CIS & CIS & CIS \\ bonding & indium & indium & indium & indium & solder & solder & indium & indium \\ efficiency (\%) & 97.7 & 98.4 & 96.4 & 98.2 & 98.4 & 98.0 & 97.4 & 99.9 \\
0 hits (\%) & 1.4 & 1.1 & 2.3 & 1.3 & 1.2 & 1.4 & 1.6 & 0.0 \\ late hits (\%) & 0.9 & 0.5 & 1.3 & 0.5 & 0.4 & 0.6 & 1.0 & 0.1 \\ \(\tau\) (ns) & 1.8 & 1.5 & 2.0 & 1.6 & 1.4 & 1.4 & 1.6 & 0.7 \\ \(\sigma\) (ns) & 3.2 & 3.2 & 3.3 & 3.1 & 3.0 & 2.7 & 2.8 & 2.1 \\ plateau (ns) & 8.6 & 9.2 & 8.5 & 9.3 & 10.2 & 11.4 & 10.8 & 13.9 \\ masked (\%) & 0.0 & 0.1 & 0.0 & 0.0 & 0.3 & 0.0 & 0.0 & 0.0 \\ \hline \end{tabular}
\end{table}
Table 1: Summary of the detection efficiency measurements performed at normal incidence with the standard bias voltage (150 V for not irradiated module and 600 V for the irradiated modules). The first row reports the module ID, the second whether it was irradiated before operation at the test beam, the third the producer of the sensor, the fourth the bump-bonding technique. The subsequent rows report the detection efficiency, the fraction of losses due to undetected particles, the time-walk losses, the timing constants, the width of the efficiency plateau and the fraction of noisy pixels (excluded from the efficiency analysis).

Figure 4: Detection efficiency as a function of particle time for the irradiated module 510704. The fitting function is superimposed. Data were taken at normal incidence.

the pixel cells (cluster charge) in the irradiated module 510704 is reported as a function of the distance (\(\delta y\)) of the track from the center of the pixel cell in the \(y\) direction. There is a region of poor charge collection in the region between columns, in particular for \(\delta y=-0.2\) mm. This is the region where the bias grid is located [5], a metallic line used to ground the pixel side of the sensor before connection to the front-end electronics, which is necessary for the quality controls performed on the sensors before bump-bonding. In the lower plot of Fig. 5 the position of the tracks with no pixel hit associated is reported. It is evident the correlation between the position of tracks with no hits and the region of reduced charge collection efficiency near the border of two pixels. In the \(x\) direction the collected charge and the detection efficiency are uniform.

### Timing studies

While the clock phase can be adjusted for each individual Pixel Detector module, the clock phase is the same for all the pixels of the module. Hence in order to achieve a good efficiency it is important that the timing differences (i.e. the spread of the \(t_{0}\) values of the efficiency curves) between different types of pixels (ganged, long and standard) and between the different front-end chips of a module is smaller than the width of the efficiency plateau.

In the off-line analysis, the efficiency curve was computed separately for each of the sixteen chips, in order to check the timing differences between the front-end chips. It was also computed separately for ganged, long and standard pixels, using the position of the track extrapolation.

In Fig. 6 the average time of a pixel hit is reported as a function of its charge, for an irradiated module. The effect of time-walk (hits with a lower charge are detected later) is evident. The figure also shows that there is no big difference between the timing of normal and long pixels while ganged pixels hits arrive later by a few ns. The efficiency curves reported in Fig. 7 confirms this finding.

Figure 5: Upper plot: mean collected charge as a function of the position of the track relative to the center of the nearest pixel cell, in the \(y\) direction, for the irradiated module 510704. Lower plot: position of the tracks which have no hit associated in the pixel detector. Data were taken at normal incidence, at a bias voltage of 150 V.

Figure 6: Average time of a pixel hit (with respect to the trigger time) as a function of its charge. Data were collected with the irradiated module 510852.

Figure 7: Detection efficiency as a function of the particle time for the irradiated module 510852.

The results of the efficiency fit are reported separately for the different types of pixel cells in Table 2. The difference between the timing of long and standard pixels is only 0.7 ns. The long pixels have a larger efficiency. This is in part due to the fact that while the pixel cell is longer by 50%, the area on which the charge efficiency reduction (Fig. 5) is observed is the same, so efficiency losses occur in a smaller percentage of the pixel cell area. Ganged pixels are slower by about 2 ns. This delay is comfortably smaller than the efficiency plateau. Hence it is possible to set the clock phase so that all types of pixels have an optimal efficiency. A similar behavior was observed for all the other irradiated modules. The timing differences between different types of pixels were also similar for the not irradiated module (the efficiency of course was higher).

The results of the module scan study are reported in Table 3. The efficiency and timing values are similar for all the front-end chips. The maximum difference of the timing values is 1.7 ns, which is again much smaller than the efficiency plateau width.

### Efficiency at 10 degrees incidence angle and with hit duplication.

When the particles traverse the detector at an angle, the charge released in the sensor is spread over a larger area and is usually divided between more than a pixel cell.

\begin{table}
\begin{tabular}{||c|c|c|c||} \hline  & standard & long & ganged \\ \hline \(\epsilon\) (\%) & 98.0 & 99.1 & 97.7 \\ \(t_{0}\) (ns) & 11.7 & 12.4 & 13.7 \\ \(\tau\) (ns) & 1.4 & 1.3 & 1.4 \\ \(\sigma\) (ns) & 2.6 & 2.7 & 2.8 \\ plateau (ns) & 11.7 & 10.8 & 11.3 \\ \hline \end{tabular}
\end{table}
Table 2: Detection efficiency and timing parameters measured for different types of pixels and for the irradiated module 510852.

\begin{table}
\begin{tabular}{||c|c|c|c|c||} \hline  & \(\epsilon\) (\%) & \(t_{0}\) (ns) & \(\tau\) (ns) & \(\sigma\) (ns) \\ \hline chip 0 & 98.2 & 11.4 & 1.2 & 2.5 \\ chip 1 & 98.3 & 11.7 & 1.3 & 2.9 \\ chip 2 & 97.6 & 12.4 & 1.5 & 2.4 \\ chip 3 & 98.4 & 12.6 & 1.3 & 2.8 \\ chip 4 & 98.0 & 11.6 & 1.4 & 2.6 \\ chip 5 & 98.0 & 11.0 & 1.4 & 2.6 \\ chip 6 & 98.5 & 12.7 & 1.4 & 3.0 \\ chip 7 & 98.4 & 12.0 & 1.2 & 2.4 \\ chip 8 & 98.3 & 12.3 & 1.4 & 2.6 \\ chip 9 & 97.9 & 12.1 & 1.3 & 2.6 \\ chip 10 & 98.0 & 11.7 & 1.4 & 2.5 \\ chip 11 & 98.3 & 11.2 & 1.4 & 2.6 \\ chip 12 & 98.1 & 11.9 & 1.3 & 2.7 \\ chip 13 & 98.3 & 11.9 & 1.3 & 2.5 \\ chip 14 & 98.0 & 12.2 & 1.5 & 3.0 \\ chip 15 & 97.9 & 11.2 & 1.3 & 2.5 \\ \hline \end{tabular}
\end{table}
Table 3: Detection efficiency and timing parameters measured for different front-end electronics chips of the irradiated module 510852.

\begin{table}
\begin{tabular}{||c|c|c|c||} \hline module & 510852 & 510910 & 510929 \\ \hline \hline normal incidence, no hit dupl. & 98.0\% & 97.4\% & 99.9\% \\ \(10^{0}\), no hit dupl. & 98.4\% & 98.5\% & \(>\)99.93\% \\ \(10^{0}\) and hit dupl. for \(\text{ToT}<5\) & 98.3\% & 98.2\% & \(>\)99.94\% \\ \(10^{0}\) and hit dupl. for \(\text{ToT}<10\) & 98.4\% & 98.4\% & \(>\)99.94\% \\ \hline \end{tabular}
\end{table}
Table 4: Detection efficiency measured for the not irradiated module 510829 and the irradiated modules 510852 and 510910, at different incidence angles and with different hit duplication options.

Figure 8: Detection efficiency as a function of the particle time for the not irradiated module, at \(10^{0}\) incidence angle.

This has two competing effects on the detection efficiency:

* Because of charge sharing, each individual pixel has a lower signal. This increases the hit losses due to the time-walk.
* We have shown that at normal incidence most hit losses occur when the particle transverse the detector in a spatially limited region of the pixel cell. This region is close to the edge between two pixel cell, where the bias grid is located. In this region charge sharing occurs also at normal incidence because of diffusion, and the charge collection efficiency is low. When the particle incidence angle is of the order of \(10^{\circ}\) the charge released in the sensor is spread over a length much larger than the region with poor charge collection, so that the overall charge collection efficiency is higher.

The results presented below prove that the latter effect actually dominates so that efficiency is larger when the detectors are tilted.

The efficiency curve for the not irradiated module at \(10^{\circ}\) incidence angle is reported in Fig. 8. The fit gives a plateau efficiency of \((100.00\pm 0.03)\%\). The efficiency at \(0^{\circ}\) and \(10^{\circ}\) for the not irradiated and two irradiated modules is reported in Table 4. The efficiency is larger than at normal incidence. The results reported in this paper, which are mostly obtained with measurements at normal incidence, are thus conservative.

The effect of the hit duplication option on the efficiency was also studied [20]. No significant improvement of the efficiency was found (Table 4). The main purpose of this option however is to improve the spatial resolution rather than the detection efficiency. When the particle charge is shared between two hits the one which collects the smaller charge may be lost because of time-walk. This does not affect the efficiency very much, since the other hit is generally detected, but it affects the spatial resolution since only two-hit clusters allow for charge interpolation.

In Fig. 9 the fraction \(f\) of 2-hit clusters which have both hits with the same bunch crossing ID is reported as a function of time, for a run without hit duplication (dashed line), with duplication of the hits with a TOT lower than 5 bunch crossings (dotted line), and with duplication of the hits with a TOT lower than 10 bunch crossings (dashed-dotted line). The efficiency curve is also reported. The left picture correspond to the not irradiated module, while the right picture is obtained with an irradiated module.

From these curves it is possible to choose the clock phase, within the efficiency plateau, which maximizes \(f\). For the detectors shown in Fig. 9 the optimal timing is close to \(t_{0}=55\) ns. Without hit duplication, it corresponds to \(f\simeq 0.8\). The duplication of hits with a TOT lower than 10 bunch crossings allows to recover most of the remaining 20% of clusters which have one hit lost because of time-walk.

The effect of the clock phase on the spatial resolution is shown in Fig. 10. Here the cluster position was reconstructed using an analog charge interpolation as described in [21, 4]. As expected, the best spatial resolution is obtained when \(f\) is large. In Table 5 we report for \(t_{0}=55\) ns the detection efficiency, the fraction \(f\) of 2-hit clusters with both hits detected in the correct bunch crossing, the spatial resolution1), and the average number of pixel hits at \(10^{\circ}\) incidence angle.

Footnote 1: The telescope extrapolation uncertainty of about 6 \(\mu\)m has not been subtracted from this figures, which are thus conservative. See detailed discussion in [4].

Without hit duplication a spatial resolution of 9.0 \(\mu\)m and 11.8 \(\mu\)m is obtained for not irradiated and irradiated detectors respectively. By duplicating the hits with a TOT lower than 5 bunch crossings, the resolution can be improved to 8.4 \(\mu\)m and 10.9 \(\mu\)m for Figure 10: Spatial resolution as a function of time, for a not irradiated (left) and an irradiated (right) detector. The different marker sets refer to different hit duplication options. The tracking telescope extrapolation uncertainty (about 6 \(\mu\)m) has not been subtracted.

Figure 9: The pictures report, for a not irradiated (left) and an irradiated (right) module, the efficiency as a function of time as a solid line. The other lines report the fraction of 2-hit clusters which have both hits with the same bunch crossing ID, for different hit duplication options.

not irradiated and irradiated detectors respectively, i.e. by \(\approx 10\%\) after subtraction of telescope extrapolation uncertainty. In addition, hit duplication allows to have a nearly constant resolution for a wider range of clock phases. The price to pay is an increase of the occupancy. By duplicating the hits with a TOT lower than 5 bunch crossing, the occupancy is increased by about 5% for not irradiated detectors and 9% for irradiated detectors.

### Efficiency and charge collection vs bias voltage

The distribution of the charge measured by an irradiated module is reported for different values of the operating bias voltage in Fig. 11. The average charge is reported as a function of the bias voltage in Fig. 12. The detector reaches the maximum charge collection efficiency for a bias voltage of 500 V, indicating that full depletion has been reached at this value of the bias voltage.

The efficiency as a function of time for an irradiated module is reported in Fig. 13. For low values of bias voltage, the collected charge is small since the detector is not fully depleted. Hence the maximum efficiency is smaller. The effect of time-walk is also evident: when the collected charge is smaller the hits are detected later and the efficiency curve moves to the right. The peak efficiency is reported as a function of the bias voltage in Fig. 14. In agreement with the results on the collected charge, full efficiency is reached at 500 V when the detector is fully depleted.

## 5 Conclusions

The efficiency of ATLAS Pixel production modules has been measured with a 180 GeV pion beam at CERN. Before irradiation, the detector has an in-time detection efficiency of 99.9% at normal incidence. An efficiency larger than 99.93% has been measured at \(10^{0}\) incidence angle.

After irradiation to the fluence of \(1\times 10^{15}\) n\({}_{\rm eq}\)cm\({}^{-2}\)the detectors were operated at the testbeam with bias voltage up to 700 V with excellent noise performances. The number of pixel cells masked because they have a significant number of noise hits in the seven irradiated modules ranged from 0 to 129 over a total of 46080 pixel per module. The detection efficiency after irradiation was \((97.8\pm 0.7)\%\) (the error is the r.m.s. dispersion

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|} \hline module & hit dupl. & efficiency & \(f\) & \(\sigma\) & \(N\) \\  & & [ \% ] & [ \% ] & [\(\mu\)m] & \\ \hline
510929 & 0 & \(>\)99.93 & 82.5 & 9.0 & 1.97 \\
510929 & 5 & \(>\)99.94 & 92.5 & 8.4 & 2.08 \\
510929 & 10 & \(>\)99.94 & 98.5 & 8.4 & 2.34 \\ \hline
510852 & 0 & 98.4 & 78.8 & 11.8 & 1.58 \\
510852 & 5 & 98.3 & 95.2 & 10.9 & 1.72 \\
510852 & 10 & 98.4 & 98.5 & 10.9 & 2.00 \\ \hline \end{tabular}
\end{table}
Table 5: The table reports, for the not irradiated module 510929 and the irradiated module 510852, and for different thresholds for hit duplication (0 means no duplication), the following information: the detection efficiency (limits are computed at 95% confidence level), the fraction \(f\) of 2-hit clusters with both hits in the same bunch crossing, the spatial resolution (without subtraction of telescope extrapolation uncertainty), and the average number of pixel hits per event. The incidence angle was \(10^{\circ}\) and a clock phase between 54 ns and 56 ns was selected.

Figure 11: Distribution of the collected charge in the irradiated module 510910, for different values of the operating bias voltage.

Figure 12: Mean collected charge in the irradiated module 510852 as a function of the operating bias voltage.

Figure 14: Detection efficiency as a function of bias voltage for two irradiated modules.

Figure 13: Detection efficiency as a function of time in an irradiated module, for different values of the operating bias voltage.

of the values measured for the seven modules) for normal incidence and the operating bias voltage of 600 V.

The detection efficiency does not depend on the phase of the clock over an interval with a width of \((9.7\pm 1.1)\) ns for irradiated modules (13.9 ns for the not irradiated module). This value is much larger than the timing differences between the 16 front-end chip of a module and between the different types of pixels (standard, long and ganged) which are of the order of 2 ns.

The detection efficiency and charge collection have been studied as a function of the operating bias voltage for the irradiated modules. The maximum of collected charge and efficiency are reached at 500 V, demonstrating the detectors are already fully depleted at this bias voltage.

The effects of the hit duplication option on the detection efficiency, the spatial resolution and the pixel occupancy have also been studied. The duplication of hits with a TOT lower than 5 bunch crossings has negligible effects on the detection efficiency, but it improves the detector spatial resolution by \(\approx 10\%\). at the cost of an increase in the occupancy of 5% and 9% for un-irradiated and irradiated modules respectively.

## Acknowledgements

The production of the ATLAS Pixel Detector modules is the result of an effort involving the entire Pixel Collaboration. We want to thank the large number of collaborators who contributed to the success of the project and made these studies in a test beam possible.

## References

* (1) The ATLAS Inner Detector collaboration, Inner Detector Technical Design Report, CERN/LHCC 97-17 (1997).
* (2) The ATLAS Pixel Detector Collaboration, Pixel Detector Technical Design Report, CERN/LHCC 98-13 (1998).
* (3) M.S. Alam et al., Nucl. Instr. and Meth. A456 (2001) 217.
* (4) I. Gorelov et al., Nucl. Instr. and Meth. A481 (2002) 204.
* (5) I. Gorelov et al., Nucl. Instr. and Meth. A489 (2002) 202.
* (6) C. Gemme, Nucl. Instr. and Meth. A501 (2003) 87.
* (7) M. G. Sciveres, The ATLAS Pixel Detector, ATL-COM-INDET-2004-004.
* (8) A. Andreazza, Nucl. Instr. and Meth. A535 (2004) 357.
* (9) F. Huegging, The ATLAS Pixel Detector, arXiv:physics/0412138 (2004).
* (10) E. Mandelli et al., IEEE Trans. Nucl. Sci. 49 (2002) 1774.
* (11) L. Blanquart et al., IEEE Trans. Nucl. Sci. 49 (2002) 1778.
* (12) L. Blanquart et al., IEEE Trans. on Nucl. Sci. 51 (2004) 1358.
* (13) R. Becherle et al., Nucl. Instr. and Meth. A492 (2002) 117.
* (14) N. Wermes, Nucl. Instr. and Meth. A512 (2003) 277.
* (15) L. Rossi, Nucl. Instr. and Meth. A501 (2003) 239.
* (16) J. Treis et al., Nucl. Instr. and Meth.A490 (2004) 116.
* (17) G. Alimonti et al., Analysis of testbeam data of ATLAS Pixel detector modules with a high intensity pion beam, ATL-COM-INDET-2005-012.
* User Guide, ATL-INDET-2003-009.