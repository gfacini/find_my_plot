**ATLAS Collaboration** ATL-COM-MUON-2003-033

December 3, 2003

**Charge dependent corrections**

**to the time reponse of BIL chambers**

**at the Roma Tre cosmic test site**

**A.Baroncelli, P.Branchini, E.Cardelli, F.Petrucci, A.Tonazzo**

Dipartimento di Fisica "E.Amaldi", Universita degli Studi Roma Tre

and INFN, Sezione di Roma III

Via della Vasca Navale, 84 I-00146 Roma

**P.Bagnaia, P.Mastrandrea, E.Solfaroli**

Dipartimento di Fisica, Universita degli Studi "La Sapienza"

and INFN, Sezione di Roma

P.le Aldo Moro, 2 I-00185 Roma

**Abstract**

The latest version of MDT front-end electronics, which provides information about the collected charge through a Wilkinson ADC, has been used at the Roma Tre BIL cosmic test site. An analysis of the data collected with this electronics is presented.

A method to improve the spatial resolution of MDT chambers using the ADC information to correct the time response has been developed. The procedure is based solely on the data from the MDT chamber itself.

The results are compared with a simulation of the tube response with the Garfield program.

## 1 MDT read-out electronics

A detailed description of the Roma Tre cosmic test site and its Data Acquisition (DAQ) system is provided in [1].

The system is a VME based architecture. It consists of 3 Chamber Service Modules, CSM0, which read the events from the front-end L1 buffer of the Chamber TDCs and perform single chamber event building. The digitization task is accomplished on chamber where a single mezzanine hosts a 24 channel TDC, AMT3, and 3 octal ASDs whose task is to amplify, shape and discriminate the signal.

Charge information in each channel is obtained using a Wilkinson ADC.

The ASD [2] returns a time, which can be set to measure either time over threshold (_TOT mode_) or charge (_ADC mode_). For the results presented in this note, the latter option was used. In this case a gate, with programmable length, is opened when the signal crosses the threshold and a charge is integrated onto a capacitor in the gate width. The gate width is small with respect to the total duration of the signal, therefore only the initial part of the total charge is integrated. According to the standard Wilkinson method, the AMT3 measures the time of discharge of the capacitor by a random current. Both the value of the random current and the threshold defining the charge integration gate are programmable via a JTAG interface hosted on the CSM0. The time of discharge is therefore related to the charge via a function, which in the AMT3 is well reproduced by a logarithmic function [2].

## 2 Analysis of ADC data

Several data samples have been collected at the Roma Tre test site using the Wilkinson ADCs with different settings of threshold and rundown current. For the data presented

Figure 1: Left: typical ADC spectrum in one BIL tube. Right: typical drift spectrum in one BIL tube. The usual fit described in [1] is superimposed.

in this note, the AMT 3 parameters were set to the following values:

\begin{tabular}{|c c|c c|} \hline \multicolumn{2}{|c|}{TDC} & \multicolumn{2}{|c|}{ADC} \\ \hline Threshold & -38 mV & Gate & 23 ns \\ Hysteresis & 9.3 mV & \multicolumn{1}{c}{Rundown current} & 5.2 \(\mu\)A \\ \hline \end{tabular}

A typical ADC spectrum for a single channel and the corresponding TDC spectrum are shown in figure 1.

As mentioned in section 1, the relation between charge deposit and width is non-linear. This relation has been determined through a dedicated calibration, pulsing the mezzanine channels with signals of known charge: the result is shown in figure 2. The agreement with the nominal ADC parameters of [2] is quite good.

A spread of the order of 10% is expected [2] between the ADC reponse of the different channels. A distribution of the ADC peak position, obtained from a gaussian fit of the central region of the spectrum, in the 288 channels of one chamber is shown in figure 3: the observed spread is consistent with the expected one. The fitted peak positions were used to equalize the response of the different channels to the average value.

The average value of the ADC counts depends on the distance of the hit from the anode wire, and therefore on the drift time, as shown in figure 4. The average charge as a function of the drift time has been interpolated analytically, using Chebytchev polynomials.

The segmentation of the Roma Tre cosmic test site trigger gives the possibilty to select events in 6 sections of 48 cm length along the tube. The dependence of the average charge on the drift time for the 6 longitudinal sections is shown in figure 5 (left), together with the average ADC value as a function of the longitudinal position for fixed drift times

Figure 2: Conversion of charge to signal width (ADC counts). The points represent the values measured pulsing the mezzanine channels with signals of known charge, proportional to the voltage reported on the horizontal scale.

Figure 4: ADC counts as a function of the drift time. A parametrization of the average value with Chebytchev polynomials is superimposed.

Figure 3: Distribution of the ADC peak values in all channels of one BIL chamber.

impact parameter \(\delta\) of the track with respect to the wire, with the hit excluded from the track reconstruction:

\[\Delta t=t_{meas}-t(\delta).\]

The impact parameter is used as an estimator of the true hit radius.

Distributions of \(\Delta t\) as a function of \(ADC-\langle ADC(t_{meas})\rangle\) in some of the drift time intervals are presented in figure 6.

Figure 7 shows the correction factors \(c(r)\), determined with a linear fit of the average \(\Delta t\) versus \(ADC-\langle ADC(t_{meas})\rangle\), as a function of the hit radius. The correction factor has been interpolated with an analytical function of radius.

These corrections were then applied directly in the analysis program to the measured time of each hit, and the resolution was recomputed.

The width of the residuals distribution as a function of the drift time obtained before and after introducing the _time-slewing_ corrections is shown in figure 8. A clear improvement in the resolution is visible, mostly for hits close to the anode wire.

Figure 6: Correlated distributions of \(\Delta t\) as a function of \(ADC-\langle ADC(t_{meas})\rangle\) in different impact parameter intervals.

Figure 8: Resolution as a function of the track distance from the wire with (full points) and without (open points) the time slewing corrections for a cosmic ray data sample.

Figure 7: Slewing correction factor as a function of the hit radius. The points represent the values determined in each interval with the procedure described in the text, the continuos line is the analytical parametrization used for the correction.

## 4 Simulation of the ADC response

The response of the detector can be analysed using a full simulation of the MDT and its electronics. Garfield (currently version 7.04) [5] uses the program Heed to reproduce the ionization of the gas molecules by the muons which cross the tubes, and has an interface to the program Magboltz to compute the electron transport properties in the gas. Therefore it simulates the electron and ion drift in the gas, the avalanche, the signal creation and detection, and the transfer function of the electronics. For each muon the program records the time measured by the TDC and the amplitude of the charge, as measured by the Wilkinson ADC. The ADC gate is simulated by integrating the current in a time interval of variable length after the threshold crossing.

This method, which accounts for the fluctuations of the ionization, diffusion and electronics, allows to study the ADC performances as a function of the gate width. For this study, the length of the gate has been set to 23 ns, to match the value used for the measurements (section 2). The behaviour of the ADC has been reproduced by using the logarithm of the charge. In the following this quantity which, apart from an unknown overall constant factor, can be directly compared with the ADC measurement, will be referred to as the _log-charge_.

Fig. 9(left) and 9(right) show the signal for a sample of generated tracks which cross the MDT tube at 5 mm from the wire centre. Fig. 9(left) is the distribution of the ADC log-charge and fig. 9(right) the scatter plot of the TDC measured time versus the log-charge. Both the ADC and the TDC values have been subtracted by their average. The correlation between the two quantities is evident.

Fig. 10 represents the average value of the log-charge as a function of the distance \(r\) between the track and the wire centre. Its variation as a function of \(r\) is mainly due to the fluctuation of the drift time of the electrons. The dependence on \(r\) vanishes if the

Figure 9: ADC and TDC signal distributions for a sample of generated tracks which cross the MDT at 5 mm from the wire centre. Left: signal distribution of the ADC. Right: scatter plot of the difference between the ADC signal and its average versus the difference between the TDC time and its average.

## References

* [1] A.Baroncelli et al., _MDT BIL Chamber Tests in Roma Tre_, ATL-COM-MUON-2003-007.
* [2] Y.Arai, _BAMT-1 and 2 (Atlas Muon TDC version 1 and 2) User manual"_, [http://atlas.kek.jp/arai](http://atlas.kek.jp/arai); C.Posh, E.Hazen, J. Oliver, _MDT-ASD, CMOS front-end for ATLAS MDT_, ATL-MUON-2002-003.
* User Manual_, ATL-COM-MUON-2002-004.
* [4] C.Blocker, J.Huth, J.Oliver, _Noise Considerations for the ATLAS Muon Front-End Electronics_, ATL-MUON-95-080.
* [5] R.Veenhof, _GARFIELD : a drift chamber simulation program_, CERN program library W5050.

Figure 13: Resolution as a function of the track distance from the wire with (full points) and without (open points) the time slewing corrections for a sample of simulated tracks.