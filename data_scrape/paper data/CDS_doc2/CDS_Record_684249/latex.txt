# Measurement of amplifier pulse shapes

in SCT modules using a laser setup

Szymon Gadomski

CERN and INP Cracow

Pavel Reznicek

CERN and Charles University, Prague

September 21st, 2001

###### Abstract

We have developed a technique to measure the shape of an average pulse at an output of the front-end amplifier in the SCT binary electronics (ABCD chips) in response to a laser signal. Using the technique we can measure the pulse shapes for charges generated by a laser at various positions on detectors of SCT modules. The method can reveal changes of pulse shape, and potentially also a delay caused by signal propagation along the strips. We report our measurements done on one end-cap and one barrel module.

## 1 Introduction

Laser setups will be used as a part of Quality Assurance testing for SCT modules. It is planned that a fraction of the produced modules will be tested using such setups [1, 2]. One setup has already been built and is operational [3]. Several other module testing centers, including CERN, are expected to follow. The objective of laser testing of modules during production is to check for bonding errors.

A laser setup can also be used to measure properties of pulse propagation along the strips. This is not a part of QA procedure, but it is a subject of potential interest to the SCT, particularly in the case of the end-tap modules, where signals need to propagate up to 12 cm along the strips. A strip can be seen as a delay line with distributed resistance and capacitance. A large difference in pulse amplitude or timing, caused by signal propagation along the strips, could affect the efficiency for tracks. Some measurements done in early R&D times indicate that pulse propagation along the strips can have an influence on pulse shape and timing [4].

Pulse shapes are not directly observable in the integrated circuits of the front-end electronics normally used for strip detectors. Binary readout and data reductioncomplicate access to the pulse shape information further. We have developed a technique that enables one to measure an average pulse shape inside the SCT binary readout chips (ABCD chips) in response to a laser signal. The pulse is measured by scanning three parameters:

* threshold of the electronics,
* delay of the level 1 trigger with respect to the laser pulse,
* the phase of the laser pulse with respect to the clock of the electronics.

Scanning the threshold in binary electronics yields efficiency versus threshold curve, usually called an S-curve. The threshold that corresponds to 50% efficiency (vt50 point) can be obtained from a fit of the S-curve. The vt50 is an average value of the amplifier pulse at a given trigger delay and phase of the clock.

Changing the trigger delay (i.e. the slot in the ABCD pipeline) with respect to the laser pulse enables one to sample the average pulse in 25 ns steps. Changing the phase of the clock signal that is sent to the electronics with respect to the time of the laser pulse allows one to sample the pulse at smaller time steps and to interpolate between the points corresponding to different trigger delays.

This technique is similar to the approach already tried in SCT beam test off-line analysis [5], as well as in laboratory measurements done using the calibration circuit of the ABCD front-end [6]. Implementation of this approach in the laser setup requires a hardware delay unit for delaying the laser pulse by fractions of the 25 ns BCO clock. The delay in software could only be done in 25 ns steps using the trigger delay.

## 2 The measurement setup

A schematic diagram of the measurement setup is shown in Fig.1. The setup is based on the DAQ system that is the most widely used in the SCT for module testing [7]. The synchronization of the laser with the front-end electronics is done as in [3], with the DAQ generating the trigger for the laser. Detailed technical information, useful for setting up a laser for working together with a similar DAQ system, can be found at the web page [13].

Two different lasers were used. For getting the setup operational and for setting up of the correct synchronization a VCSEL diode emitting 850 nm wavelength [8] was used. The electronics driving the diode was built at CERN [9]. The diode was coupled to an optical fiber that conducted light to a mechanical attenuator. Another fiber was connecting the output of the attenuator to a lens focusing light on a detector. The attenuator allowed one to regulate the distance separating the ends of two fibers, thus controlling the amount of light reaching the detector. It was possible to bring the intensity of the signals from the detector into the range of thresholds of the ABCD electronics.

The signal from the VCSEL turned out to be rather unstable with time. The measured amplitude could change by factors of two within one minute unpredictably going up or down. The speed and random character of the variations seem to exclude temperature effects. We suspect the instability was due to the known problem of semiconductor diode lasers - hypersensitivity to back reflected light. We think using a Faraday isolator to block any light that might be reflected back is highly recommended for measurements with a solid state laser, wherever constant light output matters.

We have found much better (if still not perfect) stability with another solid state laser [10]. It shines light of 1060 nm wave length, which has the advantage of penetrating deep into silicon. Unlike for the 850 nm laser, which penetrates only a few microns into silicon, the charge generated by the 1060 nm laser is created uniformly across the entire depth of the silicon detector, resembling ionization from tracks more closely. All the measurements reported below were done using the 1060 nm laser.

The DAQ was producing a clock-synchronized trigger for the laser [13]. The signal passed through a NIM unit that could delay it by 2.5 to 66 ns, in a controlled way [11]. A discriminator and a pulse generator were used to produce a short pulse from the 75 ns logic pulse. The short pulse was then used to drive the laser diode. The laser pulse has about 4 ns width at half maximum. The rate of triggers in a burst was slowed by the DAQ software to allow about 2 ms between the laser pulses coming in a burst (one burst contained 1000 triggers).

The module was inside a large light-tight probe-station type. It enabled the operation of the module with detector covers removed from the housing. A temporary mechanical mounting enabled one to point the lens, which was at the end of the fiber, to different places on detector. A micrometric screw enabled regulation of the distance between the lens and the detector surface. There was no precise regulation of the relative lens and module position in any of the directions along the surface of the detectors. The mechanical mounting solution was a temporary arrangement. The ultimate laser setup used for the QA testing will have a moving stage to scan the laser pulse automatically across the detector surface.

## 3 Measured pulses

The measurements were done on two prototype modules:

* barrel type module, named RLT1, built at Rutherford Appleton Laboratory in 1999, equipped with ABCD2T chips,
* end-cap type module, named K3-169, built at the University of Liverpool early this year, equipped with ABCD3T chips.

The modules were not irradiated. Cooling liquid kept at 15\({}^{\circ}\)C was passing through tubes in the module boxes. The detector bias voltage was set to 100 V. Data compression mode 1 (X1X - hit in median time bin) was set. For every delay between the trigger and the laser pulse a threshold scan (mV) was done. The threshold corresponding to 50% efficiency (vt50) was calculated by fitting measured S-curves. The calculated vt50 points (in mV) were converted to corresponding charges using response curves. The response curves have been measured in the same conditions as pulse-shape measurement was done, individually for every channel. The charges were close to zero (absolute value less than 0.04 fC) for strips not hit by the laser. The vt50 points in fC for channels hit by laser are shown Fig.2 and 3 for RLT1 and K3-169 respectively.

The charges in the hit strips were summed. The ranges of channels from which the charges were added were chosen to cover all laser spots. Addition was done for channels 585 to 600 of link 0 for RLT1 and for channels 316 to 363 of link 0 for K3-169. Sums of vt50 values expressed in fC and plotted vs. the delay are the measured pulse shapes. The shapes for RLT1 and for K3-169 are shown in Fig.4 and 5 respectively.

Amplitudes of the measured pulses are affected by imperfections of our temporary mechanical arrangement. Changes of the position of the module led to changes of laser spot width. Re-focusing the laser again then gave different signal amplitudes. The amplitude of the measured signal carries no valuable information at the moment. We concentrate on pulse timing properties (changes of shape, delays) in our analysis of the results.

One measurement of pulse shape took about 3 hours. As a precaution against amplitude variations with time the data points were not measured in order of the time delay values. Instead the points that correspond to the same hardware delay setting, which are 25 ns apart, were taken in one series of measurements. The hardware delay value was then changed to measure another series of points at 25 ns intervals. The shortest step in delay was 2 ns for both measurements with RLT1 and for one measurement (position of laser spot 5.5 cm far from hybrid) with K3-169. During the other two measurements with K3-169 4 ns was the shortest step in delay.

To check possible changes in temperature, leakage current through the detector was monitored. While measuring pulse-shapes with the K3-169 module, the current grew from 830 nA to 870 nA, and with RLT1 module, the current grew from 3.0 uA to 3.5 uA. This indicates an increase of detector temperature of below one degree C during the measurement.

The function given to us by the designers of ABCD chips [12], describing the response of the amplifiers to a delta pulse is:

\[a(t)=-5.83\cdot 10^{-3}\cdot\exp(-5\cdot 10^{-3}\cdot t)+\] \[+[5.26\cdot 10^{-4}\cdot t^{2}+5.54\cdot 10^{-4}\cdot t+5.83\cdot 10^ {-3}]\cdot\exp(-0.1\cdot t)\]where \(t\) is time in ns. The input delta pulse is assumed to come at _t=0_. In order to describe our experimental data we needed to introduce three fit parameters: amplitude of the pulse, the start time of the pulse and the amplifier peaking time. The amplifier response function then becomes:

\[b(t)=A\cdot a\Bigg{(}19.1\cdot\frac{t-d}{Tp}\Bigg{)}\]

where \(A\) (amplitude) \(d\) (delay) and _Tp_ (peaking time of the electronics) are the three parameters of our fit.

Measurements of the timing properties of our laser pulse shape indicate that the intensity vs. time is well described with a Gauss curve with about 4 ns FWHM. The fit function was a convolution of such a distribution with our amplifier response function _b(t)_. We also notice that the negative part of the pulse does not appear to be well described by our theoretical description of the amplifiers. The measured pulses have less undershoot. In order not to bias the results we restrict the fit to times below 360 ns.

As explained above, the amplitude of the measured pulse has no absolute significance. The results of the fits for the other two parameters are summarized in Table 1.

The errors returned by the fit depend on the errors one assigns to the measured vt50 points. We estimated the errors from variations of measured vt50 values and we describe the error as having two components:

* a part proportional to the amplitude of the laser pulse, at the level of 5% of the measured signal
* a part independent of the measured signal, at the level of 1 mV.

\begin{table}
\begin{tabular}{|l|c|c|c|c|c|} \hline _Module_ & _Distance from laser spot to hybrid [cm]_ & _Delay [ns]_ & _Error on delay [ns]_ & _Peaking time [ns]_ \\ \hline _RLT1_ & 0.5 & 298.30 & 0.09 & 23.04 & 0.10 \\ \hline _RLT1_ & 5.5 & 298.44 & 0.12 & 22.90 & 0.13 \\ \hline _K3-169_ & 4.5 & 300.02 & 0.17 & 24.01 & 0.19 \\ \hline _K3-169_ & 5.5 & 300.26 & 0.14 & 23.85 & 0.16 \\ \hline _K3-169_ & 11.5 & 300.48 & 0.12 & 23.54 & 0.14 \\ \hline \end{tabular}
\end{table}
Table 1: - fitted delay and peaking time of pulse shapes in Figs. 2,3The two components were added in quadrature. The obtained precision is of the order of 0.1 to 0.2 ns both for the delay value and for the peaking time.

There is no significant difference between the fitted values of delay. We conclude therefore that within our accuracy there is no significant delay of the pulse that would be caused by pulse propagation along the strips. A change of pulse shape would be reflected by the fitted peaking time. We see no significant change of pulse shape either.

## 4 Conclusions

A technique to measure pulse shapes in ABCD chips was developed for a setup with a laser. Using the technique we can measure pulse shapes and pulse arrival times for charges generated with a laser at different distances from the bond wires. This measurement is sensitive to potential delays of pulses, or to changes of pulse shape, that could be caused by pulse propagation along the strips. We measure no significant effect related to the position of the generated charges in the two studied modules, one of barrel type and one of end-cap type.

## Acknowledgements

We thank the laboratories that have built the prototype modules that were available to us for this measurement: University of Liverpool and Particle Physics Department of the Rutherford Appleton Laboratory. We would also like to thank Gareth Moorhead for his documentation of the laser setup in Melbourne and for his advise. We thank Marcel Vos for interesting discussions about pulse shapes and for his analysis of beam test data, which was a source in inspiration for this measurement.

**References:**

[1] R.Apsimon et al. "SCT Barrel Module: Module QA", SCT Barrel Module FDR Document,

[http://atlasinfo.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/module/SCTSG](http://atlasinfo.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/module/SCTSG)

mod/FDR/SCT-BM-FDR-7-july11.pdf.

[2] Z. Dolezal, plans for QA testing of SCT end-cap modules, private communication.

[3] G. Moorhead, documentation of the laser setup in Melbourne,

[http://www.ph.unimelb.edu.au/epp/laser/laser.html](http://www.ph.unimelb.edu.au/epp/laser/laser.html)

[4] S. Gadomski, M. Turala et al., Pulse Shapes of Silicon Strip

Detectors as a Diagnostic Tool, Nucl. Instr. Meth. A326 (1993), 239.

[5] M. Vos, beam test analysis of the SCT,

[http://alpha.ific.uv.es/sct/activities/testbeam/analysis/analysis.html](http://alpha.ific.uv.es/sct/activities/testbeam/analysis/analysis.html)

[6] Heinz Pernegger, measurements of pulse shapes using calibration circuit on SCT modules, [http://perneg.web.cern.ch/perneg/pulses/pulse_shape_forbar.html](http://perneg.web.cern.ch/perneg/pulses/pulse_shape_forbar.html)

[7] ATLAS SCT Module/Hybrid Test DAQ

[http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testdaq/testdaq.html](http://atlas.web.cern.ch/Atlas/GROUPS/INNER_DETECTOR/SCT/testdaq/testdaq.html)

[8] 850 nm VCSEL by Honeywell, reference HFE4080-321.

[9] Alan Rudge, CERN, private communication.

[10] Maurice Glaser and Gennaro Rugiero, CERN, private communication.

[11] NIM-standard delay unit built by CERN-NP type N9053.

[12] Jan Kaplan, private communication.

[13] Web space of the laser setup [http://cern.ch/szymon/lasersetup/](http://cern.ch/szymon/lasersetup/)