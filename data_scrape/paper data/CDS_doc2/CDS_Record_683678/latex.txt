**ATLAS Internal Note**

**ATLAS-ELEC-XX**

15\({}^{\rm th}\) July 1998

**ATLAS Front-end Read-out Link Requirements**

**John Dowell\({}^{\rm a}\) and Mark Pearce\({}^{\rm b}\)**

**Abstract**

The purpose of this document is summarise ATLAS front-end read-out link architectures. Read-out links are used to transfer data from front-end electronics systems placed on detector to off-detector read-out drivers. The detector-specific information presented in this document has been obtained from the following set of 'link contacts'.

\begin{tabular}{c c}
**SCT** & Tony Weidberg \\
**Pixels** & Martin Holder \\
**TRT** & Peter Lichard \\
**LArg** & Mark Pearce \\
**Tiles** & Christian Bohm \\
**Muon trigger** & Emilio Petrolo \\ \end{tabular}

The dynamic nature of the opto-electronics industry and the different time-scales for the implementation of optical read-out links between ATLAS subdetectors means that the contents of this document are liable to change. As this document is intended to be a useful reference, such changes will be added to the document as appropriate and documented in full on the following page.

**Document History**

* Original version
*...

**The most current version of this document can be found in the 'Electronics' section of the ATLAS preprint server :**

[http://alice.cern.ch/ATLAS/](http://alice.cern.ch/ATLAS/)Introduction

The purpose of this document is to summarise ATLAS front-end read-out link architectures. Read-out links are used to transfer data from front-end electronics systems placed on detector to off-detector read-out drivers (ROD).

The detector-specific information presented in this document has been obtained from the 'link contact' (listed on the cover page) for each subdetector.

## 2 Link Overviews

In this section a general overview of the ATLAS front-end read-out links is given. A one page summary chart can be seen in figure 1.

### SCT and Pixels

The SCT consists of 4088 modules, each of which is read out by an opto-electronic board containing two data transmitters running at 40 Mb/s and one TTC receiver. The pixel detector requires a further 60% links. Bi-Phase mark encoding enables TTC data to be sent on the same fibre as the 40 MHz clock. As access to the SCT is very difficult, immunity to single point failure is an important feature. For the data links, redundancy is implemented by having a system in which two fibres read out the data from one SCT module. If one link fails then all the data can be re-routed through one fibre. Redundancy for the TTC link is provided by the possibility of providing TTC data to a module from the opto-board corresponding to the neighbouring module.

The baseline system uses a low mass silicon package with two radiation hard VCSEL's and one radiation hard silicon PIN diode. Both devices may also be sufficiently radiation hard for the pixel detector and will be radiation tested for this purpose. The VCSEL's replace GaAlAs LEDs as the choice for the emitter. The twelve output fibres from six SCT detector modules will be grouped into one connector and the six input fibres into another connector. It is planned that transmission to and from the ROD's will make use of 12-way fibre ribbons. There will be two breaks in the fibres for the barrel SCT and one for the forward SCT at which connections will be made using MT-connectors. The transition from radiation hard to radiation soft fibre will be made in the gap between the barrel and end-cap cryostats.

On the SCT detector structure, the links will be an integral part of the assembly. The fibres will be mounted on the electrical power tapes with opto-hybrids to hold the opto-electronic components and associated VCSEL driver and clock and control chips (LDC and DORIC) attached to the cooling pipes. This part of the project, which includes the production of a satisfactory optical package and the radiation and lifetime testing of the components, is therefore on the critical path. Similar methods will be adopted for the pixels.

R&D on the SCT links is planned to continue until the end of 1999. Production of the complete link system should be completed by the end of 2002.

Figure 1: Specification chart for ATLAS front-end read-out links. TBD means ‘to be decided’. Under the _fibre type_ heading, ‘rs’ means ‘radiation soft’ and ‘rh’ means radiation hard. Note that the muon trigger system also has read-out links. These are not included in this table as details are to preliminary. Refer to the text in section 2.5 for more details.

### Trt

The huge number (27 000) of detector to ROD links used by the TRT dictates the baseline choice of copper links. The use of optical links is however not ruled out if prices fall. As data is sent over the links in the same format as the SCT, the same links as the SCT could be used. Each copper link consists of about 100 m long shielded twisted pair. It runs at 440 Mb/s and uses LVDS signals. A repeater is installed in a patch panel located in the crack between the barrel and endcap calorimeters.

A complete link prototype system is expected for the end of 1999, with ordering starting in 2002.

### LArg

The baseline read-out solution for the liquid argon calorimeter is based around approximately 1600 unidirectional links. Data is sent across the links at a nominal speed of 1.28 Gb/s. The links will comprise VCSEL emitters coupled to GRIN MM fibres leading to PIN-diode receivers. The need for specialist radiation tolerant fibre has not yet been ruled out for the first 10 metres or so of the fibre run (ie: predominantly in the barrel/endcap crack region). No firm architecture choice has been made to date. At present, a serial solution is being pursued (considered more challenging) based around the 'G-link' serialiser chipset (HDMP-102x) from Hewlett Packard. The G-link word form at gives an effective data rate of 1.6 Gb/s as extra control and error bits are added to the ATLAS data words. The G-link serialisers are currently coupled to commercial transceiver units for evaluation purposes. A demonstrator link has been successfully constructed and runs for many days with no detectable errors. The radiation tolerance of the G-link/transceiver combination is currently being studied with neutrons and gammas with on-line data checking. The bulk of these tests should finish by the end of 1998. As well as qualifying the radiation tolerance of the links, another key milestone will be the implementation of the links in a realistic front-end electronics set-up during test-beam studies of the calorimeter in 1999. This will allow the effect of the high speed signals found in the serialiser on the detector preamplifiers to be studied. Prototype link production will commence in 2000 (radiation tolerant components) and production proper is scheduled for 2002.

### Tiles

The tile calorimeter plan to use 256 unidirectional links running over a distance of 80 m. The architecture is based around the S-LINK specifications, giving a FIFO-like data-link. Since the physical link is not pre-defined, the actual link implementation can be postponed to take advantage of market developments3. For this reason, the choice between a high speed serial link (256 single links running at 1.28 Gb/s) or slower parallel links (resulting in more fibres) has not yet been made. A decision is planned for mid-1999. A key milestone is to assess the radiation tolerance of standard S-LINK components.

Footnote 3: For more details see [http://www.cern.ch/HSI/s-link](http://www.cern.ch/HSI/s-link).

### Muon Trigger System

The muon spectrometer has four subdetectors : MDT's (barrel and endcap) and CSC's (far forward) for precision measurements, and RPC's (barrel) and TGC's (endcap) for triggering and determining the azimuthal co-ordinate. Only the two trigger systems have well defined link requirements. Two types of link are needed : read-out links (to ROD's in USA-15) and links for trigger information (to the trigger logic in USA-15).

The readout links are bi-directional and must support a data rate of 100 Mb/s off the detector. In order to be compatible with other ATLAS links, data could be bundled into Gb/s links. The data rate in the opposite direction is much less, but not well defined to date. The trigger links are unidirectional and operate at 2 Gb/s per link. As latency is a serious issue for these links fibres would need to be routed optimally.

A GaAs transceiver chip ('MATCH') operating at 960 Mb/s, was developed for use with the trigger links approximately 5 years ago. It has a number of undesirable features (ie : high power consumption, dual power lines and limited bandwidth), which mean it is likely to be superseded by a commercial solution. However, the MATCH chip is radiation tolerant.

Like the tile calorimeter, it is planned to use S-LINK specifications when developing link solutions for the muon trigger system.

## 3 Comments and Conclusions

There are a number of obvious common features between the front-end read-out links planned for each ATLAS subdetector. Firstly, every subdetector will only send digital information; secondly, all detectors using optical links plan to use VCSEL laser diodes as emitters; and, finally, each detector plans to use multimode optical fibre.

The development of links within ATLAS is being largely driven by the SCT and LArg detectors at present. The SCT link developments are centred around 'low speed' (40 Mb/s) links which need to be radiation hard (this is common to the pixel and TRT detectors), whereas the LArg links run at Gb/s and must be radiation tolerant (this is common to the tile, muon trigger links). For the tile and muon trigger links the current plan is to adopt S-LINK specifications which allows the physical link implementation to be postponed compared to the LArg time-scale4.

Footnote 4: Note that the G-link serialiser chips currently studied by the LArg group and the S-LINK _specification_ adopted by the tile and muon groups are only related by name. Comparing a G-link chip to a S-LINK is like comparing an apple to an apple pie since a S-LINK system can use G-link chips. The main reason for the difference in approach between the groups is that the LArg group had already decided on a data format and protocol, whereas the tiles and muon group chose to adopt that described in the S-LINK specification. Physical link components developed and tested for a S-LINK can be implemented outside of the S-LINK ‘wrapper’ and vice-versa.

For the SCT-type links, the major milestones are a full bi-directional system test late in 1998 with realistic mounting of the on-detector components, the satisfactory radiation testing and lifetime testing of all components including to the pixel level, and the satisfactory industrial mounting of the optical components.

For the LArg links, the main milestone to overcome is to understand whether a commercial radiation tolerant serialiser chip is available. Current studies are centred aroundthe Hewlett-Packard G-link chipset and results are expected to become finalised by the end of the year. Development of serialiser chips by the CMS E-cal group in collaboration with Honeywell based on a CHFET technology is being followed in case the G-link chips are unsuitable. At present commercial Gb transceivers are being used for the optical stage. The integrity of these devices in a high radiation environment is being thoroughly evaluated and alternate solution based on discrete laser driving circuitry and VCSEL's are also being pursued. There is also the option to spread the bandwidth across more links to reduce the complexity of the serialiser stage and make it easier to develop a radiation tolerant solution.

VCSEL's have emerged as cost-effective, highly efficient, radiation- hard, fast light sources over the past year or so. Although the same basic VCSEL chip can be used by all subdetectors, the final packaging requirements are different. For example, the inner detectors (pixels and SCT) require a specially made low mass packaging where the fibre is pigtailed directly to the VCSEL; other detectors are more likely to use standard packaging, such as the bayonet style ST-housing or the push-pull style SC-housing.

As a general rule, the installation of 'radiation-soft' fibres between the detectors and the read-out drivers should be a central responsibility. In this spirit, CERN co-ordinated pricing exercises are being performed for baseline fibre installations for the LArg and SCT detectors. Note that as the radiation levels in the cavern are not zero, these fibres will also need to be qualified with radiation tests.