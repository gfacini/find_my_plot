Neutron beam test of fan-out and clock jitter cleaner microchips for the ATLAS-Tho22-801 Small Wheel

Claudio Ferretti\({}^{1}\), Daniel S. Levin\({}^{*}\)1, Lorne Levinson\({}^{2}\), and Alexander Roich\({}^{2}\)

Footnote 1: contact author

\({}^{1}\) University of Michigan, Department of Physics, Ann Arbor, Michigan, 48109, USA.

\({}^{2}\) Weizmann Institute, Dept. of Physics, Rehovot, Israel.

## 1 Introduction

This report summarizes a neutron beam test of two microchips proposed for use in the ATLAS Muon system Phase 1 upgrade electronics. These chips are 1) the SY54020AR 1-to-4 fan-out [1] produced by the Microchip Co. and 2) the Si5344 jitter cleaner [2] produced by Silicon Labs. Both devices were tested in a manner similar to a previous test [3], and were staged at the Weapons Neutron Research (WNR) laboratory at the Los Alamos Neutron Science Center (LANSCE). The objective was to determine the Single Event Upset (SEU) failure modes and SEU rates of these two chips under conditions expected in the ATLAS Muon Spectrometer New Small Wheel (NSW) [4], specifically at the inner radius and the rim of the NSW, for high luminosity LHC (HL-LHC) operation. The test devices were mounted on evaluation PCB boards and brought to the WNR lab to be staged in a fast neutron beam. The staging site is known as the ICE House, flight path 30L. The test chips were located at the beam exit, approximately 20 m from a where an 800 MeV/c proton beam (from the LANSCE linear accelerator) collides in a thin tungsten target. The beam test period extended from 11:00 J amuary 5, 2018 to 11:00 January 9, 2018 for a total staging time of 96 hours during which the beam was active for 83\(\,\pm\,\)0.5 hours.

The motivation for using the jitter cleaner derives from ATLAS NSW FPGAs needing a serializer reference clock with jitter lower than provided by the GBTx system. The jitter cleaner chip, Si5344, would therefore be used on the NSW's Router and Pad Trigger boards. The device can be tested by monitoring the Xilinx iBERT panel on looped-back data. This jitter cleaner, manufactured in 55 nm CMOS, contains many configuration registers and a DSP filter. It could therefore, be susceptible to Singe Event Upsets that would cause clock glitches.

The fan-out chips fan-out signals to each of four trigger data serializer chips on the strip Front-end boards on each LHC bunch crossing. Each strip Front-end board receives trigger information from the Pad Trigger board as a serial stream via seven twin-ax ribbon cables at 640 Mb/s DDR. Each of the four trigger data serializer chips receives a dedicated signal specifying which of its stored data to send via its 4.8 Gb/s output link. The shared 320 MHz link clock, a packet frame and the bunch-crossing-id must be fanned-out to the four chips.

### ATLAS Radiation Environment

The primary means of SEU in ATLAS electronics are from proton interactions. Cavern background protons with energies of tens of MeV produce SEU's via the kinetic recoil of nuclear interactions with atoms in the host media. For this reason "high" energy neutrons are a suitable proxy for protons. Proton radiation levels expected in ATLAS were studied [5] for the anticipated dose rate conditions expected in Phase 2 high luminosity LHC operation at center of mass energy of 14 TeV and at luminosity of 5\(\times 10^{34}\) cm\({}^{-2}\)sec\({}^{-1}\). The relevant results from this study are reproduced in Table 1, where the proton flux is for E \(>\) 20 MeV. The weekly equivalent proton dose at the inner radius and outer rim, based on 1\(\times 10^{7}\) operational seconds per annum, are 2.54\(\times 10^{10}\) and 7.9\(\times 10^{8}\) n cm\({}^{-2}\) wk\({}^{-1}\), respectively.

### WNR neutron beam

As noted, the test set up was located approximately 20 m from a where an 800 MeV proton beam collides in a thin tungsten target. This distance ultimately determines the relative intensity of the beam with respect to other flight paths. The beam was collimated to 2.5 cm (1 inch) diameter, and was uniform over the covered area, as shown in Figure 1.

The differential neutron flux based on data from one of the days of running is shown in Figure 2. While the absolute uncertainty for a one day measurement was about 2%, day-to-day variations

\begin{table}
\begin{tabular}{l l l} \hline  & **Inner radius (R=1 m)** & **Outer Rim (R=5 m)** \\ \hline TID (\(\gamma\)) & 400 Gy & 16 Gy \\ NIEL (fast neutrons) & 2.3\(\times 10^{13}\) n/cm\({}^{2}\) & 7.3\(\times 10^{11}\) n/cm\({}^{2}\) \\ SEE (protons) & 4.2\(\times 10^{12}\) p/cm\({}^{2}\) & 1.3\(\times 10^{11}\) p/cm\({}^{2}\) \\ B field & \(\leq 1\) k G & 5 k G \\ \hline \end{tabular}
\end{table}
Table 1: Simulated Radiation Loads and Magnetic Fields, from [5] for the NSW after 10 years at high luminosity LHC.

Figure 1: Profile of the WNR ICE House 30L neutron beam. (provided by S. Wender, LANL)(RMS/mean) in the measured flux were 50%. The absolute fluxes above 10 MeV and 20 MeV cutoffs are obtained from the total neutron pulse counts measured using an event scaler and daily calibration constants, f(E)U\({}_{\rm 238}\), provided from WNR. The event scaler measured detected pulses in a scintillator detector feeding a pulse height analyzer. The signals derive from \({}^{\rm 238}\)U fission fragments from neutron impact. The pulse count is directly proportional to the neutron rate. For a scaler count of \(N_{count}\), the accumulated fluence, F, is: F = N\({}_{\rm count}\times\) f\({}_{\rm 238}\). The calibration factors for E \(>\) 10 MeV and E \(>\) 20 MeV were respectively: f(E \(>\) 10 MeV)U\({}_{\rm 238}\) = (1.720\(\pm\)0.09)\(\times\)10\({}^{5}\) n cm\({}^{-2}\) count\({}^{-1}\) and f(E \(>\) 20 MeV)U\({}_{\rm 238}\) = (1.38\(\pm\)0.09)\(\times\)10\({}^{5}\) n cm\({}^{-2}\) count\({}^{-1}\). The total time in which the test was staged in the beam extended from 11:30, January 5 to 11:30, January 9, for a total of 96 hours. Of these, the beam was disabled for 13\(\pm\) 0.5 hours yielding a total of 83\(\pm\)0.5 hours of high rate exposure. The cumulative scaler count was 1.7960\(\times\)10\({}^{6}\), corresponding to an average neutron flux (E \(>\) 20 MeV) of (2.99 \(\pm\) 0.2)\(\times\)10\({}^{9}\) n cm\({}^{-2}\) hr\({}^{-1}\), or (0.829 \(\pm\) 0.044)\(\times\)10\({}^{6}\) n cm\({}^{-2}\) s\({}^{-1}\). Total neutron fluences for E \(>\) 10 MeV and E \(>\) 20 MeV are reported in Table 2.

\begin{table}
\begin{tabular}{l l l} \hline E\({}_{\rm cutoff}\) & \(\geq\) 10 MeV & \(\geq\) 20 MeV \\ \hline total fluence [n cm\({}^{-2}\)] & 3.05 \(\pm\) 0.15\(\times\)10\({}^{11}\) & 2.49 \(\pm\) 0.15\(\times\)10\({}^{11}\) \\ inner radius [n cm\({}^{-2}\) wk\({}^{-1}\)] & **—** & 2.54\(\times\)10\({}^{10}\) / (10 ATLAS wks) \\ outer rim [n cm\({}^{-2}\) wk\({}^{-1}\)] & **—** & 7.9\(\times\)10\({}^{8}\) / (315 ATLAS wks) \\ \hline \end{tabular}
\end{table}
Table 2: Integral neutron fluences above energy cutoffs based on WNR spectra in Figure 2 for protons for E \(>\) 10 MeV and E \(>\) 20 MeV. The second and third rows report the expected proton rates at two NSW locations from [5], and the number of equivalent HL-LHC weeks of exposure provided by the WNR neutrons.

Figure 2: Differential neutron spectra covering the period January 5 to January 9. Note the large variability of the absolute rates. (RMS/mean) was about 50%

## 2 Staging of the test

The specific test location was the Irradiation of Chips Electronics (ICE House 1) on the 30\({}^{\circ}\) flight path (30L). Figures 4 and 4 show the setup and Figure 5 shows the approximate physical layout. Two 3 mm thin PCB evaluation boards contained the test microchips. The fan-out board contained four chips, while a single jitter cleaner chip was tested. The boards were mounted back-to-back, held together by masking tape, with a cardboard spacer between them. With the aid of a laser alignment system, the PCB configuration was oriented such that the 2.5 cm diameter beam was centered on the test chips with about 1 to 2 mm precision. All support electronics: cables, power supplies and Xilinx FPGA evaluations boards were located about 1 m from the beam. While there was some level of scattered background neutron radiation (a few mRem/hr) direct neutron irradiation from the beam to the support electronics was negligible.

## 3 Method

Both jitter cleaner and fan-out tests were conducted by mounting test devices directly in the neutron beam spot, and counting the frequency of data bit errors when exposed to the neutron flux. The specific tests are described in the subsections below. An image of the fan-out evaluation board is shown in Figure 6 and the jitter cleaner test board in Figure 7. The fan-out board contained four chips arranged on the corners of square about 1 cm on a side. The jitter cleaner is a single square shaped chip, about 5 mm on a side, and with a crystal oscillator timing reference alongside. These boards were taped together such the sensitive jitter cleaner microchip test device was coaxial with the center of the four fan-out chips. The neutron beam was collimated to 2.5 cm (1 inch) and visually centered on the jitter cleaner chip within 1 to 2 mm with a laser cross hair alignment system. The beam spot was flat to within a few percent so that all test units received the same exposure.

### Fan-out test

The fan-out test was conducted with a Xilinx ML605 FPGA evaluation board, controlled by the Chipscope analysis tool from the Xilinx IPCORE ISE design suite. The test consisted of sending a continuous clock signal to the four fan-out chips on a miniSAS type cable, and checking edges of the returned clock. A missing edge into a dedicated counter configured in the Chipscope Pro Analyzer on any of the four chips registers as an error for the specific chip. A diagram of this test is in Figure 8, and a captured screen image of the Chipscope tool is in Figure 9.

Figure 5: Layout of the test board setup in the beam area.

Figure 6: Fan-out test board Figure 7: Jitter cleaner evaluation test board.

Figure 8: Schematic of the fan-out test setup.

Figure 9: Screen image of the fan-out Chipscope analyzer.

### Jitter cleaner

The jitter cleaner test was run on one of four available channels of the Si5344 chip from Silicon Labs, and was conducted using a Xilinx KC701 FPGA evaluation board. The test consists of a random data stream generated on the FPGA transmitted via an internal loopback to receivers. When this transmitter to receiver communication link is established and the transmitter and receiver in the Xilinx are talking to each other, the receiver can recover the transmitter's clock from the transmitted data. This only works if the reference clock is within specified tolerances. The receiver produces a "recovered" clock by constantly adjusting the phase of the reference clock to match the high/low transitions in the data. It has some hysteresis since there are not always transitions for every bit clock in the data. A number of error modes were monitored - including missing bits, loss of lock of the transmit/receive links, or complete link loss. This link can fail for a number of reasons, including no reference clock, no input, no output, or insufficient transitions to recover a clock. A block diagram of the jitter cleaner test is shown in Figure 10.

## 4 Results

The results presented here are based, as noted above, on 83 hours of neutron beam exposure at hourly flux above 20 MeV of 2.99\(\times 10^{9}\) n cm\({}^{-2}\) hr\({}^{-1}\).

### Fan-out test

After initially running for about 5 hours, one of the fan-out chips (referred to as chip U55) registered a single error. After three days, (75 hours) two more SEU's occurred - one each on chips U56 and U58. Chip U57 had zero errors over the entire test period. Treating the ensemble of four chips as a single entity with independent error rates, there were a total of three errors for a combined exposure of \(4[\mathrm{chips}]\times 83[\mathrm{hours}]\times 2.99\times 10^{9}\) n cm\({}^{-2}\) hr\({}^{-1}=9.9\times 10^{11}\) n cm\({}^{-2}\).

Figure 10: Schematic of the jitter cleaner test setup. For the first two days of running, the AC701 was located on the beam side of the wall.

One caution should be expressed regarding this result. Although each error is considered to be independent, we note that two of them occurred within the same 73-minute interval within the total of 83 hours of run time period. If we assume that these three events are indeed uncorrelated and independent, how likely are they to "cluster" in this time interval? The observed SEU per hour of active beam is \(\mu=3/83=0.036\). The Poisson probability to observe two or more hits in a specific 73-minute (1.217-hour) interval is \(P(\mathrm{n}\geq 2)=1-\mathrm{e}^{1.217\mu}(1+1.217\mu)=9.4\times 10^{-4}\), or about 0.1%. However, there are 83/1.217 = 68.2 independent intervals, raising the total probability to 6.4%. While this is still somewhat low, it is not impossibly inconsistent with the last two registered fan-out clock edge errors to be truly independent.

### Jitter test

The jitter test ran for 43 beam-on hours with 7.5\(\times 10^{14}\) bits processed without an error. The first error registered as a loss of link to the jitter cleaner. The error bit rate increased at a constant rate of about 2.033 Gb/s, somewhat slower than the 4.8 Gb/s data transfer rate. This link loss necessitated that the links be re-established and reset. This is referred to here as a _hard_ error as it required external operation to reset the operation. The second link loss event occurred approximately 12 hours later. The symptoms were similar: the error bit rate increased at a constant rate (albeit different than the first rate) of 2.05 Gb/s. The remedy was also the same: re-establish and reset of the links. Because the FPGA was located in the same side of the room as the neutron beam - unprotected from the background scatters, it was moved to the far side of the protective shield as an added precaution against some errant SEU on the FPGA itself. After another approximately 12 hours, a third link-loss hard error occurred, indicating unambiguously that the error source was from the jitter cleaner, and not the FPGA. In total three such hard errors were observed for 2.49\(\times 10^{11}\) n cm\({}^{-2}\) exposure. Each error required a "hard" link reset.

## 5 Conclusion

Two microchips considered for use in the ATLAS NSW readout electronics were evaluated in the LANSCE WNR neutron test beam. Four clock fan-out/buffer chips registered a total of three errors, or 0.75 chip-errors in 2.49\(\times 10^{11}\) n cm\({}^{-2}\) exposure or 0.075 errors per week of equivalent ATLAS HL-LHC at the NSW inner rim region and 0.0024 errors per week at the outer rim. The combination of the low error rate and the benign nature of the observed faults suggest that this chip can be used for NSW applications. A second microchip - a clock jitter cleaner - registered a hard error rate of three errors in 2.49\(\times 10^{11}\) n cm\({}^{-2}\), 0.36 faults per week of equivalent ATLAS HL-LHC at the NSW inner radius region, and 0.01 hard failures per week at the outer rim. This rate is four times higher than the fan-out/buffer chip and the nature of the observed faults requires a hard reset. This chip should not be located in the high radiation inner radius region of the NSW.

## Acknowledgment

We are grateful to the kind assistance provided by Stephen Wender at LANSCE, Jon Ameel at the University of Michigan for software support, and Howell Mitchell of Silicon Labs for details about their jitter cleaner. This work is funded by the U.S. Department of Energy and the National Science Foundation.

## References

* [1] Microchip, "Low voltage CML 1:4 fan-out buffer", [http://www1.microchip.com/downloads/en/DeviceDoc/sy5/](http://www1.microchip.com/downloads/en/DeviceDoc/sy5/)
* [2] Silicon Labs, "Si5345/44/42 Rev D Data Sheet", [https://www.silabs.com/documents/public/data-sheets/Si5345-44-42-D-DataSheet.pdf](https://www.silabs.com/documents/public/data-sheets/Si5345-44-42-D-DataSheet.pdf)
* [3] K. Edgar _et al_, "Texas Instruments TPS7H1101-SP Fast Neutron Ir radiation Results", (2015) ATL-MUON-PUB-2015-002.pdf
* [4] ATLAS Collaboration, "New Small Wheel Technical Design Report", (2013) [https://cds.cern.ch/record/1552862/files/ATLAS-TDR-020.pdf](https://cds.cern.ch/record/1552862/files/ATLAS-TDR-020.pdf)
* [5] R. Edgar _et al_, "Radiation and Magnetic Field Environment for NSW Electronics", (2017) [https://edms.cern.ch/document/1470513/3](https://edms.cern.ch/document/1470513/3)